(window["canvasWebpackJsonp"]=window["canvasWebpackJsonp"]||[]).push([[29],{"5+Bo":function(t,e,n){"use strict"
n.r(e)
var r=n("71tw")
var o=n("9Uei")
var a=n.n(o)
n("Gtfj")
n("NhbT")
n("xw2z")
n("LCgA")
n("YTLx")
n("8MtL")
n("eYD6")
n("ujec")
n("I9W/")
n("5R7V")
n("Gy1R")
n("HF4P")
n("Xg8j")
n("a+My")
n("Rwab")
var i=n("Qirk")
tinymce.PluginManager.add("instructure-ui-icons",(function(t){const e={"align-center":i["A"],"align-left":i["E"],"align-right":i["D"],"list-bull-default":i["g"],"list-num-default":i["v"],bold:i["d"],image:i["n"],indent:i["o"],italic:i["p"],underline:i["H"],link:i["q"],video:i["b"],document:i["k"],"list-bull-circle":i["f"],"list-bull-square":i["i"],"list-num-upper-alpha":i["e"],"list-num-upper-roman":i["h"],"ordered-list":i["v"],lti:i["r"],outdent:i["w"],"remove-formatting":i["j"],"strike-through":i["z"],subscript:i["F"],superscript:i["G"],"text-color":{src:'<svg viewBox="7 7 1773 1920">\n      <g fill="none" fill-rule="evenodd">\n        <g fill="#2B3B46" fill-rule="nonzero">\n          <path id="tox-icon-text-color__color" d="M0 1920v-443.07692h1772.30769V1920z"/>\n          <path d="M736.526769.05907692h299.224611L1545.14215 1227.08677l-136.46769 56.56615-164.97231-397.587689H528.576L363.603692 1283.65292 227.136 1227.08677 736.526769.05907692zM835.332923 147.751385L589.868308 738.372923h592.541542L937.09292 147.751385H835.332923z" id="A"/>\n        </g>\n      </g>\n    </svg>'},"highlight-bg-color":{src:'<svg viewBox="0 0 1920 1920" version="1.1">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <path id="tox-icon-highlight-bg-color__color" fill="#2B3B46" d="M74 1918.14125 1841 1918.14125 1841 1469.14125 74 1469.14125z"/>\n          <path d="M1543.03014,312.225305 L1056.25966,861 L795,619.351719 L1335.45236,123.521776 C1343.65702,115.67377 1355.72958,114.736695 1363.23098,121.647625 L1541.15479,286.221467 C1548.53898,293.015262 1548.65619,305.19724 1543.03014,312.225305 L1543.03014,312.225305 Z M898.711011,994.448142 C836.706813,972.459128 767.201162,989.769628 721.489183,1038.89402 L701.094608,1061 L616,982.517932 L636.628996,960.294992 C681.989345,911.287561 694.179206,840.758966 667.220859,780.757027 C659.250565,762.627787 664.056183,740.638772 678.355828,726.95412 L708.830481,699 L979,948.481745 L952.393284,978.190307 C939.148531,994.565105 917.699064,1000.76414 898.711011,994.448142 L898.711011,994.448142 Z M598.157143,1171.267 L416,1171.618 L532.908571,1065.382 L621,1146.931 L598.157143,1171.267 Z M1620.96383,200.201811 L1443.1176,35.7209178 C1390.27923,-13.0965429 1307.56551,-11.4575874 1255.6644,38.0622828 L598.40662,641.080844 C547.442781,689.781237 532.212208,764.939054 560.330188,828.15591 C567.945475,845.013738 564.079252,866.203091 550.606054,880.602486 L492.261245,943.819342 L304.690887,1114.38778 C276.104274,1140.494 265.208557,1179.82894 276.221432,1216.8225 C287.234308,1253.93314 317.929769,1280.85884 365.37886,1287.6488 L649.136142,1288 L707.246634,1226.18796 L707.480951,1226.4221 L743.448533,1187.55544 L747.080439,1183.69219 L807.534096,1118.25104 C821.35877,1103.50044 842.09578,1098.23236 859.200884,1104.43698 C924.45803,1127.73356 998.267727,1106.77835 1041.49912,1053.98057 L1632.44533,387.979285 C1678.60569,331.43532 1673.56788,248.902203 1620.96383,200.201811 L1620.96383,200.201811 Z" id="Fill-1" fill="#2B3B46"/>\n        </g>\n      </svg>'},unlink:i["y"],"unordered-list":i["g"],ltr:i["B"],rtl:i["C"],"chevron-down":i["a"],fullscreen:i["m"],htmlview:{src:'<svg viewBox="0 0 24 24" font-size="16px" width="24" height="24" ">\n        <g role="presentation">\n          <text textAnchor="start" x="0" y="18px">\n            &lt;/&gt;\n          </text>\n        </g>\n      </svg>'},embed:{src:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.7647 5.21417C13.6694 5.21417 13.5773 5.23988 13.482 5.24631C12.8329 3.36281 11.0795 2 9 2C6.53506 2 4.52435 3.91029 4.28294 6.34234C4.09341 6.31127 3.90176 6.28556 3.70588 6.28556C1.66235 6.28556 0 7.96764 0 10.0354C0 12.1032 1.66235 13.7853 3.70588 13.7853L5 13.7853V12.7139L3.70588 12.7139C2.24682 12.7139 1.05882 11.5129 1.05882 10.0354C1.05882 8.55798 2.24682 7.35695 3.70588 7.35695C4.40259 7.35695 5.06012 7.62908 5.55882 8.12192L6.29894 7.35588C6.00565 7.0666 5.66788 6.84483 5.30894 6.66912C5.38941 4.67419 7.00835 3.07139 9 3.07139C11.0435 3.07139 12.7059 4.75347 12.7059 6.82126C12.7059 7.1491 12.6635 7.47266 12.582 7.78658L13.6059 8.06085C13.7107 7.65801 13.7647 7.24124 13.7647 6.82126C13.7647 6.64019 13.7308 6.4677 13.7118 6.29199C13.7298 6.29199 13.7467 6.28556 13.7647 6.28556C15.516 6.28556 16.9412 7.72765 16.9412 9.49973C16.9412 11.2718 15.516 12.7139 13.7647 12.7139L13 12.7139V13.7853L13.7647 13.7853C16.1005 13.7853 18 11.8632 18 9.49973C18 7.13624 16.1005 5.21417 13.7647 5.21417Z" fill="#2B3B46"/>\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.72039 10.6479L8.3603 11.1813L6.75882 13.1025L8.36029 15.0239L7.72038 15.5573L5.6748 13.1024L7.72039 10.6479ZM10.2802 10.6479L12.3258 13.1024L10.2802 15.5573L9.64031 15.0239L11.2418 13.1025L9.6403 11.1813L10.2802 10.6479Z" fill="#2D3B45"/>\n      </svg>'},buttons:{src:'\n        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">\n          <g fill="#2D3B45" clip-path="url(#clip0)">\n            <path fill-rule="evenodd" d="M.999993 11l.000001 6H6.99999v-6H.999993zm-.99999933 7H7.99999v-8H-.00000668l3.5e-7 8zM4 7c1.65685 0 3-1.34315 3-3S5.65685 1 4 1 1 2.34315 1 4s1.34315 3 3 3zm0 1c2.20914 0 4-1.79086 4-4S6.20914 0 4 0-3e-7 1.79086-3e-7 4 1.79086 8 4 8z" clip-rule="evenodd"/>\n            <path d="M12.5 10h1v8h-1v-8z"/>\n            <path d="M17 13.5v1H9v-1h8z"/>\n            <path fill-rule="evenodd" d="M13 0L8.66987 7.5h8.66023L13 0zm0 2l-2.5981 4.5h5.1962L13 2z" clip-rule="evenodd"/>\n          </g>\n          <defs>\n            <clipPath id="clip0">\n              <path fill="white" d="M0 0h18v18H0z"/>\n            </clipPath>\n          </defs>\n        </svg>\n      '}}
Object.keys(e).forEach(n=>{t.ui.registry.addIcon(n,e[n].src)})}))
var u=n("NFDp")
var c=function(t){const e=[{name:"alignleft",text:Object(u["a"])("Align left"),cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:Object(u["a"])("Align center"),cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:Object(u["a"])("Align right"),cmd:"JustifyRight",icon:"align-right"}]
const n=Object(u["a"])("Align")
t.ui.registry.addSplitButton("align",{tooltip:n,icon:"align-left",presets:"listpreview",columns:3,fetch:t=>{const n=e.map(t=>({type:"choiceitem",value:t.cmd,icon:t.icon,text:t.text}))
t(n)},onAction:()=>{const n=e.find(e=>t.formatter.match(e.name))
const r=n?n.cmd:"JustifyLeft"
t.execCommand(r)},onItemAction:(e,n)=>t.execCommand(n),select:n=>{const r=e.find(t=>t.cmd===n)
return t.formatter.match(r.name)},onSetup:r=>{const o=t.$(`.tox-split-button[aria-label="${n}"] .tox-icon`,document)
const a=t.ui.registry.getAll().icons
function i(){const n=e.find(e=>t.formatter.match(e.name))
const i=n?n.icon:"align-left"
const u=a[i]
r.setActive(!!n)
o.html(u)}i()
t.on("NodeChange",i)
return()=>t.off("NodeChange",i)}})}
function s(t){const e={tooltip:Object(u["a"])("Increase indent"),icon:"indent",onAction:()=>t.execCommand("indent")}
t.ui.registry.addButton("inst_indent",e)
t.ui.registry.addSplitButton("inst_outdent",{...e,presets:"listpreview",columns:3,fetch:t=>{t([{type:"choiceitem",icon:"outdent",text:Object(u["a"])("Decrease indent")}])},onItemAction:()=>t.execCommand("outdent"),onSetup:()=>{function n(n){t.$(`.tox-tbtn[aria-label="${e.tooltip}"]`,document)[n?"hide":"show"]()
t.$(`.tox-split-button[aria-label="${e.tooltip}"]`,document)[n?"show":"hide"]()}function r(){const e=t.queryCommandState("outdent")
n(e)}setTimeout(r)
t.on("NodeChange",r)
return()=>t.off("NodeChange",r)}})}const l=function(t,e,n){const r="UL"===e?"InsertUnorderedList":"InsertOrderedList"
t.execCommand(r,false,false===n?null:{"list-style-type":n})}
var v={applyListFormat:l}
const f=(t,e)=>t.$.contains(t.getBody(),e)
const d=t=>t&&/^(TH|TD)$/.test(t.nodeName)
const m=t=>e=>e&&/^(OL|UL|DL)$/.test(e.nodeName)&&f(t,e)
const g=t=>{const e=t.dom.getParent(t.selection.getNode(),"ol,ul")
if(e)return{listType:e.nodeName,listStyleType:t.dom.getStyle(e,"listStyleType")}}
var h={isTableCellNode:d,isListNode:m,getSelectedStyleType:g}
const p={"unordered-default":{listType:"UL",icon:"list-bull-default",text:Object(u["a"])("default bulleted unordered list")},circle:{listType:"UL",icon:"list-bull-circle",text:Object(u["a"])("circle unordered list")},square:{listType:"UL",icon:"list-bull-square",text:Object(u["a"])("square unordered list")},"ordered-default":{listType:"OL",icon:"list-num-default",text:Object(u["a"])("default numerical ordered list")},"upper-alpha":{listType:"OL",icon:"list-num-upper-alpha",text:Object(u["a"])("uppercase alphabetic ordered list")},"upper-roman":{listType:"OL",icon:"list-num-upper-roman",text:Object(u["a"])("uppercase Roman numeral ordered list")}}
function b(t,e){const n=h.getSelectedStyleType(e)
return n&&t.find(t=>{if("OL"===n.listType&&"ordered-default"===t&&!n.listStyleType)return true
if("UL"===n.listType&&"unordered-default"===t&&!n.listStyleType)return true
return t===n.listStyleType})}const y=(t,e)=>{const n=Array.prototype.findIndex.call(e.parents,h.isTableCellNode)
const r=-1!==n?e.parents.slice(0,n):e.parents
const o=tinymce.grep(r,h.isListNode(t))
return o.length>0&&("UL"===o[0].nodeName||"OL"===o[0].nodeName)}
const w=Object(u["a"])("Ordered and Unordered Lists")
function x(t){t.ui.registry.addSplitButton("bullist",{tooltip:w,icon:"unordered-list",presets:"listpreview",columns:3,fetch:t=>{const e=Object.keys(p).map(t=>{const{icon:e,text:n}=p[t]
return{type:"choiceitem",value:t,icon:e,text:n}})
t(e)},onAction:()=>{const e=p[b(Object.keys(p),t)]
const n=e&&"OL"==e.listType?"InsertOrderedList":"InsertUnorderedList"
t.execCommand(n)},onItemAction:(e,n)=>{const r=p[n]
const o="unordered-default"!==n&&"ordered-default"!==n&&n
v.applyListFormat(t,r.listType,o)},select:e=>!!b([e],t),onSetup:e=>{const n=t.$(`.tox-split-button[aria-label="${w}"] .tox-icon`,document)
const r=t.ui.registry.getAll().icons
const o=o=>{const a=y(t,o)
e.setActive(a)
let i=r["list-bull-default"]
if(a){var u
const e=b(Object.keys(p),t)
const n=r[null===(u=p[e])||void 0===u?void 0:u.icon]
void 0!==n&&(i=n)}n.html(i)}
o({parents:t.dom.getParents(t.selection.getNode(),"ol,ul")})
t.on("NodeChange",o)
return()=>t.off("NodeChange",o)}})}function C(t){const e={superscript:Object(u["a"])("Superscript"),subscript:Object(u["a"])("Subscript")}
Object.keys(e).forEach(n=>{const r="superscript"===n?"subscript":"superscript"
t.ui.registry.addSplitButton("inst_"+n,{presets:"listpreview",columns:3,tooltip:e[n],icon:n,fetch:t=>{t([{type:"choiceitem",icon:r,text:e[r]}])},onAction:()=>t.execCommand("mceToggleFormat",false,n),onItemAction:()=>t.execCommand("mceToggleFormat",false,r),onSetup(o){const a=t.$(`.tox-split-button[aria-label="${e[n]}"]`,document)
function i(){const e=t.formatter.match(n)
const i=e||"superscript"===n&&!t.formatter.match(r)
a[i?"show":"hide"]()
o.setActive(e)}i()
t.on("NodeChange",i)
return()=>t.off("NodeChange",i)}})})}var S=function(t){function e(){return document.dir}const n=[{name:"ltr",text:Object(u["a"])("Left-to-Right"),cmd:"mceDirectionLTR",icon:"ltr"},{name:"rtl",text:Object(u["a"])("Right-to-Left"),cmd:"mceDirectionRTL",icon:"rtl"}]
"rtl"===e()&&n.reverse()
t.ui.registry.addNestedMenuItem("directionality",{text:Object(u["a"])("Directionality"),getSubmenuItems:()=>[n[0].name,n[1].name]})
n.forEach(e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,onAction:()=>t.execCommand(e.cmd)})})}
tinymce.PluginManager.add("instructure_condensed_buttons",(function(t){[c,s,x,C,S].forEach(e=>e(t))}))
var O=n("dKDz")
var k=n.n(O)
var T=n("q1tI")
var _=n.n(T)
var z=n("i8i4")
var E=n.n(z)
var M=n("QV6e")
var D=function(t,e,r){return Promise.all([n.e(25),n.e(4125)]).then(n.bind(null,"yEDi")).then(n=>{const r=M["a"].activeEditor()
const o=n.default
let a=e.querySelector(".canvas-rce-equation-container")
if(!a){a=e.createElement("div")
a.className="canvas-rce-equation-container"
e.body.appendChild(a)}const i=()=>{E.a.unmountComponentAtNode(a)
t.focus(false)}
const c=t=>{r.insertMathEquation(t)}
E.a.render(_.a.createElement(o,{editor:t,label:Object(u["a"])("Equation Editor"),onModalDismiss:i,onModalClose:i,onEquationSubmit:c}),a)})}
function A(t,e){const n=e.createEvent("CustomEvent")
n.initCustomEvent("tinyRCE/initEquation",true,true,{ed:t})
e.dispatchEvent(n)}var R,H
function B(t){return"IMG"===t.tagName&&t.classList.contains("equation_image")||t.classList.contains("math_equation_latex")}if(null!==(R=ENV)&&void 0!==R&&null!==(H=R.FEATURES)&&void 0!==H&&H.new_equation_editor){tinymce.create("tinymce.plugins.InstructureEquation",{init(t){t.ui.registry.addIcon("equation",i["l"].src)
t.addCommand("instructureEquation",D.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_equation",{text:Object(u["a"])("Equation"),icon:"equation",onAction:()=>t.execCommand("instructureEquation")})
t.ui.registry.addToggleButton("instructure_equation",{tooltip:k()(Object(u["a"])({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"})),onAction:()=>t.execCommand("instructureEquation"),icon:"equation",onSetup(e){const n=t=>{e.setActive(B(t.element))}
t.on("NodeChange",n)
return()=>t.off("NodeChange",n)}})
t.ui.registry.addButton("instructure-equation-options",{onAction(){t.execCommand("instructureEquation")},text:Object(u["a"])("Edit Equation")})
t.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:B,scope:"node"})}})
tinymce.PluginManager.add("instructure_equation",tinymce.plugins.InstructureEquation)}else{tinymce.create("tinymce.plugins.InstructureEquation",{init(t){t.ui.registry.addIcon("equation",i["l"].src)
t.addCommand("instructureEquation",A.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_equation",{text:Object(u["a"])("Equation"),icon:"equation",onAction:()=>t.execCommand("instructureEquation")})
t.ui.registry.addToggleButton("instructure_equation",{tooltip:k()(Object(u["a"])({default:"Insert Math Equation",description:"Title for RCE button to insert a math equation"})),onAction:()=>t.execCommand("instructureEquation"),icon:"equation",onSetup(e){const n=t=>{e.setActive(B(t.element))}
t.on("NodeChange",n)
return()=>t.off("NodeChange",n)}})
t.ui.registry.addButton("instructure-equation-options",{onAction(){t.execCommand("instructureEquation")},text:Object(u["a"])("Edit Equation")})
t.ui.registry.addContextToolbar("instructure-equation-toolbar",{items:"instructure-equation-options",position:"node",predicate:B,scope:"node"})}})
tinymce.PluginManager.add("instructure_equation",tinymce.plugins.InstructureEquation)}var I=n("WRSb")
var L=n("DWdj")
var P=n("b5/e")
var N=n("17x9")
var V=n("Mmr1")
var F=n("Xx/m")
var j=n("msMH")
var U=n("TstA")
var W=n("Ci/e")
var q=n("hlkS")
var G=n("Mesd")
var $=n("587I")
var X=n("z7I/")
var K=n("CxY0")
const Y=["ftp:","http:","https:","mailto:","tel:","skype:"]
function J(t){const e=t.trim()
const n=Object(K["parse"])(e,false,true)
const r=n.protocol
if(r){if(r){if(!Y.includes(r))throw new Error(Object(u["a"])("{p} is not a valid protocol which must be ftp, http, https, mailto, skype, tel or may be omitted",{p:r.replace(/:$/,"")}))
if(/(?:ftp|http|https):\/\/.+/.test(e))return true
if(/(?:mailto|skype|tel):(\/\/)?[^/].*/.test(e))return true
if(/^(?:ftp|http|https):\/{0,1}[^/]/.test(e))throw new Error(Object(u["a"])("Invalid URL"))
return false}}else{if(":"===n.href[0])throw new Error(Object(u["a"])("Protocol must be ftp, http, https, mailto, skype, tel or may be omitted"))
if(/^\/\/$/.test(e))return false}return true}var Z=n("NVgN")
function Q(t){const{imageOptions:e,onEntered:n,onExited:r,onRequestClose:o,onSave:a,open:i}=t
const{naturalHeight:c,naturalWidth:s,isLinked:l}=e
const v=e.appliedHeight||c
const f=e.appliedWidth||s
const[d,m]=Object(T["useState"])(e.url)
const[g,h]=Object(T["useState"])(false)
const[p,b]=Object(T["useState"])(e.altText)
const[y,w]=Object(T["useState"])(e.isDecorativeImage)
const[x,C]=Object(T["useState"])("embed")
const[S,O]=Object(T["useState"])(e.imageSize)
const[k,z]=Object(T["useState"])(v)
const[E,M]=Object(T["useState"])(f)
const D=Object(G["b"])(e,{minHeight:q["b"],minWidth:q["d"],minPercentage:q["c"]})
function A(t){m(t)}function R(t){b(t.target.value)}function H(t){w(t.target.checked)}function B(t){C(t.target.value)}function I(t,e){O(e.value)
if(e.value===q["a"]){z(v)
M(f)}else{const{height:t,width:n}=Object(q["j"])(e.value,s,c)
z(t)
M(n)}}function L(t){t.preventDefault()
const e=y?"":p
let n=k
let r=E
if(S===q["a"])if(D.usePercentageUnits){n=D.percentage+"%"
r=D.percentage+"%"}else{n=D.height
r=D.width}a({url:d,altText:e,appliedHeight:n,appliedWidth:r,displayAs:x,isDecorativeImage:y})}Object(T["useEffect"])(()=>{let t
try{t=J(d)}catch(e){t=false}finally{h(!t||Object(X["b"])(d))}},[])
const P=[]
S!==q["a"]&&P.push({text:Object(u["a"])("{width} x {height}px",{height:k,width:E}),type:"hint"})
const N=""===d||"embed"===x&&(!y&&""===p||S===q["a"]&&!(null!==D&&void 0!==D&&D.isValid))
return _.a.createElement(W["a"],{"data-mce-component":true,label:Object(u["a"])("Image Options Tray"),onDismiss:o,onEntered:n,onExited:r,open:i,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},_.a.createElement(U["a"],{direction:"column",height:Object(X["a"])()},_.a.createElement(U["a"].Item,{as:"header",padding:"medium"},_.a.createElement(U["a"],{direction:"row"},_.a.createElement(U["a"].Item,{grow:true,shrink:true},_.a.createElement(j["a"],{as:"h2"},Object(u["a"])("Image Options"))),_.a.createElement(U["a"].Item,null,_.a.createElement(V["a"],{placemet:"static",variant:"icon",onClick:o},Object(u["a"])("Close"))))),_.a.createElement(U["a"].Item,{as:"form",grow:true,margin:"none",shrink:true},_.a.createElement(U["a"],{justifyItems:"space-between",direction:"column",height:"100%"},_.a.createElement(U["a"],{direction:"column"},g&&_.a.createElement(U["a"].Item,{padding:"small"},_.a.createElement(Z["default"],{fileUrl:d,setFileUrl:A})),_.a.createElement($["a"],{id:"image-options-form",imageSize:S,displayAs:x,isDecorativeImage:y,altText:p,isLinked:l,dimensionsState:D,handleAltTextChange:R,handleIsDecorativeChange:H,handleDisplayAsChange:B,handleImageSizeChange:I,messagesForSize:P})),_.a.createElement(U["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},_.a.createElement(F["a"],{disabled:N,onClick:L,variant:"primary"},Object(u["a"])("Done")))))))}Q.propTypes={imageOptions:Object(N["shape"])({altText:N["string"].isRequired,appliedHeight:N["number"],appliedWidth:N["number"],isDecorativeImage:N["bool"].isRequired,isLinked:N["bool"],naturalHeight:N["number"].isRequired,naturalWidth:N["number"].isRequired}).isRequired,onEntered:N["func"],onExited:N["func"],onRequestClose:N["func"].isRequired,onSave:N["func"].isRequired,open:N["bool"].isRequired}
Q.defaultProps={onEntered:null,onExited:null}
const tt="instructure-image-options-tray-container"
class et{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(tt)
if(null==t){t=document.createElement("div")
t.id=tt
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._editor=t
this.$img=t.selection.getNode()
this._shouldOpen=true
M["a"].focusedEditor&&M["a"].hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyImageOptions(t){const e=this._editor
const{$img:n}=this
if("embed"===t.displayAs){n.setAttribute("alt",t.altText)
e.dom.setAttribs(n,{src:t.url,role:t.isDecorativeImage?"presentation":null,width:t.appliedWidth,height:t.appliedHeight})
e.fire("ObjectResized",{target:n,width:t.appliedWidth,height:t.appliedHeight})}else{const r=Object(P["c"])({href:n.src,text:t.altText||n.src,target:"_blank"})
e.selection.setContent(r)}this._dismissTray()
e.focus()}_dismissTray(){this._shouldOpen=false
this._renderTray()
this.$img=null
this._editor=null}_renderTray(){this._shouldOpen&&this._renderId++
const t=Object(I["e"])(this.$img)
t.isLinked="A"===this._editor.selection.getSel().anchorNode.tagName
const e=_.a.createElement(Q,{key:this._renderId,imageOptions:t,onEntered:()=>{this._isOpen=true},onExited:()=>{M["a"].focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyImageOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
E.a.render(e,this.$container)}}var nt=function(t,e,r){return Promise.all([n.e(25),n.e(89),n.e(134)]).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let o=e.querySelector(".canvas-rce-upload-container")
if(!o){o=e.createElement("div")
o.className="canvas-rce-upload-container"
e.body.appendChild(o)}const a=()=>{E.a.unmountComponentAtNode(o)
t.focus(false)}
E.a.render(_.a.createElement(n,{accept:"image/*",editor:t,label:Object(u["a"])("Upload Image"),panels:["COMPUTER","UNSPLASH","URL"],onDismiss:a,trayProps:r}),o)})}
var rt=n("0k/6")
const ot="course_images"
const at="user_images"
const it="group_images"
const ut=new et
function ct(t){var e
const n=null===(e=t.settings.canvas_rce_user_context)||void 0===e?void 0:e.type
const r=[{text:Object(u["a"])("Upload Image"),value:"instructure_upload_image"}]
"course"===n?r.push({text:Object(u["a"])("Course Images"),value:"instructure_course_image"}):"group"===n&&r.push({text:Object(u["a"])("Group Images"),value:"instructure_group_image"})
r.push({text:Object(u["a"])("User Images"),value:"instructure_user_image"})
return r}function st(t,e){switch(e){case"instructure_upload_image":t.execCommand("mceInstructureImage")
break
case"instructure_course_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,ot)
break
case"instructure_group_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,it)
break
case"instructure_user_image":t.focus(true)
t.execCommand("instructureTrayForImages",false,at)}}tinymce.create("tinymce.plugins.InstructureImagePlugin",{init(t){t.addCommand("mceInstructureImage",nt.bind(this,t,document))
t.addCommand("instructureTrayForImages",(e,n)=>{M["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_image",{text:Object(u["a"])("Image"),icon:"image",getSubmenuItems:()=>ct(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>st(t,e.value),onSetup:e=>{e.setDisabled(!Object(L["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_image",{tooltip:Object(u["a"])("Images"),icon:"image",fetch(e){const n=ct(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||st(t,"instructure_upload_image")},onItemAction:(e,n)=>st(t,n),onSetup(e){function n(n){e.setDisabled(!Object(L["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
function e(t){return!t.classList.contains("equation_image")&&Object(I["k"])(t)&&!t.getAttribute(rt["a"])}const n=Object(u["a"])("Show image options")
t.ui.registry.addButton("instructure-image-options",{onAction(){ut.showTrayForEditor(t)},text:Object(u["a"])("Image Options"),tooltip:n})
t.ui.registry.addContextToolbar("instructure-image-toolbar",{items:"instructure-image-options",position:"node",predicate:e,scope:"node"})},remove(t){ut.hideTrayForEditor(t)}})
tinymce.PluginManager.add("instructure_image",tinymce.plugins.InstructureImagePlugin)
var lt=function(t,e,n){const r=e.createEvent("CustomEvent")
r.initCustomEvent("tinyRCE/initExternalTools",true,true,{ed:t,url:n})
e.dispatchEvent(r)}
function vt(t,e){return n.e(3716).then(n.bind(null,"DiQt")).then(({LtiToolsModal:n})=>{let r=document.querySelector(".canvas-rce-upload-container")
if(!r){r=document.createElement("div")
r.className="canvas-rce-upload-container"
document.body.appendChild(r)}const o=()=>{E.a.unmountComponentAtNode(r)
t.focus()}
E.a.render(_.a.createElement(n,{editor:t,onDismiss:o,ltiButtons:e}),r)})}tinymce.create("tinymce.plugins.InstructureExternalTools",{init(t,e){document.addEventListener("tinyRCE/onExternalTools",e=>{vt(t,e.detail.ltiButtons)})
t.ui.registry.addIcon("lti",i["r"].src)
lt(t,document,e)},icon:"lti"})
tinymce.PluginManager.add("instructure_external_tools",tinymce.plugins.InstructureExternalTools)
var ft=n("eHui")
var dt=n("n/1O")
const mt=(t,e,n,r)=>{let o=t&&M["a"].uploadMediaTranslations.UploadMediaStrings.UPLOADING_ERROR
"FileSizeError"===(null===t||void 0===t?void 0:t.name)&&(o=Object(u["a"])("Size of caption file is greater than the maximum {max} kb allowed file size.",{max:t.maxBytes/1e3}))
const a=M["a"].activeEditor()
let i
if(r){i=a.editor.selection.getBookmark(2,true)
a.editor.selection.moveToBookmark(r)}n(o,e)
i&&a.editor.selection.moveToBookmark(i)}
var gt=function(t,e){return Promise.all([n.e(25),n.e(64),n.e(4180)]).then(n.bind(null,"JobW")).then(n=>{const r=n.default
let o=e.querySelector(".canvas-rce-media-upload")
if(!o){o=e.createElement("div")
o.className="canvas-rce-media-upload"
e.body.appendChild(o)}const a=()=>{E.a.unmountComponentAtNode(o)
t.focus(false)}
let i=null
const u=e=>{var n
M["a"].focusEditor(t.rceWrapper)
const r=M["a"].activeEditor()
i=null===r||void 0===r||null===(n=r.editor)||void 0===n?void 0:n.selection.getBookmark(2,true)
M["a"].insertImagePlaceholder(e)
a()}
const c=M["a"].trayProps.get(t)
E.a.render(_.a.createElement(ft["a"],c,n=>_.a.createElement(r,{rcsConfig:{contextType:t.settings.canvas_rce_user_context.type,contextId:t.settings.canvas_rce_user_context.id,origin:Object(dt["c"])(n.host),headers:Object(dt["b"])(n.jwt)},languages:M["a"].languages,open:true,liveRegion:()=>e.getElementById("flash_screenreader_holder"),onStartUpload:t=>u(t),onUploadComplete:(t,e)=>mt(t,e,n.mediaUploadComplete,i),onDismiss:a,tabs:{record:true,upload:true},uploadMediaTranslations:M["a"].uploadMediaTranslations})),o)})}
var ht=n("G1G5")
var pt=n("sTNg")
var bt=n("4LsN")
const yt=()=>document.getElementById("flash_screenreader_holder")
function wt({open:t,onEntered:e,onExited:n,onDismiss:r,onSave:o,trayProps:a,audioOptions:i}){const[c,s]=Object(T["useState"])(i.tracks||[])
const l=(t,e)=>{o({media_object_id:i.id,subtitles:c,updateMediaObject:e.updateMediaObject})}
return _.a.createElement(ft["a"],a,o=>_.a.createElement(W["a"],{key:"audio-options-tray","data-mce-component":true,label:Object(u["a"])("Audio Options Tray"),onDismiss:r,onEntered:e,onExited:n,open:t,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},_.a.createElement(U["a"],{direction:"column",height:Object(X["a"])()},_.a.createElement(U["a"].Item,{as:"header",padding:"medium"},_.a.createElement(U["a"],{direction:"row"},_.a.createElement(U["a"].Item,{grow:true,shrink:true},_.a.createElement(j["a"],{as:"h2"},Object(u["a"])("Audio Options"))),_.a.createElement(U["a"].Item,null,_.a.createElement(V["a"],{placement:"static",variant:"icon",onClick:r},Object(u["a"])("Close"))))),_.a.createElement(U["a"].Item,{as:"form",grow:true,margin:"none",shrink:true},_.a.createElement(U["a"],{justifyItems:"space-between",direction:"column",height:"100%"},_.a.createElement(U["a"].Item,{grow:true,padding:"small",shrink:true},_.a.createElement(U["a"],{direction:"column"},_.a.createElement(U["a"].Item,{padding:"small"},_.a.createElement(pt["b"],{description:Object(u["a"])("Closed Captions/Subtitles")},_.a.createElement(bt["default"],{subtitles:c.map(t=>({locale:t.locale,file:{name:t.language||t.locale}})),uploadMediaTranslations:M["a"].uploadMediaTranslations,languages:M["a"].languages,updateSubtitles:t=>s(t),liveRegion:yt}))))),_.a.createElement(U["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},_.a.createElement(F["a"],{onClick:t=>l(t,o),variant:"primary"},Object(u["a"])("Done"))))))))}wt.propTypes={onEntered:N["func"],onExited:N["func"],onDismiss:N["func"],onSave:N["func"],open:N["bool"].isRequired,trayProps:Object(N["shape"])({host:N["string"].isRequired,jwt:N["string"].isRequired}).isRequired,audioOptions:Object(N["shape"])({id:N["string"].isRequired,titleText:N["string"].isRequired,tracks:Object(N["arrayOf"])(Object(N["shape"])({locale:N["string"].isRequired}))}).isRequired}
wt.defaultProps={onEntered:null,onExited:null,onDismiss:null,onSave:null}
const xt="instructure-audio-options-tray-container"
class Ct{constructor(){this._isOpen=false
this._shouldOpen=false
this._editor=null
this._audioContainer=null}get container(){let t=document.getElementById(xt)
if(null==t){t=document.createElement("div")
t.id=xt
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._shouldOpen=true
this._editor=t
this._audioContainer=Object(I["g"])(t.selection.getNode())
M["a"].focusedEditor&&M["a"].hideTrays()
const e=M["a"].trayProps.get(t)
this._renderTray(e)}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_dismissTray(){this._audioContainer&&this._editor.selection.select(this._audioContainer)
this._resetController()}_resetController(){this._shouldOpen=false
this._renderTray()
this._editor=null
this._audioContainer=null
const t=document.getElementById(xt)
return t.parentNode.removeChild(t)}_applyAudioOptions(t){if(!t.media_object_id||"undefined"===t.media_object_id)return
const e=this._audioContainer
return t.updateMediaObject({media_object_id:t.media_object_id,subtitles:t.subtitles}).then(()=>null===e||void 0===e?void 0:e.contentWindow.location.reload()).catch(t=>{console.error("Failed updating audio captions",t)})}_renderTray(t){let e={}
this._shouldOpen&&(e=Object(I["d"])(this._audioContainer))
const n=_.a.createElement(wt,{audioOptions:e,onEntered:()=>{this._isOpen=true},onExited:()=>{M["a"].focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyAudioOptions(t)
this._dismissTray()},onDismiss:()=>this._dismissTray(),open:this._shouldOpen,trayProps:t})
E.a.render(n,this.container)}}const St=new ht["c"]
const Ot=new Ct
const kt="course_media"
const Tt="user_media"
const _t="group_media"
function zt(t){const e=t.settings.canvas_rce_user_context.type
const n=[]
t.getParam("show_media_upload")&&n.push({text:Object(u["a"])("Upload/Record Media"),value:"instructure_upload_media"})
"course"===e?n.push({text:Object(u["a"])("Course Media"),value:"instructure_course_media"}):"group"===e&&n.push({text:Object(u["a"])("Group Media"),value:"instructure_group_media"})
n.push({text:Object(u["a"])("User Media"),value:"instructure_user_media"})
return n}function Et(t,e){switch(e){case"instructure_upload_media":t.execCommand("instructureRecord")
break
case"instructure_course_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,kt)
break
case"instructure_group_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,_t)
break
case"instructure_user_media":t.focus(true)
t.execCommand("instructureTrayForMedia",false,Tt)}}tinymce.create("tinymce.plugins.InstructureRecord",{init(t){t.addCommand("instructureRecord",gt.bind(this,t,document))
t.addCommand("instructureTrayForMedia",(e,n)=>{M["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_media",{text:Object(u["a"])("Media"),icon:"video",getSubmenuItems:()=>zt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>Et(t,e.value),onSetup:e=>{e.setDisabled(!Object(L["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_record",{tooltip:Object(u["a"])("Record/Upload Media"),icon:"video",fetch(e){const n=zt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){if(!e.isDisabled()){const e=zt(t)[0].value
Et(t,e)}},onItemAction:(e,n)=>Et(t,n),onSetup(e){function n(n){e.setDisabled(!Object(L["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
const e=Object(u["a"])("Show video options")
t.ui.registry.addButton("instructure-video-options",{onAction(){St.showTrayForEditor(t)},text:Object(u["a"])("Video Options"),tooltip:e})
t.ui.registry.addContextToolbar("instructure-video-toolbar",{items:"instructure-video-options",position:"node",predicate:I["l"],scope:"node"})
t.ui.registry.addButton("instructure-audio-options",{onAction(){Ot.showTrayForEditor(t)},text:Object(u["a"])("Audio Options"),tooltip:Object(u["a"])("Show audio options")})
t.ui.registry.addContextToolbar("instructure-audio-toolbar",{items:"instructure-audio-options",position:"node",predicate:I["i"],scope:"node"})},remove(t){Ot.hideTrayForEditor(t)
St.hideTrayForEditor(t)}})
tinymce.PluginManager.add("instructure_record",tinymce.plugins.InstructureRecord)
var Mt=n("L+/K")
var Dt=n("WEeK")
var At=n("Dibh")
var Rt=n("n12J")
const Ht="create"
const Bt="edit"
function It(t){const[e,n]=Object(T["useState"])(t.text||"")
const[r,o]=Object(T["useState"])(t.url||"")
const[a,i]=Object(T["useState"])(null)
const[c,s]=Object(T["useState"])(false)
Object(T["useEffect"])(()=>{try{const t=J(r)
s(t)
i(null)}catch(t){s(false)
i(t.message)}},[r])
function l(n){n.preventDefault()
if(!r)return
const o=e.trim()||r
t.onSave({text:o,target:"_blank",href:r,userText:t.showText,class:"inline_disabled",forceRename:true})}function v(t){n(t.target.value)}function f(t){o(t.target.value)}const d=t.operation===Ht?Object(u["a"])("Insert Link"):Object(u["a"])("Edit Link")
return _.a.createElement(At["a"],{"data-testid":"RCELinkOptionsDialog","data-mce-component":true,as:"form",label:d,onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,onSubmit:l,open:t.open,shouldCloseOnDocumentClick:true,shouldReturnFocus:false,size:"medium"},_.a.createElement(At["a"].Header,null,_.a.createElement(V["a"],{offset:"medium",placement:"end",screenReaderLabel:Object(u["a"])("Close"),onClick:t.onRequestClose}),_.a.createElement(j["a"],null,d)),_.a.createElement(At["a"].Body,null,t.showText&&_.a.createElement(Rt["a"],{as:"div",margin:"small"},_.a.createElement(Dt["a"],{renderLabel:Object(u["a"])("Text"),name:"linktext",onChange:v,value:e})),_.a.createElement(Rt["a"],{as:"div",margin:"small"},_.a.createElement(Dt["a"],{renderLabel:Object(u["a"])("Link"),name:"linklink",onChange:f,value:r})),a&&_.a.createElement(Rt["a"],{as:"div",margin:"small","data-testid":"url-error"},_.a.createElement(Mt["a"],{variant:"error"},a))),_.a.createElement(At["a"].Footer,null,_.a.createElement("input",{type:"submit",style:{display:"none"}}),_.a.createElement(F["a"],{onClick:t.onRequestClose,margin:"0 small",color:"secondary"},Object(u["a"])("Close")),_.a.createElement(F["a"],{disabled:!(r&&c),onClick:l,color:"primary"},Object(u["a"])("Done"))))}It.propTypes={text:N["string"],url:N["string"],operation:Object(N["oneOf"])([Ht,Bt]),onEntered:N["func"],onExited:N["func"],onRequestClose:N["func"].isRequired,onSave:N["func"].isRequired,open:N["bool"].isRequired,showText:N["bool"]}
It.defaultProps={onEntered:null,onExited:null,showText:true}
const Lt="instructure-link-options-tray-container"
const Pt="create"
const Nt="edit"
class Vt{constructor(){this._dismissDialog=()=>{this._shouldOpen=false
this._renderDialog()}
this._hasClosed=()=>{M["a"].focusActiveEditor(false)
this._isOpen=false
this._editor.focus(false)
this._editor=null}
this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById(Lt)
if(null==t){t=document.createElement("div")
t.id=Lt
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showDialogForEditor(t,e){this._editor=t
this._shouldOpen=true
this._op=e
this._renderDialog()}hideDialog(){this._dismissDialog()}_applyLinkOptions(t){this._dismissDialog()
M["a"].insertLink(t)}_renderDialog(){let t,e,n,r,o
if(this._shouldOpen){var a
t=this._editor.selection.getContent()
e=Object(L["e"])(t)
o=e&&this._editor.selection.getContent({format:"text"})
n=Object(L["b"])(this._editor,this._editor.selection.getNode())
r=null===(a=n)||void 0===a?void 0:a.getAttribute("href")
this._renderId++}const i=_.a.createElement(It,{key:this._renderId,size:"medium",showText:e,text:o,url:r,operation:this._op,onEntered:()=>{this._isOpen=true},onExited:this._hasClosed,onRequestClose:this._dismissDialog,onSave:t=>{M["a"].focusEditor(this._editor.rceWrapper)
this._applyLinkOptions(t)},open:this._shouldOpen})
E.a.render(i,this.$container)}}const Ft=new Vt
var jt=function(t,e){Ft.showDialogForEditor(t,e)}
var Ut=n("9lnB")
var Wt=n("/5Zp")
var qt=n("GTSS")
function Gt(t){const e=t.content||{}
const n=e.text||""
const r=e.onlyTextSelected
const[o,a]=Object(T["useState"])(n||"")
const[i,c]=Object(T["useState"])(e.url||"")
const[s,l]=Object(T["useState"])(null)
const[v,f]=Object(T["useState"])(false)
const[d,m]=Object(T["useState"])(e.displayAs===I["a"])
const[g,h]=Object(T["useState"])(e.displayAs===I["b"])
Object(T["useEffect"])(()=>{try{const t=J(i)
f(t)
l(null)}catch(t){f(false)
l(t.message)}},[i])
function p(n){n.preventDefault()
const r=e.isPreviewable?"scribd":null
const a={embed:r?{type:r,autoOpenPreview:d&&!g,disablePreview:g}:null,text:o,href:i,id:e.id||null,forceRename:true}
t.onSave(a)}function b(t){a(t.target.value)}function y(t){c(t.target.value)}function w(t){m(t.target.checked)}function x(t,e){h("overlay"===e)}function C(){return _.a.createElement(pt["b"],{description:Object(u["a"])("Display Options"),layout:"stacked",rowSpacing:"small"},_.a.createElement(Wt["a"],{description:" ",name:"preview_option",onChange:x,value:g?"overlay":"inline"},_.a.createElement(qt["a"],{key:"overlay",value:"overlay",label:Object(u["a"])("Preview in overlay")}),_.a.createElement(qt["a"],{key:"inline",value:"inline",label:Object(u["a"])("Preview inline")})),!g&&_.a.createElement(Rt["a"],{as:"div",margin:"0 0 0 small"},_.a.createElement(Ut["a"],{label:Object(u["a"])("Expand preview by Default"),name:"auto-preview",onChange:w,checked:d})))}return _.a.createElement(W["a"],{"data-testid":"RCELinkOptionsTray","data-mce-component":true,label:Object(u["a"])("Link Options"),onDismiss:t.onRequestClose,onEntered:t.onEntered,onExited:t.onExited,open:t.open,placement:"end",shouldCloseOnDocumentClick:true,shouldContainFocus:true,shouldReturnFocus:true},_.a.createElement(U["a"],{direction:"column",height:Object(X["a"])()},_.a.createElement(U["a"].Item,{as:"header",padding:"medium"},_.a.createElement(U["a"],{direction:"row"},_.a.createElement(U["a"].Item,{grow:true,shrink:true},_.a.createElement(j["a"],{as:"h2"},Object(u["a"])("Link Options"))),_.a.createElement(U["a"].Item,null,_.a.createElement(V["a"],{placement:"static",variant:"icon",onClick:t.onRequestClose},Object(u["a"])("Close"))))),_.a.createElement(U["a"].Item,{as:"form",grow:true,margin:"none",shrink:true,onSubmit:p},_.a.createElement(U["a"],{justifyItems:"space-between",direction:"column",height:"100%"},_.a.createElement(U["a"].Item,{grow:true,padding:"small",shrink:true},_.a.createElement("input",{type:"submit",style:{display:"none"}}),_.a.createElement(U["a"],{direction:"column"},r&&_.a.createElement(U["a"].Item,{padding:"small"},_.a.createElement(Dt["a"],{renderLabel:()=>Object(u["a"])("Text"),onChange:b,value:o})),_.a.createElement(U["a"].Item,{padding:"small"},_.a.createElement(Dt["a"],{renderLabel:()=>Object(u["a"])("Link"),onChange:y,value:i})),s&&_.a.createElement(U["a"].Item,{padding:"small","data-testid":"url-error"},_.a.createElement(Mt["a"],{variant:"error"},s)),e.isPreviewable&&_.a.createElement(U["a"].Item,{margin:"small none none none",padding:"small"},C()))),_.a.createElement(U["a"].Item,{background:"secondary",borderWidth:"small none none none",padding:"small medium",textAlign:"end"},_.a.createElement(F["a"],{disabled:r&&!o||!(i&&v),onClick:p,variant:"primary"},Object(u["a"])("Done")))))))}Gt.propTypes={content:(t,e,n)=>{t.open&&Object(N["checkPropTypes"])({content:Object(N["shape"])({$element:N["object"],dispalyAs:Object(N["oneOf"])([I["c"],I["a"]]),isPreviewable:N["bool"],text:N["string"],url:N["string"]}).isRequired},t,"content","LinkOptionsTray")},onEntered:N["func"],onExited:N["func"],onRequestClose:N["func"].isRequired,onSave:N["func"].isRequired,open:N["bool"].isRequired}
Gt.defaultProps={onEntered:null,onExited:null}
const $t="instructure-link-options-tray-container"
class Xt{constructor(){this._editor=null
this._isOpen=false
this._shouldOpen=false
this._renderId=0}get $container(){let t=document.getElementById($t)
if(null==t){t=document.createElement("div")
t.id=$t
document.body.appendChild(t)}return t}get isOpen(){return this._isOpen}showTrayForEditor(t){this._editor=t
this._shouldOpen=true
const e=t.selection.getNode()
if(t.selection.isCollapsed()&&"A"===e.nodeName)t.selection.select(t.selection.getNode())
else{const n=Object(L["b"])(t,e)
t.selection.select(n)}M["a"].focusedEditor&&M["a"].hideTrays()
this._renderTray()}hideTrayForEditor(t){this._editor===t&&this._dismissTray()}_applyLinkOptions(t){this._dismissTray()
M["a"].insertLink({...t,userText:true})}_dismissTray(){this._shouldOpen=false
this._renderTray()
this._editor=null}_renderTray(){let t={}
if(this._shouldOpen){t=Object(I["h"])(this._editor)
this._renderId++}const e=_.a.createElement(Gt,{content:t,key:this._renderId,onEntered:()=>{this._isOpen=true},onExited:()=>{M["a"].focusActiveEditor(false)
this._isOpen=false},onSave:t=>{this._applyLinkOptions(t)},onRequestClose:()=>this._dismissTray(),open:this._shouldOpen})
E.a.render(e,this.$container)}}const Kt=new Xt
const Yt="course_links"
const Jt="group_links"
function Zt(t){return t.selection.getRng().cloneContents().querySelectorAll("a").length}function Qt(t){var e
const n=null===(e=t.settings.canvas_rce_containing_context)||void 0===e?void 0:e.type
const r=t.selection.isCollapsed()?0:Zt(t)
let o
if(Object(L["b"])(t,t.selection.getNode()))o=[{text:Object(u["a"])("Edit Link"),value:"instructureTrayToEditLink"},{text:Object(u["a"])("Remove Link"),value:"instructureUnlink"}]
else{o=[{text:Object(u["a"])("External Links"),value:"instructureLinkCreate"}]
"course"===n?o.push({text:Object(u["a"])("Course Links"),value:"instructure_course_links"}):"group"===n&&o.push({text:Object(u["a"])("Group Links"),value:"instructure_group_links"})
r>0&&o.push({text:u["a"].plural(r,{one:"Remove Link",other:"Remove Links"}),value:"instructureUnlinkAll"})}return o}function te(t){const e=t.selection.getNode()
const n=Object(L["b"])(t,e)
t.selection.select(n)
t.undoManager.add()
t.execCommand("Unlink")}function ee(t,e){switch(e){case"instructureTrayToEditLink":case"instructureLinkCreate":t.execCommand(e)
break
case"instructureUnlink":te(t)
break
case"instructureUnlinkAll":t.undoManager.add()
t.execCommand("unlink")
break
case"instructure_course_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,Yt)
break
case"instructure_group_links":t.focus(true)
t.execCommand("instructureTrayForLinks",false,Jt)}}tinymce.create("tinymce.plugins.InstructureLinksPlugin",{init(t){t.addCommand("instructureLinkCreate",jt.bind(this,t,Pt))
t.addCommand("instructureLinkEdit",jt.bind(this,t,Nt))
t.addCommand("instructureTrayForLinks",(e,n)=>{M["a"].showTrayForPlugin(n,t.id)})
t.addCommand("instructureTrayToEditLink",e=>{Kt.showTrayForEditor(t)})
t.addShortcut("Meta+K","","instructureLinkCreate")
t.ui.registry.addNestedMenuItem("instructure_links",{text:Object(u["a"])("Link"),icon:"link",getSubmenuItems:()=>Qt(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>ee(t,e.value),onSetup:e=>{e.setDisabled(!Object(L["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_links",{tooltip:Object(u["a"])("Links"),icon:"link",fetch(e){const n=Qt(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||(Object(L["b"])(t,t.selection.getNode())?ee(t,"instructureTrayToEditLink"):ee(t,"instructureLinkCreate"))},onItemAction:(e,n)=>ee(t,n),onSetup(e){function n(n){null!==n&&void 0!==n&&n.element&&e.setActive(!!Object(L["b"])(t,n.element))
e.setDisabled(!Object(L["d"])(t.selection.getContent()))}function r(){let e
if("A"===t.selection.getNode().tagName)e=t.selection.getNode()
else{var n,r
const o=t.selection.getRng()
o.commonAncestorContainer===o.endContainer&&"A"===(null===(n=o.endContainer.nextSibling)||void 0===n?void 0:n.tagName)?e=o.endContainer.nextSibling:"A"===(null===(r=o.nextSibling)||void 0===r?void 0:r.tagName)&&(e=o.nextSibling)}if(e){var o
if(e.firstElementChild)return
const n=null===(o=e.textContent)||void 0===o?void 0:o.trim()
0===n.length&&t.execCommand("Unlink")}}setTimeout(n,0,null)
t.on("NodeChange",n)
t.on("Change",r)
return()=>{t.off("NodeChange",n)
t.off("Change",r)}}})
t.ui.registry.addButton("instructure-link-options",{onAction(){t.execCommand("instructureTrayToEditLink",false,t)},text:Object(u["a"])("Link Options"),tooltip:Object(u["a"])("Show link options")})
const e=Object(u["a"])("Remove Link")
t.ui.registry.addButton("instructureUnlink",{onAction(){te(t)},text:e})
t.ui.registry.addContextToolbar("instructure-link-toolbar",{items:"instructure-link-options instructureUnlink",position:"node",predicate:e=>!!Object(L["b"])(t,e),scope:"node"})}})
tinymce.PluginManager.add("instructure_links",tinymce.plugins.InstructureLinksPlugin)
var ne=function(t,e){return Promise.all([n.e(25),n.e(89),n.e(134)]).then(n.bind(null,"ErcB")).then(({UploadFile:n})=>{let r=e.querySelector(".canvas-rce-upload-container")
if(!r){r=e.createElement("div")
r.className="canvas-rce-upload-container"
e.body.appendChild(r)}const o=()=>{E.a.unmountComponentAtNode(r)
t.focus()}
E.a.render(_.a.createElement(n,{accept:void 0,editor:t,label:Object(u["a"])("Upload File"),panels:["COMPUTER"],onDismiss:o}),r)})}
const re="course_documents"
const oe="user_documents"
const ae="group_documents"
function ie(t){const e=t.settings.canvas_rce_user_context.type
const n=[{text:Object(u["a"])("Upload Document"),value:"instructure_upload_document"}]
"course"===e?n.push({text:Object(u["a"])("Course Documents"),value:"instructure_course_document"}):"group"===e&&n.push({text:Object(u["a"])("Group Documents"),value:"instructure_group_document"})
n.push({text:Object(u["a"])("User Documents"),value:"instructure_user_document"})
return n}function ue(t,e){switch(e){case"instructure_upload_document":t.execCommand("mceInstructureDocuments")
break
case"instructure_course_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,re)
break
case"instructure_user_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,oe)
break
case"instructure_group_document":t.focus(true)
t.execCommand("instructureTrayForDocuments",false,ae)}}tinymce.create("tinymce.plugins.InstructureDocumentsPlugin",{init(t){t.addCommand("mceInstructureDocuments",ne.bind(this,t,document))
t.addCommand("instructureTrayForDocuments",(e,n)=>{M["a"].showTrayForPlugin(n,t.id)})
t.ui.registry.addNestedMenuItem("instructure_document",{text:Object(u["a"])("Document"),icon:"document",getSubmenuItems:()=>ie(t).map(e=>({type:"menuitem",text:e.text,onAction:()=>ue(t,e.value),onSetup:e=>{e.setDisabled(!Object(L["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_documents",{tooltip:Object(u["a"])("Documents"),icon:"document",fetch(e){const n=ie(t).map(t=>({type:"choiceitem",text:t.text,value:t.value}))
e(n)},onAction(e){e.isDisabled()||ue(t,"instructure_upload_document")},onItemAction:(e,n)=>ue(t,n),onSetup(e){function n(n){e.setDisabled(!Object(L["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})}})
tinymce.PluginManager.add("instructure_documents",tinymce.plugins.InstructureDocumentsPlugin)
var ce=function(){M["a"].activeEditor().toggleView()}
tinymce.create("tinymce.plugins.InstructureHtmlView",{init(t){t.addCommand("instructureHtmlView",ce.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_html_view",{text:Object(u["a"])("HTML Editor"),icon:"htmlview",onAction:()=>t.execCommand("instructureHtmlView"),onSetup(t){t.setDisabled(false)}})}})
tinymce.PluginManager.add("instructure_html_view",tinymce.plugins.InstructureHtmlView)
var se=function(t,e){return n.e(4337).then(n.bind(null,"msS2")).then(({Embed:n})=>{let r=e.querySelector(".canvas-rce-embed-container")
if(!r){r=e.createElement("div")
r.className="canvas-rce-embed-container"
e.body.appendChild(r)}const o=()=>{E.a.unmountComponentAtNode(r)
t.focus(false)}
const a=t=>{M["a"].insertEmbedCode(t)}
E.a.render(_.a.createElement(n,{onSubmit:a,onDismiss:o}),r)})}
tinymce.create("tinymce.plugins.InstructureMediaEmbed",{init(t){t.addCommand("instructureMediaEmbed",se.bind(this,t,document))
t.ui.registry.addMenuItem("instructure_media_embed",{text:Object(u["a"])("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})
t.ui.registry.addButton("instructure_media_embed",{tooltip:Object(u["a"])("Embed"),icon:"embed",onAction:()=>t.execCommand("instructureMediaEmbed")})}})
tinymce.PluginManager.add("instructure_media_embed",tinymce.plugins.InstructureMediaEmbed)
const le="create_buttons_and_icons"
const ve="list_buttons_and_icons"
const fe="edit_buttons_and_icons"
var de=function(t,e,r){return Promise.all([n.e(13),n.e(17),n.e(86),n.e(4156)]).then(n.bind(null,"IrNC")).then(({ButtonsTray:n})=>{let o=e.querySelector("#instructure-rce-buttons-tray-container")
const a=M["a"].trayProps.get(t)
const i=()=>{E.a.unmountComponentAtNode(o)
t.focus(false)}
if(o)r==le&&i()
else{o=e.createElement("div")
o.id="instructure-rce-buttons-tray-container"
e.body.appendChild(o)}E.a.render(_.a.createElement(ft["a"],a,()=>_.a.createElement(n,{editor:t,editing:r===fe,onUnmount:i,rcsConfig:a})),o)})}
function me(){return[{text:Object(u["a"])("Create Icon Maker Icon"),value:"instructure_create_button"},{text:Object(u["a"])("Saved Icon Maker Icons"),value:"instructure_list_buttons"}]}function ge(t,e){switch(e){case"instructure_create_button":t.focus(true)
t.execCommand("instructureTrayForButtonsPlugin",false,le)
break
case"instructure_list_buttons":t.focus(true)
t.execCommand("instructureTrayForButtonsPlugin",false,ve)
break
case"instructure_edit_button":t.focus(true)
t.execCommand("instructureTrayForButtonsPlugin",false,fe)}}tinymce.create("tinymce.plugins.InstructureButtonsPlugin",{init(t){t.addCommand("instructureTrayForButtonsPlugin",(e,n)=>{n===ve?M["a"].showTrayForPlugin(n,t.id):de(t,document,n)})
t.ui.registry.addNestedMenuItem("instructure_buttons",{text:Object(u["a"])("Icon Maker Icons"),icon:"buttons",getSubmenuItems:()=>me().map(e=>({type:"menuitem",text:e.text,onAction:()=>ge(t,e.value),onSetup:e=>{e.setDisabled(!Object(L["d"])(t.selection.getContent()))
return()=>{}}}))})
t.ui.registry.addSplitButton("instructure_buttons",{tooltip:Object(u["a"])("Icon Maker Icons"),icon:"buttons",fetch(t){const e=me().map(t=>({type:"choiceitem",text:t.text,value:t.value}))
t(e)},onAction(e){e.isDisabled()||ge(t,"instructure_create_button")},onItemAction:(e,n)=>ge(t,n),onSetup(e){function n(n){e.setDisabled(!Object(L["d"])(t.selection.getContent()))}setTimeout(n)
t.on("NodeChange",n)
return()=>{t.off("NodeChange",n)}}})
Object(rt["d"])(t,e=>{e.isDisabled()||ge(t,"instructure_edit_button")})}})
tinymce.PluginManager.add("instructure_buttons",tinymce.plugins.InstructureButtonsPlugin)
n("OS/W")
const he=a.a.ScriptLoader.add
a.a.ScriptLoader.add=function(t){"none"!==t&&he.apply(a.a.ScriptLoader,arguments)}
r["c"](a.a)
e["default"]=a.a},"587I":function(t,e,n){"use strict"
var r=n("q1tI")
var o=n.n(r)
var a=n("6SzX")
var i=n("Xx/m")
var u=n("2zZe")
var c=n("/5Zp")
var s=n("GTSS")
var l=n("M8//")
var v=n("9lnB")
var f=n("gW/U")
var d=n("TstA")
var m=n("n12J")
var g=n("bZJi")
var h=n("hlkS")
var p=n("NFDp")
var b=n("Mesd")
const y=({imageSize:t,displayAs:e,isDecorativeImage:n,altText:r,isLinked:y,dimensionsState:w,handleAltTextChange:x,handleIsDecorativeChange:C,handleDisplayAsChange:S,handleImageSizeChange:O,messagesForSize:k,hideDimensions:T,id:_="image-options-form"})=>{const z=Object(p["a"])("Used by screen readers to describe the content of an image")
const E=o.a.createElement(d["a"],{alignItems:"center"},o.a.createElement(d["a"].Item,null,Object(p["a"])("Alt Text")),o.a.createElement(d["a"].Item,{margin:"0 0 0 xx-small"},o.a.createElement(g["a"],{on:["hover","focus"],placement:"top",tip:o.a.createElement(m["a"],{display:"block",id:"alt-text-label-tooltip",maxWidth:"14rem"},z)},o.a.createElement(i["a"],{icon:f["a"],size:"small",variant:"icon"},o.a.createElement(a["a"],null,z)))))
return o.a.createElement(d["a"],{direction:"column"},o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(l["a"],{disabled:n,"aria-describedby":"alt-text-label-tooltip",height:"4rem",label:E,onChange:x,placeholder:Object(p["a"])("(Describe the image)"),resize:"vertical",value:r})),o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(v["a"],{checked:n,disabled:"link"===e,label:Object(p["a"])("Decorative Image"),onChange:C})),o.a.createElement(d["a"].Item,{padding:"small"},o.a.createElement(c["a"],{description:Object(p["a"])("Display Options"),disabled:y,name:"display-image-as",onChange:S,value:e},o.a.createElement(s["a"],{label:Object(p["a"])("Embed Image"),value:"embed"}),o.a.createElement(s["a"],{disabled:n,label:Object(p["a"])("Display Text Link (Opens in a new tab)"),value:"link"}))),!T&&o.a.createElement(d["a"].Item,null,o.a.createElement(m["a"],{as:"div",padding:"small"},o.a.createElement(u["a"],{id:_+"-size",disabled:"embed"!==e,renderLabel:Object(p["a"])("Size"),messages:k,assistiveText:Object(p["a"])("Use arrow keys to navigate options."),onChange:O,value:t},h["h"].map(t=>o.a.createElement(u["a"].Option,{id:`${_}-size-${t}`,key:t,value:t},Object(h["i"])(t))))),t===h["a"]&&o.a.createElement(m["a"],{as:"div"},o.a.createElement(b["a"],{dimensionsState:w,disabled:"embed"!==e,minHeight:h["b"],minWidth:h["d"],minPercentage:h["c"]}))))}
e["a"]=y},"5R7V":function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(){n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return n.apply(this,arguments)}
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var o=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var a=function(t){return function(e){return o(e)===t}}
var i=a("string")
var u=a("object")
var c=a("array")
var s=function(){}
var l=function(t){return function(){return t}}
var v=function(t){return t}
var f=function(t){return function(){throw new Error(t)}}
var d=l(false)
var m=l(true)
var g=function(){return h}
var h=(p=function(t){return t.isNone()},b=function(t){return t()},y=function(t){return t},w={fold:function(t,e){return t()},is:d,isSome:d,isNone:m,getOr:y,getOrThunk:b,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:y,orThunk:b,map:g,each:s,bind:g,exists:d,forall:m,filter:g,equals:p,equals_:p,toArray:function(){return[]},toString:l("none()")},w)
var p,b,y,w
var x=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return x(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,(function(e){return n(t,e)}))}}
return o}
var C=function(t){return null===t||void 0===t?h:x(t)}
var S={some:x,none:g,from:C}
var O=Array.prototype.slice
var k=Array.prototype.indexOf
var T=function(t,e){return k.call(t,e)}
var _=function(t,e){return T(t,e)>-1}
var z=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var E=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var M=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var D=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var A=function(t,e,n){M(t,(function(t){n=e(n,t)}))
return n}
var R=function(t,e,n){E(t,(function(t){n=e(n,t)}))
return n}
var H=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return S.some(a)
if(n(a,r))break}return S.none()}
var B=function(t,e){return H(t,e,d)}
var I=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var L=function(t,e){var n=O.call(t,0)
n.sort(e)
return n}
var P=function(t,e){return e>=0&&e<t.length?S.some(t[e]):S.none()}
var N=function(t){return P(t,0)}
var V=Object.keys
var F=Object.hasOwnProperty
var j=function(t,e){return F.call(t,e)}
var U=function(t){if(!c(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
E(t,(function(r,o){var a=V(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var u=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!c(u))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==u.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+u.length+" ("+u+"), got "+a)
var c=function(t){var r=V(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=I(e,(function(t){return _(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:c,log:function(t){console.log(t,{constructors:e,constructor:i,params:n})}}}}))
return n}
var W={generate:U}
W.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var q=function(t){var e=[]
var n=[]
E(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))}))
return{errors:e,values:n}}
var G=function(t){var e=function(e){return t===e}
var n=function(e){return G(t)}
var r=function(e){return G(t)}
var o=function(e){return G(e(t))}
var a=function(e){return G(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var v=function(e){return e(t)}
var f=function(){return S.some(t)}
return{is:e,isValue:m,isError:d,getOr:l(t),getOrThunk:l(t),getOrDie:l(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:v,toOptional:f}}
var $=function(t){var e=function(t){return t()}
var n=function(){return f(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return $(t)}
var i=function(e){return $(e(t))}
var u=function(e){return $(t)}
var c=function(e,n){return e(t)}
return{is:d,isValue:d,isError:m,getOr:v,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:s,bind:u,exists:d,forall:m,toOptional:S.none}}
var X=function(t,e){return t.fold((function(){return $(e)}),G)}
var K={value:G,error:$,fromOption:X}
var Y=function(t){return"inline-command"===t.type||"inline-format"===t.type}
var J=function(t){return"block-command"===t.type||"block-format"===t.type}
var Z=function(t){return L(t,(function(t,e){if(t.start.length===e.start.length)return 0
return t.start.length>e.start.length?-1:1}))}
var Q=function(t){var e=function(e){return K.error({message:e,pattern:t})}
var n=function(n,r,o){if(void 0!==t.format){var a=void 0
if(c(t.format)){if(!I(t.format,i))return e(n+" pattern has non-string items in the `format` array")
a=t.format}else{if(!i(t.format))return e(n+" pattern has non-string `format` parameter")
a=[t.format]}return K.value(r(a))}if(void 0!==t.cmd){if(!i(t.cmd))return e(n+" pattern has non-string `cmd` parameter")
return K.value(o(t.cmd,t.value))}return e(n+" pattern is missing both `format` and `cmd` parameters")}
if(!u(t))return e("Raw pattern is not an object")
if(!i(t.start))return e("Raw pattern is missing `start` parameter")
if(void 0!==t.end){if(!i(t.end))return e("Inline pattern has non-string `end` parameter")
if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters")
var r=t.start
var o=t.end
if(0===o.length){o=r
r=""}return n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}if(void 0!==t.replacement){if(!i(t.replacement))return e("Replacement pattern has non-string `replacement` parameter")
if(0===t.start.length)return e("Replacement pattern has empty `start` parameter")
return K.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement})}if(0===t.start.length)return e("Block pattern has empty `start` parameter")
return n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))}
var tt=function(t){if("block-command"===t.type)return{start:t.start,cmd:t.cmd,value:t.value}
if("block-format"===t.type)return{start:t.start,format:t.format}
if("inline-command"===t.type)return"mceInsertContent"===t.cmd&&""===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}
if("inline-format"===t.type)return{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}}
var et=function(t){return{inlinePatterns:D(t,Y),blockPatterns:Z(D(t,J))}}
var nt=function(t){var e=function(e){var n=q(z(e,Q))
if(n.errors.length>0){var r=n.errors[0]
throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}t.set(et(n.values))}
var n=function(){return r(z(t.get().inlinePatterns,tt),z(t.get().blockPatterns,tt))}
return{setPatterns:e,getPatterns:n}}
var rt="undefined"!==typeof window?window:Function("return this;")()
var ot=function(){var t=[]
for(var e=0;e<arguments.length;e++)t[e]=arguments[e]
var n=rt.console
n&&(n.error?n.error.apply(n,t):n.log.apply(n,t))}
var at=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]
var it=function(t){var e=t.getParam("textpattern_patterns",at,"array")
if(!c(e)){ot("The setting textpattern_patterns should be an array")
return{inlinePatterns:[],blockPatterns:[]}}var n=q(z(e,Q))
E(n.errors,(function(t){return ot(t.message,t.pattern)}))
return et(n.values)}
var ut=function(t){var e=t.getParam("forced_root_block","p")
return false===e?"":true===e?"p":e}
var ct=tinymce.util.Tools.resolve("tinymce.util.Delay")
var st=tinymce.util.Tools.resolve("tinymce.util.VK")
var lt="\ufeff"
var vt=""
var ft=tinymce.util.Tools.resolve("tinymce.util.Tools")
var dt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var mt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var gt=function(t,e){return{container:t,offset:e}}
var ht=function(t){return t.nodeType===Node.TEXT_NODE}
var pt=function(t,e,n){if(e&&t.isEmpty(e)&&!n(e)){var r=e.parentNode
t.remove(e)
pt(t,r,n)}}
var bt=function(t,e,n,r){void 0===r&&(r=true)
var o=e.startContainer.parentNode
var a=e.endContainer.parentNode
e.deleteContents()
if(r&&!n(e.startContainer)){ht(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer)
ht(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer)
pt(t,o,n)
o!==a&&pt(t,a,n)}}
var yt=function(t,e){var n=e.get(t)
return c(n)&&N(n).exists((function(t){return j(t,"block")}))}
var wt=function(t){return 0===t.start.length}
var xt=function(t,e){var n=S.from(t.dom.getParent(e.startContainer,t.dom.isBlock))
return""===ut(t)?n.orThunk((function(){return S.some(t.getBody())})):n}
var Ct=dt.DOM
var St=function(t){return function(e){return t===e?-1:0}}
var Ot=function(t){return function(e){return t.isBlock(e)||_(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}}
var kt=function(t,e,n){if(ht(t)&&e>=0)return S.some(gt(t,e))
var r=mt(Ct)
return S.from(r.backwards(t,e,St(t),n)).map((function(t){return gt(t.container,t.container.data.length)}))}
var Tt=function(t,e,n){if(ht(t)&&e>=t.length)return S.some(gt(t,e))
var r=mt(Ct)
return S.from(r.forwards(t,e,St(t),n)).map((function(t){return gt(t.container,0)}))}
var _t=function(t,e,n){if(!ht(t))return S.none()
var r=t.textContent
if(e>=0&&e<=r.length)return S.some(gt(t,e))
var o=mt(Ct)
return S.from(o.backwards(t,e,St(t),n)).bind((function(t){var r=t.container.data
return _t(t.container,e+r.length,n)}))}
var zt=function(t,e,n){if(!ht(t))return S.none()
var r=t.textContent
if(e<=r.length)return S.some(gt(t,e))
var o=mt(Ct)
return S.from(o.forwards(t,e,St(t),n)).bind((function(t){return zt(t.container,e-r.length,n)}))}
var Et=function(t,e,n,r,o){var a=mt(t,Ot(t))
return S.from(a.backwards(e,n,r,o))}
var Mt=function(t,e,n){if(ht(e)&&(n<0||n>e.data.length))return[]
var r=[n]
var o=e
while(o!==t&&o.parentNode){var a=o.parentNode
for(var i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){r.push(i)
break}o=a}return o===t?r.reverse():[]}
var Dt=function(t,e,n,r,o){var a=Mt(t,e,n)
var i=Mt(t,r,o)
return{start:a,end:i}}
var At=function(t,e){var n=e.slice()
var r=n.pop()
var o=R(n,(function(t,e){return t.bind((function(t){return S.from(t.childNodes[e])}))}),S.some(t))
return o.bind((function(t){return ht(t)&&(r<0||r>t.data.length)?S.none():S.some({node:t,offset:r})}))}
var Rt=function(t,e){return At(t,e.start).bind((function(n){var r=n.node,o=n.offset
return At(t,e.end).map((function(t){var e=t.node,n=t.offset
var a=document.createRange()
a.setStart(r,o)
a.setEnd(e,n)
return a}))}))}
var Ht=function(t,e){return Dt(t,e.startContainer,e.startOffset,e.endContainer,e.endOffset)}
var Bt=function(t,e,n){var r=Tt(e,0,e)
r.each((function(r){var o=r.container
zt(o,n.start.length,e).each((function(n){var r=t.createRng()
r.setStart(o,0)
r.setEnd(n.container,n.offset)
bt(t,r,(function(t){return t===e}))}))}))}
var It=function(t,e){var n=t.dom
var r=e.pattern
var o=Rt(n.getRoot(),e.range).getOrDie("Unable to resolve path range")
xt(t,o).each((function(e){"block-format"===r.type?yt(r.format,t.formatter)&&t.undoManager.transact((function(){Bt(t.dom,e,r)
t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){Bt(t.dom,e,r)
t.execCommand(r.cmd,false,r.value)}))}))
return true}
var Lt=function(t,e){var n=e.replace(vt," ")
return B(t,(function(t){return 0===e.indexOf(t.start)||0===n.indexOf(t.start)}))}
var Pt=function(t,e){var n=t.dom
var r=t.selection.getRng()
return xt(t,r).filter((function(e){var r=ut(t)
var o=""===r&&n.is(e,"body")||n.is(e,r)
return null!==e&&o})).bind((function(t){var r=t.textContent
var o=Lt(e,r)
return o.map((function(e){if(ft.trim(r).length===e.start.length)return[]
return[{pattern:e,range:Dt(n.getRoot(),t,0,t,0)}]}))})).getOr([])}
var Nt=function(t,e){if(0===e.length)return
var n=t.selection.getBookmark()
E(e,(function(e){return It(t,e)}))
t.selection.moveToBookmark(n)}
var Vt=0
var Ft=function(t){var e=new Date
var n=e.getTime()
var r=Math.floor(1e9*Math.random())
Vt++
return t+"_"+r+Vt+String(n)}
var jt=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var Ut=function(t,e){return jt(t,e,t.length-e.length)}
var Wt=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})}
var qt=function(t,e){var n=t.createRng()
n.setStartAfter(e.start)
n.setEndBefore(e.end)
return n}
var Gt=function(t,e,n){var r=Rt(t.getRoot(),n).getOrDie("Unable to resolve path range")
var o=r.startContainer
var a=r.endContainer
var i=0===r.endOffset?a:a.splitText(r.endOffset)
var u=0===r.startOffset?o:o.splitText(r.startOffset)
return{prefix:e,end:i.parentNode.insertBefore(Wt(t,e+"-end"),i),start:u.parentNode.insertBefore(Wt(t,e+"-start"),u)}}
var $t=function(t,e,n){pt(t,t.get(e.prefix+"-end"),n)
pt(t,t.get(e.prefix+"-start"),n)}
var Xt=function(t,e,n){return function(t,e){var r=t.data
var o=r.substring(0,e)
var a=o.lastIndexOf(n.charAt(n.length-1))
var i=o.lastIndexOf(n)
return-1!==i?i+n.length:-1!==a?a+1:-1}}
var Kt=function(t,e,n,r){var o=e.start
var a=Et(t,r.container,r.offset,Xt(t,n,o),n)
return a.bind((function(r){if(r.offset>=o.length){var a=t.createRng()
a.setStart(r.container,r.offset-o.length)
a.setEnd(r.container,r.offset)
return S.some(a)}var i=r.offset-o.length
return _t(r.container,i,n).map((function(e){var n=t.createRng()
n.setStart(e.container,e.offset)
n.setEnd(r.container,r.offset)
return n})).filter((function(t){return t.toString()===o})).orThunk((function(){return Kt(t,e,n,gt(r.container,0))}))}))}
var Yt=function(t,e,n,r,o,a){void 0===a&&(a=false)
if(0===e.start.length&&!a){var i=t.createRng()
i.setStart(n,r)
i.setEnd(n,r)
return S.some(i)}return kt(n,r,o).bind((function(n){var r=Kt(t,e,o,n)
return r.bind((function(t){if(a){if(t.endContainer===n.container&&t.endOffset===n.offset)return S.none()
if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return S.none()}return S.some(t)}))}))}
var Jt=function(t,e,n){var r=t.dom
var o=r.getRoot()
var a=n.pattern
var i=n.position.container
var u=n.position.offset
return _t(i,u-n.pattern.end.length,e).bind((function(c){var s=Dt(o,c.container,c.offset,i,u)
if(wt(a))return S.some({matches:[{pattern:a,startRng:s,endRng:s}],position:c})
var l=Zt(t,n.remainingPatterns,c.container,c.offset,e)
var v=l.getOr({matches:[],position:c})
var f=v.position
var d=Yt(r,a,f.container,f.offset,e,l.isNone())
return d.map((function(t){var e=Ht(o,t)
return{matches:v.matches.concat([{pattern:a,startRng:e,endRng:s}]),position:gt(t.startContainer,t.startOffset)}}))}))}
var Zt=function(t,e,n,r,o){var a=t.dom
return kt(n,r,a.getRoot()).bind((function(i){var u=a.createRng()
u.setStart(o,0)
u.setEnd(n,r)
var c=u.toString()
for(var s=0;s<e.length;s++){var l=e[s]
if(!Ut(c,l.end))continue
var v=e.slice()
v.splice(s,1)
var f=Jt(t,o,{pattern:l,remainingPatterns:v,position:i})
if(f.isSome())return f}return S.none()}))}
var Qt=function(t,e,n){t.selection.setRng(n)
"inline-format"===e.type?E(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,false,e.value)}
var te=function(t,e,n,r){var o=qt(t.dom,n)
bt(t.dom,o,r)
Qt(t,e,o)}
var ee=function(t,e,n,r,o){var a=t.dom
var i=qt(a,r)
var u=qt(a,n)
bt(a,u,o)
bt(a,i,o)
var c={prefix:n.prefix,start:n.end,end:r.start}
var s=qt(a,c)
Qt(t,e,s)}
var ne=function(t,e){var r=Ft("mce_textpattern")
var o=A(e,(function(e,o){var a=Gt(t,r+"_end"+e.length,o.endRng)
return e.concat([n(n({},o),{endMarker:a})])}),[])
return A(o,(function(e,a){var i=o.length-e.length-1
var u=wt(a.pattern)?a.endMarker:Gt(t,r+"_start"+i,a.startRng)
return e.concat([n(n({},a),{startMarker:u})])}),[])}
var re=function(t,e,n){var r=t.selection.getRng()
if(false===r.collapsed)return[]
return xt(t,r).bind((function(o){var a=r.startOffset-(n?1:0)
return Zt(t,e,r.startContainer,a,o)})).fold((function(){return[]}),(function(t){return t.matches}))}
var oe=function(t,e){if(0===e.length)return
var n=t.dom
var r=t.selection.getBookmark()
var o=ne(n,e)
E(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock)
var o=function(t){return t===r}
wt(e.pattern)?te(t,e.pattern,e.endMarker,o):ee(t,e.pattern,e.startMarker,e.endMarker,o)
$t(n,e.endMarker,o)
$t(n,e.startMarker,o)}))
t.selection.moveToBookmark(r)}
var ae=function(t,e){if(!t.selection.isCollapsed())return false
var n=re(t,e.inlinePatterns,false)
var r=Pt(t,e.blockPatterns)
if(r.length>0||n.length>0){t.undoManager.add()
t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent(lt)
oe(t,n)
Nt(t,r)
var e=t.selection.getRng()
var o=kt(e.startContainer,e.startOffset,t.dom.getRoot())
t.execCommand("mceInsertNewLine")
o.each((function(e){var n=e.container
if(n.data.charAt(e.offset-1)===lt){n.deleteData(e.offset-1,1)
pt(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()}))}}))}))
return true}return false}
var ie=function(t,e){var n=re(t,e.inlinePatterns,true)
n.length>0&&t.undoManager.transact((function(){oe(t,n)}))}
var ue=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return true}
var ce=function(t,e){return ue(t,e,(function(t,e){return t===e.keyCode&&false===st.modifierPressed(e)}))}
var se=function(t,e){return ue(t,e,(function(t,e){return t.charCodeAt(0)===e.charCode}))}
var le=function(t,e){var n=[",",".",";",":","!","?"]
var r=[32]
t.on("keydown",(function(n){13!==n.keyCode||st.modifierPressed(n)||ae(t,e.get())&&n.preventDefault()}),true)
t.on("keyup",(function(n){ce(r,n)&&ie(t,e.get())}))
t.on("keypress",(function(r){se(n,r)&&ct.setEditorTimeout(t,(function(){ie(t,e.get())}))}))}
function ve(){e.add("textpattern",(function(e){var n=t(it(e))
le(e,n)
return nt(n)}))}ve()})()},"71tw":function(t,e,n){"use strict"
n.d(e,"c",(function(){return a}))
n.d(e,"b",(function(){return u}))
n.d(e,"a",(function(){return c}))
let r=false
let o=false
function a(t){i(t.Env)}function i(t){r=!!t.ie
o=r&&!!(t.edge||12==t.ie)}function u(){return r}function c(){return o}},"8MtL":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t){return t.getParam("noneditable_noneditable_class","mceNonEditable")}
var r=function(t){return t.getParam("noneditable_editable_class","mceEditable")}
var o=function(t){var e=t.getParam("noneditable_regexp",[])
return e&&e.constructor===RegExp?[e]:e}
var a=function(t){return function(e){return-1!==(" "+e.attr("class")+" ").indexOf(t)}}
var i=function(t,e,n){return function(r){var o=arguments,a=o[o.length-2]
var i=a>0?e.charAt(a-1):""
if('"'===i)return r
if(">"===i){var u=e.lastIndexOf("<",a)
if(-1!==u){var c=e.substring(u,a)
if(-1!==c.indexOf('contenteditable="false"'))return r}}return'<span class="'+n+'" data-mce-content="'+t.dom.encode(o[0])+'">'+t.dom.encode("string"===typeof o[1]?o[1]:o[0])+"</span>"}}
var u=function(t,e,r){var o=e.length,a=r.content
if("raw"===r.format)return
while(o--)a=a.replace(e[o],i(t,a,n(t)))
r.content=a}
var c=function(t){var i="contenteditable"
var c=" "+e.trim(r(t))+" "
var s=" "+e.trim(n(t))+" "
var l=a(c)
var v=a(s)
var f=o(t)
t.on("PreInit",(function(){f.length>0&&t.on("BeforeSetContent",(function(e){u(t,f,e)}))
t.parser.addAttributeFilter("class",(function(t){var e,n=t.length
while(n--){e=t[n]
l(e)?e.attr(i,"true"):v(e)&&e.attr(i,"false")}}))
t.serializer.addAttributeFilter(i,(function(t){var e,n=t.length
while(n--){e=t[n]
if(!l(e)&&!v(e))continue
if(f.length>0&&e.attr("data-mce-content")){e.name="#text"
e.type=3
e.raw=true
e.value=e.attr("data-mce-content")}else e.attr(i,null)}}))}))}
function s(){t.add("noneditable",(function(t){c(t)}))}s()})()},Gtfj:function(t,e,n){(function(t){(function(){"use strict"
var e=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var n=function(t){return function(n){return e(n)===t}}
var r=function(t){return function(e){return typeof e===t}}
var o=function(t){return function(e){return t===e}}
var a=n("string")
var i=n("object")
var u=n("array")
var c=r("boolean")
var s=o(void 0)
var l=function(t){return null===t||void 0===t}
var v=function(t){return!l(t)}
var f=r("function")
var d=r("number")
var m=function(t,e){if(u(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return false
return true}return false}
var g=function(){}
var h=function(t){return function(){return t()}}
var p=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var b=function(t,e){return function(n){return t(e(n))}}
var y=function(t){return function(){return t}}
var w=function(t){return t}
function x(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var C=function(t){return function(e){return!t(e)}}
var S=function(t){return function(){throw new Error(t)}}
var O=y(false)
var k=y(true)
var T=tinymce.util.Tools.resolve("tinymce.ThemeManager")
var _=function(){_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return _.apply(this,arguments)}
function z(t,e){var n={}
for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r])
if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0
for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function E(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var M=function(){return D}
var D=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:O,isSome:O,isNone:k,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:n,orThunk:e,map:M,each:g,bind:M,exists:O,forall:k,filter:M,equals:t,equals_:t,toArray:function(){return[]},toString:y("none()")}
return r}()
var A=function(t){var e=y(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:k,isNone:O,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return A(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:D},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(O,(function(e){return n(t,e)}))}}
return o}
var R=function(t){return null===t||void 0===t?D:A(t)}
var H={some:A,none:M,from:R}
var B=Array.prototype.slice
var I=Array.prototype.indexOf
var L=Array.prototype.push
var P=function(t,e){return I.call(t,e)}
var N=function(t,e){var n=P(t,e)
return-1===n?H.none():H.some(n)}
var V=function(t,e){return P(t,e)>-1}
var F=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var j=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var U=function(t,e){var n=[]
for(var r=0;r<t.length;r+=e){var o=B.call(t,r,r+e)
n.push(o)}return n}
var W=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var G=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var $=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var X=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var K=function(t,e,n){G(t,(function(t){n=e(n,t)}))
return n}
var Y=function(t,e,n){q(t,(function(t){n=e(n,t)}))
return n}
var J=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return H.some(a)
if(n(a,r))break}return H.none()}
var Z=function(t,e){return J(t,e,O)}
var Q=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return H.some(n)}return H.none()}
var tt=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
L.apply(e,t[n])}return e}
var et=function(t,e){return tt(W(t,e))}
var nt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var rt=function(t){var e=B.call(t,0)
e.reverse()
return e}
var ot=function(t,e){return X(t,(function(t){return!V(e,t)}))}
var at=function(t,e){var n={}
for(var r=0,o=t.length;r<o;r++){var a=t[r]
n[String(a)]=e(a,r)}return n}
var it=function(t,e){var n=B.call(t,0)
n.sort(e)
return n}
var ut=function(t,e){return e>=0&&e<t.length?H.some(t[e]):H.none()}
var ct=function(t){return ut(t,0)}
var st=function(t){return ut(t,t.length-1)}
var lt=f(Array.from)?Array.from:function(t){return B.call(t)}
var vt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return H.none()}
var ft=function(t){var e=function(e){return t===e}
var n=function(e){return ft(t)}
var r=function(e){return ft(t)}
var o=function(e){return ft(e(t))}
var a=function(e){return ft(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var l=function(e){return e(t)}
var v=function(){return H.some(t)}
return{is:e,isValue:k,isError:O,getOr:y(t),getOrThunk:y(t),getOrDie:y(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:v}}
var dt=function(t){var e=function(t){return t()}
var n=function(){return S(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return dt(t)}
var i=function(e){return dt(e(t))}
var u=function(e){return dt(t)}
var c=function(e,n){return e(t)}
return{is:O,isValue:O,isError:k,getOr:w,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:g,bind:u,exists:O,forall:k,toOptional:H.none}}
var mt=function(t,e){return t.fold((function(){return dt(e)}),ft)}
var gt={value:ft,error:dt,fromOption:mt}
var ht;(function(t){t[t["Error"]=0]="Error"
t[t["Value"]=1]="Value"})(ht||(ht={}))
var pt=function(t,e,n){return t.stype===ht.Error?e(t.serror):n(t.svalue)}
var bt=function(t){var e=[]
var n=[]
q(t,(function(t){pt(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))}))
return{values:e,errors:n}}
var yt=function(t,e){return t.stype===ht.Error?{stype:ht.Error,serror:e(t.serror)}:t}
var wt=function(t,e){return t.stype===ht.Value?{stype:ht.Value,svalue:e(t.svalue)}:t}
var xt=function(t,e){return t.stype===ht.Value?e(t.svalue):t}
var Ct=function(t,e){return t.stype===ht.Error?e(t.serror):t}
var St=function(t){return{stype:ht.Value,svalue:t}}
var Ot=function(t){return{stype:ht.Error,serror:t}}
var kt=function(t){return pt(t,gt.error,gt.value)}
var Tt=function(t){return t.fold(Ot,St)}
var _t={fromResult:Tt,toResult:kt,svalue:St,partition:bt,serror:Ot,bind:xt,bindError:Ct,map:wt,mapError:yt,fold:pt}
var zt=Object.keys
var Et=Object.hasOwnProperty
var Mt=function(t,e){var n=zt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Dt=function(t,e){return At(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var At=function(t,e){var n={}
Mt(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var Rt=function(t){return function(e,n){t[n]=e}}
var Ht=function(t,e,n,r){var o={}
Mt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Bt=function(t,e){var n={}
Ht(t,e,Rt(n),g)
return n}
var It=function(t,e){var n=[]
Mt(t,(function(t,r){n.push(e(t,r))}))
return n}
var Lt=function(t,e){var n=zt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
if(e(i,a,t))return H.some(i)}return H.none()}
var Pt=function(t){return It(t,(function(t){return t}))}
var Nt=function(t,e){return Vt(t,e)?H.from(t[e]):H.none()}
var Vt=function(t,e){return Et.call(t,e)}
var Ft=function(t,e){return Vt(t,e)&&void 0!==t[e]&&null!==t[e]}
var jt=function(t){if(!u(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
q(t,(function(r,o){var a=zt(r)
if(1!==a.length)throw new Error("one and only one name per case")
var i=a[0]
var c=r[i]
if(void 0!==n[i])throw new Error("duplicate key detected:"+i)
if("cata"===i)throw new Error("cannot have a case named cata (sorry)")
if(!u(c))throw new Error("case arguments must be an array")
e.push(i)
n[i]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+c.length+" ("+c+"), got "+a)
var u=function(t){var r=zt(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=nt(e,(function(t){return V(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[i].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:u,log:function(t){console.log(t,{constructors:e,constructor:i,params:n})}}}}))
return n}
var Ut={generate:jt}
var Wt=Object.prototype.hasOwnProperty
var qt=function(t,e){return e}
var Gt=function(t,e){var n=i(t)&&i(e)
return n?Xt(t,e):e}
var $t=function(t){return function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
if(0===e.length)throw new Error("Can't merge zero objects")
var r={}
for(var o=0;o<e.length;o++){var a=e[o]
for(var i in a)Wt.call(a,i)&&(r[i]=t(r[i],a[i]))}return r}}
var Xt=$t(Gt)
var Kt=$t(qt)
var Yt=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var Jt=Ut.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}])
var Zt=function(t){return Jt.defaultedThunk(y(t))}
var Qt=function(t){return Jt.mergeWithThunk(y(t))}
var te=Jt.strict
var ee=Jt.asOption
var ne=Jt.defaultedThunk
Jt.asDefaultedOptionThunk
var re=Jt.mergeWithThunk
Ut.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}])
var oe=function(t){var e=[]
var n=[]
q(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))}))
return{errors:e,values:n}}
var ae=function(t,e){var n={}
Mt(t,(function(t,r){V(e,r)||(n[r]=t)}))
return n}
var ie=function(t,e){var n
return n={},n[t]=e,n}
var ue=function(t){var e={}
q(t,(function(t){e[t.key]=t.value}))
return e}
var ce=function(t,e){return ae(t,e)}
var se=function(t,e){return ie(t,e)}
var le=function(t){return ue(t)}
var ve=function(t,e){return 0===t.length?gt.value(e):gt.value(Xt(e,Kt.apply(void 0,t)))}
var fe=function(t){return gt.error(tt(t))}
var de=function(t,e){var n=oe(t)
return n.errors.length>0?fe(n.errors):ve(n.values,e)}
var me=function(t,e){return t.length>0?_t.svalue(Xt(e,Kt.apply(void 0,t))):_t.svalue(e)}
var ge=function(t){return p(_t.serror,tt)(t)}
var he=function(t,e){var n=_t.partition(t)
return n.errors.length>0?ge(n.errors):me(n.values,e)}
var pe=function(t){var e=_t.partition(t)
return e.errors.length>0?ge(e.errors):_t.svalue(e.values)}
var be={consolidateObj:he,consolidateArr:pe}
var ye=function(t){return i(t)&&zt(t).length>100?" removed due to size":JSON.stringify(t,null,2)}
var we=function(t){var e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t
return W(e,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))}
var xe=function(t,e){return _t.serror([{path:t,getErrorInfo:e}])}
var Ce=function(t,e,n){return xe(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+ye(n)}))}
var Se=function(t,e){return xe(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}
var Oe=function(t,e,n){return xe(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+ye(e)}))}
var ke=function(t,e){return xe(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}
var Te=function(t,e){return xe(t,(function(){return e}))}
var _e=Ut.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}])
var ze=function(t,e,n){return Nt(e,n).fold((function(){return Ce(t,n,e)}),_t.svalue)}
var Ee=function(t,e,n){var r=Nt(t,e).fold((function(){return n(t)}),w)
return _t.svalue(r)}
var Me=function(t,e){return _t.svalue(Nt(t,e))}
var De=function(t,e,n){var r=Nt(t,e).map((function(e){return true===e?n(t):e}))
return _t.svalue(r)}
var Ae=function(t,e,n,r){return n.fold((function(n,o,a,i){var u=function(e){var a=i.extract(t.concat([n]),r,e)
return _t.map(a,(function(t){return ie(o,r(t))}))}
var c=function(e){return e.fold((function(){var t=ie(o,r(H.none()))
return _t.svalue(t)}),(function(e){var a=i.extract(t.concat([n]),r,e)
return _t.map(a,(function(t){return ie(o,r(H.some(t)))}))}))}
return a.fold((function(){return _t.bind(ze(t,e,n),u)}),(function(t){return _t.bind(Ee(e,n,t),u)}),(function(){return _t.bind(Me(e,n),c)}),(function(t){return _t.bind(De(e,n,t),c)}),(function(t){var r=t(e)
var o=_t.map(Ee(e,n,y({})),(function(t){return Xt(r,t)}))
return _t.bind(o,u)}))}),(function(t,n){var o=n(e)
return _t.svalue(ie(t,r(o)))}))}
var Re=function(t,e,n,r){var o=W(n,(function(n){return Ae(t,e,n,r)}))
return be.consolidateObj(o,{})}
var He=function(t){var e=function(e,n,r){return t().extract(e,n,r)}
var n=function(){return t().toString()}
return{extract:e,toString:n}}
var Be=function(t){var e=function(e,n,r){return _t.bindError(t(r,n),(function(t){return Te(e,t)}))}
var n=function(){return"val"}
return{extract:e,toString:n}}
var Ie=function(t){return zt(Bt(t,(function(t){return void 0!==t&&null!==t})))}
var Le=function(t){var e=Pe(t)
var n=K(t,(function(t,e){return e.fold((function(e){return Xt(t,se(e,true))}),y(t))}),{})
var r=function(t,r,o){var a=c(o)?[]:Ie(o)
var i=X(a,(function(t){return!Ft(n,t)}))
return 0===i.length?e.extract(t,r,o):ke(t,i)}
return{extract:r,toString:e.toString}}
var Pe=function(t){var e=function(e,n,r){return Re(e,r,t,n)}
var n=function(){var e=W(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))}))
return"obj{\n"+e.join("\n")+"}"}
return{extract:e,toString:n}}
var Ne=function(t){var e=function(e,n,r){var o=W(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}))
return be.consolidateArr(o)}
var n=function(){return"array("+t.toString()+")"}
return{extract:e,toString:n}}
var Ve=function(t){var e=function(e,n,r){var o=[]
for(var a=0,i=t;a<i.length;a++){var u=i[a]
var c=u.extract(e,n,r)
if(c.stype===ht.Value)return c
o.push(c)}return be.consolidateArr(o)}
var n=function(){return"oneOf("+W(t,(function(t){return t.toString()})).join(", ")+")"}
return{extract:e,toString:n}}
var Fe=function(t,e){var n=function(e,n){return Ne(Be(t)).extract(e,w,n)}
var r=function(t,r,o){var a=zt(o)
var i=n(t,a)
return _t.bind(i,(function(n){var a=W(n,(function(t){return _e.field(t,t,te(),e)}))
return Pe(a).extract(t,r,o)}))}
var o=function(){return"setOf("+e.toString()+")"}
return{extract:r,toString:o}}
var je=function(t,e){var n=Yt((function(){return e()}))
var r=function(t,e,r){return n().extract(t,e,r)}
var o=function(){return n().toString()}
return{extract:r,toString:o}}
var Ue=y(Be(_t.svalue))
var We=p(Ne,Pe)
var qe=_e.state
var Ge=_e.field
var $e=function(t,e,n,r,o){var a=Nt(r,o)
return a.fold((function(){return Oe(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))}
var Xe=function(t,e){var n=function(n,r,o){var a=Nt(o,t)
return a.fold((function(){return Se(n,t)}),(function(t){return $e(n,r,o,e,t)}))}
var r=function(){return"chooseOn("+t+"). Possible values: "+zt(e)}
return{extract:n,toString:r}}
var Ke=Be(_t.svalue)
var Ye=function(t){return We(t)}
var Je=function(){return Ne(Ke)}
var Ze=He
var Qe=function(t){return Be((function(e){return t(e).fold(_t.serror,_t.svalue)}))}
var tn=function(t,e){return Fe((function(e){return _t.fromResult(t(e))}),e)}
var en=function(t,e,n,r){var o=e.extract([t],n,r)
return _t.mapError(o,(function(t){return{input:r,errors:t}}))}
var nn=function(t,e,n){return _t.toResult(en(t,e,w,n))}
var rn=function(t){return t.fold((function(t){throw new Error(an(t))}),w)}
var on=function(t,e,n){return rn(nn(t,e,n))}
var an=function(t){return"Errors: \n"+we(t.errors).join("\n")+"\n\nInput object: "+ye(t.input)}
var un=function(t,e){return Xe(t,e)}
var cn=function(t,e){return Xe(t,Dt(e,Pe))}
var sn=function(t,e){return je(t,e)}
var ln=y(Ke)
var vn=function(t,e){return Be((function(n){var r=typeof n
return t(n)?_t.svalue(n):_t.serror("Expected type: "+e+" but got: "+r)}))}
var fn=vn(d,"number")
var dn=vn(a,"string")
var mn=vn(c,"boolean")
var gn=vn(f,"function")
var hn=function(t){var e=function(t,e){var n=t.next()
while(!n.done){if(!e(n.value))return false
n=t.next()}return true}
if(Object(t)!==t)return true
switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return true
case"Array":case"Object":return Object.keys(t).every((function(e){return hn(t[e])}))
case"Map":return e(t.keys(),hn)&&e(t.values(),hn)
case"Set":return e(t.keys(),hn)
default:return false}}
var pn=Be((function(t){return hn(t)?_t.svalue(t):_t.serror("Expected value to be acceptable for sending via postMessage")}))
var bn=function(t){return Qe((function(e){return V(t,e)?gt.value(e):gt.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))}
var yn=function(t){return Ge(t,t,te(),Ue())}
var wn=function(t,e){return Ge(t,t,te(),e)}
var xn=function(t){return wn(t,fn)}
var Cn=function(t){return wn(t,dn)}
var Sn=function(t,e){return Ge(t,t,te(),bn(e))}
var On=function(t){return wn(t,mn)}
var kn=function(t){return wn(t,gn)}
var Tn=function(t,e){return Ge(t,t,ee(),Be((function(n){return _t.serror("The field: "+t+" is forbidden. "+e)})))}
var _n=function(t,e){return Ge(t,t,te(),Pe(e))}
var zn=function(t,e){return Ge(t,t,te(),We(e))}
var En=function(t,e){return Ge(t,t,te(),Ne(e))}
var Mn=function(t){return Ge(t,t,ee(),Ue())}
var Dn=function(t,e){return Ge(t,t,ee(),e)}
var An=function(t){return Dn(t,fn)}
var Rn=function(t){return Dn(t,dn)}
var Hn=function(t){return Dn(t,gn)}
var Bn=function(t,e){return Dn(t,Ne(e))}
var In=function(t,e){return Dn(t,Pe(e))}
var Ln=function(t,e){return Dn(t,Le(e))}
var Pn=function(t,e){return Ge(t,t,Zt(e),Ue())}
var Nn=function(t,e,n){return Ge(t,t,Zt(e),n)}
var Vn=function(t,e){return Nn(t,e,fn)}
var Fn=function(t,e){return Nn(t,e,dn)}
var jn=function(t,e,n){return Nn(t,e,bn(n))}
var Un=function(t,e){return Nn(t,e,mn)}
var Wn=function(t,e){return Nn(t,e,gn)}
var qn=function(t,e){return Nn(t,e,pn)}
var Gn=function(t,e,n){return Nn(t,e,Ne(n))}
var $n=function(t,e,n){return Nn(t,e,Pe(n))}
var Xn=function(t,e){return qe(t,e)}
var Kn=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Yn=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return Qn(r.childNodes[0])}
var Jn=function(t,e){var n=e||document
var r=n.createElement(t)
return Qn(r)}
var Zn=function(t,e){var n=e||document
var r=n.createTextNode(t)
return Qn(r)}
var Qn=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var tr=function(t,e,n){return H.from(t.dom.elementFromPoint(e,n)).map(Qn)}
var er={fromHtml:Yn,fromTag:Jn,fromText:Zn,fromDom:Qn,fromPoint:tr}
var nr=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var v=!s&&!c&&!l
return{isiPad:y(o),isiPhone:y(a),isTablet:y(c),isPhone:y(s),isTouch:y(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:y(l),isDesktop:y(v)}}
var rr=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var or=function(t,e){var n=rr(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return ur(r(1),r(2))}
var ar=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return ir()
return or(t,n)}
var ir=function(){return ur(0,0)}
var ur=function(t,e){return{major:t,minor:e}}
var cr={nu:ur,detect:ar,unknown:ir}
var sr=function(t,e){var n=String(e).toLowerCase()
return Z(t,(function(t){return t.search(n)}))}
var lr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var vr=function(t,e){return sr(t,e).map((function(t){var n=cr.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var fr={detectBrowser:lr,detectOs:vr}
var dr=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var mr=function(t,e){return-1!==t.indexOf(e)}
var gr=function(t,e){return dr(t,e,t.length-e.length)}
var hr=function(t){return function(e){return e.replace(t,"")}}
var pr=hr(/^\s+|\s+$/g)
var br=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var yr=function(t){return function(e){return mr(e,t)}}
var wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mr(t,"edge/")&&mr(t,"chrome")&&mr(t,"safari")&&mr(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,br],search:function(t){return mr(t,"chrome")&&!mr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mr(t,"msie")||mr(t,"trident")}},{name:"Opera",versionRegexes:[br,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yr("firefox")},{name:"Safari",versionRegexes:[br,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mr(t,"safari")||mr(t,"mobile/"))&&mr(t,"applewebkit")}}]
var xr=[{name:"Windows",search:yr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mr(t,"iphone")||mr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yr("linux"),versionRegexes:[]},{name:"Solaris",search:yr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var Cr={browsers:y(wr),oses:y(xr)}
var Sr="Edge"
var Or="Chrome"
var kr="IE"
var Tr="Opera"
var _r="Firefox"
var zr="Safari"
var Er=function(){return Mr({current:void 0,version:cr.unknown()})}
var Mr=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(Sr),isChrome:r(Or),isIE:r(kr),isOpera:r(Tr),isFirefox:r(_r),isSafari:r(zr)}}
var Dr={unknown:Er,nu:Mr,edge:y(Sr),chrome:y(Or),ie:y(kr),opera:y(Tr),firefox:y(_r),safari:y(zr)}
var Ar="Windows"
var Rr="iOS"
var Hr="Android"
var Br="Linux"
var Ir="OSX"
var Lr="Solaris"
var Pr="FreeBSD"
var Nr="ChromeOS"
var Vr=function(){return Fr({current:void 0,version:cr.unknown()})}
var Fr=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Ar),isiOS:r(Rr),isAndroid:r(Hr),isOSX:r(Ir),isLinux:r(Br),isSolaris:r(Lr),isFreeBSD:r(Pr),isChromeOS:r(Nr)}}
var jr={unknown:Vr,nu:Fr,windows:y(Ar),ios:y(Rr),android:y(Hr),linux:y(Br),osx:y(Ir),solaris:y(Lr),freebsd:y(Pr),chromeos:y(Nr)}
var Ur=function(t,e){var n=Cr.browsers()
var r=Cr.oses()
var o=fr.detectBrowser(n,t).fold(Dr.unknown,Dr.nu)
var a=fr.detectOs(r,t).fold(jr.unknown,jr.nu)
var i=nr(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Wr={detect:Ur}
var qr=function(t){return window.matchMedia(t).matches}
var Gr=Yt((function(){return Wr.detect(navigator.userAgent,qr)}))
var $r=function(){return Gr()}
var Xr=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var Kr=function(t,e){return Xr(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var Yr=9
var Jr=11
var Zr=1
var Qr=3
var to=function(t,e){var n=t.dom
if(n.nodeType!==Zr)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var eo=function(t){return t.nodeType!==Zr&&t.nodeType!==Yr&&t.nodeType!==Jr||0===t.childElementCount}
var no=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?[]:W(n.querySelectorAll(t),er.fromDom)}
var ro=function(t,e){var n=void 0===e?document:e.dom
return eo(n)?H.none():H.from(n.querySelector(t)).map(er.fromDom)}
var oo=function(t,e){return t.dom===e.dom}
var ao=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var io=function(t,e){return Kr(t.dom,e.dom)}
var uo=function(t,e){return $r().browser.isIE()?io(t,e):ao(t,e)}
var co=function(t){return f(t)?t:O}
var so=function(t,e,n){var r=t.dom
var o=co(n)
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
var i=e(a)
if(i.isSome())return i
if(o(a))break}return H.none()}
var lo=function(t,e,n){var r=e(t)
var o=co(n)
return r.orThunk((function(){return o(t)?H.none():so(t,e,o)}))}
var vo=function(t,e){return oo(t.element,e.event.target)}
var fo=function(t){if(!Ft(t,"can")&&!Ft(t,"abort")&&!Ft(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!")
return on("Extracting event.handler",Le([Pn("can",k),Pn("abort",O),Pn("run",g)]),t)}
var mo=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Y(t,(function(t,r){return t&&e(r).apply(void 0,n)}),true)}}
var go=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return Y(t,(function(t,r){return t||e(r).apply(void 0,n)}),false)}}
var ho=function(t){return f(t)?{can:k,abort:O,run:t}:t}
var po=function(t){var e=mo(t,(function(t){return t.can}))
var n=go(t,(function(t){return t.abort}))
var r=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
q(t,(function(t){t.run.apply(void 0,e)}))}
return fo({can:e,abort:n,run:r})}
var bo=y
var yo=bo("touchstart")
var wo=bo("touchmove")
var xo=bo("touchend")
var Co=bo("touchcancel")
var So=bo("mousedown")
var Oo=bo("mousemove")
var ko=bo("mouseout")
var To=bo("mouseup")
var _o=bo("mouseover")
var zo=bo("focusin")
var Eo=bo("focusout")
var Mo=bo("keydown")
var Do=bo("keyup")
var Ao=bo("input")
var Ro=bo("change")
var Ho=bo("click")
var Bo=bo("transitionend")
var Io=bo("selectstart")
var Lo=function(t){return y("alloy."+t)}
var Po={tap:Lo("tap")}
var No=Lo("focus")
var Vo=Lo("blur.post")
var Fo=Lo("paste.post")
var jo=Lo("receive")
var Uo=Lo("execute")
var Wo=Lo("focus.item")
var qo=Po.tap
var Go=Lo("longpress")
var $o=Lo("sandbox.close")
var Xo=Lo("typeahead.cancel")
var Ko=Lo("system.init")
var Yo=Lo("system.touchmove")
var Jo=Lo("system.touchend")
var Zo=Lo("system.scroll")
var Qo=Lo("system.resize")
var ta=Lo("system.attached")
var ea=Lo("system.detached")
var na=Lo("system.dismissRequested")
var ra=Lo("system.repositionRequested")
var oa=Lo("focusmanager.shifted")
var aa=Lo("slotcontainer.visibility")
var ia=Lo("change.tab")
var ua=Lo("dismiss.tab")
var ca=Lo("highlight")
var sa=Lo("dehighlight")
var la=function(t,e){ma(t,t.element,e,{})}
var va=function(t,e,n){ma(t,t.element,e,n)}
var fa=function(t){la(t,Uo())}
var da=function(t,e,n){ma(t,e,n,{})}
var ma=function(t,e,n,r){var o=_({target:e},r)
t.getSystem().triggerEvent(n,e,o)}
var ga=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event)}
var ha=function(t){return le(t)}
var pa=function(t,e){return{key:t,value:fo({abort:e})}}
var ba=function(t,e){return{key:t,value:fo({can:e})}}
var ya=function(t){return{key:t,value:fo({run:function(t,e){e.event.prevent()}})}}
var wa=function(t,e){return{key:t,value:fo({run:e})}}
var xa=function(t,e,n){return{key:t,value:fo({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}}
var Ca=function(t){return function(e){return wa(t,e)}}
var Sa=function(t){return function(e){return{key:t,value:fo({run:function(t,n){vo(t,n)&&e(t,n)}})}}}
var Oa=function(t,e){return wa(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){ga(e,e.element,t,r)}))}))}
var ka=function(t,e,n){var r=e.partUids[n]
return Oa(t,r)}
var Ta=function(t,e){return wa(t,(function(t,n){var r=n.event
var o=t.getSystem().getByDom(r.target).fold((function(){var e=lo(r.target,(function(e){return t.getSystem().getByDom(e).toOptional()}),O)
return e.getOr(t)}),(function(t){return t}))
e(t,o,n)}))}
var _a=function(t){return wa(t,(function(t,e){e.cut()}))}
var za=function(t){return wa(t,(function(t,e){e.stop()}))}
var Ea=function(t,e){return Sa(t)(e)}
var Ma=Sa(ta())
var Da=Sa(ea())
var Aa=Sa(Ko())
var Ra=Ca(Uo())
"undefined"!==typeof window?window:Function("return this;")()
var Ha=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Ba=function(t){return t.dom.nodeType}
var Ia=function(t){return function(e){return Ba(e)===t}}
var La=Ia(Zr)
var Pa=Ia(Qr)
var Na=Ia(Yr)
var Va=Ia(Jr)
var Fa=function(t){return er.fromDom(t.dom.ownerDocument)}
var ja=function(t){return Na(t)?t:Fa(t)}
var Ua=function(t){return er.fromDom(ja(t).dom.documentElement)}
var Wa=function(t){return er.fromDom(ja(t).dom.defaultView)}
var qa=function(t){return H.from(t.dom.parentNode).map(er.fromDom)}
var Ga=function(t){return qa(t)}
var $a=function(t){return H.from(t.dom.offsetParent).map(er.fromDom)}
var Xa=function(t){return H.from(t.dom.nextSibling).map(er.fromDom)}
var Ka=function(t){return W(t.dom.childNodes,er.fromDom)}
var Ya=function(t,e){var n=t.dom.childNodes
return H.from(n[e]).map(er.fromDom)}
var Ja=function(t){return Ya(t,0)}
var Za=function(t){return Va(t)&&v(t.dom.host)}
var Qa=f(Element.prototype.attachShadow)&&f(Node.prototype.getRootNode)
var ti=y(Qa)
var ei=Qa?function(t){return er.fromDom(t.dom.getRootNode())}:ja
var ni=function(t){return Za(t)?t:er.fromDom(ja(t).dom.body)}
var ri=function(t){return oi(t).isSome()}
var oi=function(t){var e=ei(t)
return Za(e)?H.some(e):H.none()}
var ai=function(t){return er.fromDom(t.dom.host)}
var ii=function(t){if(ti()&&v(t.target)){var e=er.fromDom(t.target)
if(La(e)&&ui(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return ct(n)}}return H.from(t.target)}
var ui=function(t){return v(t.dom.shadowRoot)}
var ci=function(t,e){var n=qa(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var si=function(t,e){var n=Xa(t)
n.fold((function(){var n=qa(t)
n.each((function(t){vi(t,e)}))}),(function(t){ci(t,e)}))}
var li=function(t,e){var n=Ja(t)
n.fold((function(){vi(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var vi=function(t,e){t.dom.appendChild(e.dom)}
var fi=function(t,e,n){Ya(t,n).fold((function(){vi(t,e)}),(function(t){ci(t,e)}))}
var di=function(t,e){q(e,(function(e){ci(t,e)}))}
var mi=function(t,e){q(e,(function(e){vi(t,e)}))}
var gi=function(t){t.dom.textContent=""
q(Ka(t),(function(t){hi(t)}))}
var hi=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var pi=function(t){var e=Ka(t)
e.length>0&&di(t,e)
hi(t)}
var bi=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return Ka(er.fromDom(r))}
var yi=function(t){return t.dom.innerHTML}
var wi=function(t,e){var n=Fa(t)
var r=n.dom
var o=er.fromDom(r.createDocumentFragment())
var a=bi(e,r)
mi(o,a)
gi(t)
vi(t,o)}
var xi=function(t){var e=er.fromTag("div")
var n=er.fromDom(t.dom.cloneNode(true))
vi(e,n)
return yi(e)}
var Ci=function(t,e,n){if(!(a(n)||c(n)||d(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Si=function(t,e,n){Ci(t.dom,e,n)}
var Oi=function(t,e){var n=t.dom
Mt(e,(function(t,e){Ci(n,e,t)}))}
var ki=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var Ti=function(t,e){return H.from(ki(t,e))}
var _i=function(t,e){var n=t.dom
return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}
var zi=function(t,e){t.dom.removeAttribute(e)}
var Ei=function(t,e){return er.fromDom(t.dom.cloneNode(e))}
var Mi=function(t){return Ei(t,false)}
var Di=function(t){if(Za(t))return"#shadow-root"
var e=Mi(t)
return xi(e)}
var Ai=function(t){return Di(t)}
var Ri=function(t,e,n){return oo(e,t.element)&&!oo(e,n)}
var Hi=ha([ba(No(),(function(t,e){var n=e.event
var r=n.originator
var o=n.target
if(Ri(t,r,o)){console.warn(No()+" did not get interpreted by the desired target. \nOriginator: "+Ai(r)+"\nTarget: "+Ai(o)+"\nCheck the "+No()+" event handlers")
return false}return true}))])
var Bi=Object.freeze({__proto__:null,events:Hi})
var Ii=0
var Li=function(t){var e=new Date
var n=e.getTime()
var r=Math.floor(1e9*Math.random())
Ii++
return t+"_"+r+Ii+String(n)}
var Pi=y("alloy-id-")
var Ni=y("data-alloy-id")
var Vi=Pi()
var Fi=Ni()
var ji=function(t,e){var n=Li(Vi+t)
Ui(e,n)
return n}
var Ui=function(t,e){Object.defineProperty(t.dom,Fi,{value:e,writable:true})}
var Wi=function(t){var e=La(t)?t.dom[Fi]:null
return H.from(e)}
var qi=function(t){return Li(t)}
var Gi=w
var $i=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+Ai(t().element)+" is not in context.":""))}}
return{debugInfo:y("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:O}}
var Xi=$i()
var Ki=function(t,e,n){var r=n.toString()
var o=r.indexOf(")")+1
var a=r.indexOf("(")
var i=r.substring(a+1,o-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Yi(i.slice(0,1).concat(i.slice(3)))}}
return t}
var Yi=function(t){return W(t,(function(t){return gr(t,"/*")?t.substring(0,t.length-"/*".length):t}))}
var Ji=function(t,e){var n=t.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:e,parameters:Yi(a)}}
return t}
var Zi=function(t,e){var n=e.toString()
var r=n.indexOf(")")+1
var o=n.indexOf("(")
var a=n.substring(o+1,r-1).split(/,\s*/)
t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Yi(a.slice(1))}}
return t}
var Qi=Li("alloy-premade")
var tu=function(t){return se(Qi,t)}
var eu=function(t){return Nt(t,Qi)}
var nu=function(t){return Zi((function(e){var n=[]
for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r]
return t.apply(void 0,E([e.getApis(),e],n))}),t)}
var ru={init:function(){return ou({readState:function(){return"No State required"}})}}
var ou=function(t){return t}
var au=function(t,e){var n=W(e,(function(t){return In(t.name(),[yn("config"),Pn("state",ru)])}))
var r=nn("component.behaviours",Pe(n),t.behaviours).fold((function(e){throw new Error(an(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}))
return{list:e,data:Dt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}))
return function(){return e}}))}}
var iu=function(t){return t.list}
var uu=function(t){return t.data}
var cu=function(t,e){var n={}
Mt(t,(function(t,r){Mt(t,(function(t,o){var a=Nt(n,o).getOr([])
n[o]=a.concat([e(r,t)])}))}))
return n}
var su=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}}
var lu=function(t,e){return _(_({},t),{attributes:_(_({},t.attributes),e.attributes),styles:_(_({},t.styles),e.styles),classes:t.classes.concat(e.classes)})}
var vu=function(t,e,n,r){var o=_({},e)
q(n,(function(e){o[e.name()]=e.exhibit(t,r)}))
var a=cu(o,(function(t,e){return{name:t,modification:e}}))
var i=function(t){return K(t,(function(t,e){return _(_({},e.modification),t)}),{})}
var u=K(a.classes,(function(t,e){return e.modification.concat(t)}),[])
var c=i(a.attributes)
var s=i(a.styles)
return su({classes:u,attributes:c,styles:s})}
var fu=function(t,e,n,r){try{var o=it(n,(function(n,o){var a=n[e]
var i=o[e]
var u=r.indexOf(a)
var c=r.indexOf(i)
if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2))
if(-1===c)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2))
return u<c?-1:c<u?1:0}))
return gt.value(o)}catch(t){return gt.error([t])}}
var du=function(t,e){return{handler:t,purpose:e}}
var mu=function(t,e){return{cHandler:t,purpose:e}}
var gu=function(t,e){return mu(x.apply(void 0,[t.handler].concat(e)),t.purpose)}
var hu=function(t){return t.cHandler}
var pu=function(t,e){return{name:t,handler:e}}
var bu=function(t,e){var n={}
q(t,(function(t){n[t.name()]=t.handlers(e)}))
return n}
var yu=function(t,e,n){var r=_(_({},n),bu(e,t))
return cu(r,pu)}
var wu=function(t,e,n,r){var o=yu(t,n,r)
return Ou(o,e)}
var xu=function(t){var e=ho(t)
return function(t,n){var r=[]
for(var o=2;o<arguments.length;o++)r[o-2]=arguments[o]
var a=[t,n].concat(r)
e.abort.apply(void 0,a)?n.stop():e.can.apply(void 0,a)&&e.run.apply(void 0,a)}}
var Cu=function(t,e){return gt.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(W(e,(function(t){return t.name})),null,2)])}
var Su=function(t,e,n){var r=e[n]
return r?fu("Event: "+n,"name",t,r).map((function(t){var e=W(t,(function(t){return t.handler}))
return po(e)})):Cu(n,t)}
var Ou=function(t,e){var n=It(t,(function(t,n){var r=1===t.length?gt.value(t[0].handler):Su(t,e,n)
return r.map((function(r){var o=xu(r)
var a=t.length>1?X(e[n],(function(e){return F(t,(function(t){return t.name===e}))})).join(" > "):t[0].name
return se(n,du(o,a))}))}))
return de(n,{})}
var ku="alloy.base.behaviour"
var Tu=function(t){var e
return nn("custom.definition",Pe([Ge("dom","dom",te(),Pe([yn("tag"),Pn("styles",{}),Pn("classes",[]),Pn("attributes",{}),Mn("value"),Mn("innerHtml")])),yn("components"),yn("uid"),Pn("events",{}),Pn("apis",{}),Ge("eventOrder","eventOrder",Qt((e={},e[Uo()]=["disabling",ku,"toggling","typeaheadevents"],e[No()]=[ku,"focusing","keying"],e[Ko()]=[ku,"disabling","toggling","representing"],e[Ao()]=[ku,"representing","streaming","invalidating"],e[ea()]=[ku,"representing","item-events","tooltipping"],e[So()]=["focusing",ku,"item-type-events"],e[yo()]=["focusing",ku,"item-type-events"],e[_o()]=["item-type-events","tooltipping"],e[jo()]=["receiving","reflecting","tooltipping"],e)),ln()),Mn("domModification")]),t)}
var _u=function(t){return _(_({},t.dom),{uid:t.uid,domChildren:W(t.components,(function(t){return t.element}))})}
var zu=function(t){return t.domModification.fold((function(){return su({})}),su)}
var Eu=function(t){return t.events}
var Mu=function(t,e){var n=ki(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var Du=function(t,e,n){var r=Mu(t,e)
var o=r.concat([n])
Si(t,e,o.join(" "))
return true}
var Au=function(t,e,n){var r=X(Mu(t,e),(function(t){return t!==n}))
r.length>0?Si(t,e,r.join(" ")):zi(t,e)
return false}
var Ru=function(t){return void 0!==t.dom.classList}
var Hu=function(t){return Mu(t,"class")}
var Bu=function(t,e){return Du(t,"class",e)}
var Iu=function(t,e){return Au(t,"class",e)}
var Lu=function(t,e){Ru(t)?t.dom.classList.add(e):Bu(t,e)}
var Pu=function(t){var e=Ru(t)?t.dom.classList:Hu(t)
0===e.length&&zi(t,"class")}
var Nu=function(t,e){if(Ru(t)){var n=t.dom.classList
n.remove(e)}else Iu(t,e)
Pu(t)}
var Vu=function(t,e){return Ru(t)&&t.dom.classList.contains(e)}
var Fu=function(t,e){q(e,(function(e){Lu(t,e)}))}
var ju=function(t,e){q(e,(function(e){Nu(t,e)}))}
var Uu=function(t){return void 0!==t.style&&f(t.style.getPropertyValue)}
var Wu=function(t){var e=Pa(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return oi(er.fromDom(e)).fold((function(){return n.body.contains(e)}),b(Wu,ai))}
var qu=function(){return Gu(er.fromDom(document))}
var Gu=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return er.fromDom(e)}
var $u=function(t,e,n){if(!a(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Uu(t)&&t.style.setProperty(e,n)}
var Xu=function(t,e){Uu(t)&&t.style.removeProperty(e)}
var Ku=function(t,e,n){var r=t.dom
$u(r,e,n)}
var Yu=function(t,e){var n=t.dom
Mt(e,(function(t,e){$u(n,e,t)}))}
var Ju=function(t,e){var n=t.dom
Mt(e,(function(t,e){t.fold((function(){Xu(n,e)}),(function(t){$u(n,e,t)}))}))}
var Zu=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||Wu(t)?o:Qu(n,e)}
var Qu=function(t,e){return Uu(t)?t.style.getPropertyValue(e):""}
var tc=function(t,e){var n=t.dom
var r=Qu(n,e)
return H.from(r).filter((function(t){return t.length>0}))}
var ec=function(t){var e={}
var n=t.dom
if(Uu(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r)
e[o]=n.style[o]}return e}
var nc=function(t,e,n){var r=er.fromTag(t)
Ku(r,e,n)
var o=tc(r,e)
return o.isSome()}
var rc=function(t,e){var n=t.dom
Xu(n,e)
Ti(t,"style").map(pr).is("")&&zi(t,"style")}
var oc=function(t){return t.dom.offsetWidth}
var ac=function(t){return t.dom.value}
var ic=function(t,e){if(void 0===e)throw new Error("Value.set was undefined")
t.dom.value=e}
var uc=function(t){var e=er.fromTag(t.tag)
Oi(e,t.attributes)
Fu(e,t.classes)
Yu(e,t.styles)
t.innerHtml.each((function(t){return wi(e,t)}))
var n=t.domChildren
mi(e,n)
t.value.each((function(t){ic(e,t)}))
t.uid
Ui(e,t.uid)
return e}
var cc=function(t){var e=Nt(t,"behaviours").getOr({})
var n=X(zt(e),(function(t){return void 0!==e[t]}))
return W(n,(function(t){return e[t].me}))}
var sc=function(t,e){return au(t,e)}
var lc=function(t){var e=cc(t)
return sc(t,e)}
var vc=function(t,e,n){var r=_u(t)
var o=zu(t)
var a={"alloy.base.modification":o}
var i=e.length>0?vu(n,a,e,r):o
return lu(r,i)}
var fc=function(t,e,n){var r={"alloy.base.behaviour":Eu(t)}
return wu(n,t.eventOrder,e,r).getOrDie()}
var dc=function(t){var e=function(){return y}
var n=Kn(Xi)
var r=rn(Tu(t))
var o=lc(t)
var a=iu(o)
var i=uu(o)
var u=vc(r,a,i)
var c=uc(u)
var s=fc(r,a,i)
var l=Kn(r.components)
var v=function(t){n.set(t)}
var d=function(){n.set($i(e))}
var m=function(){var t=Ka(c)
var e=et(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}))
l.set(e)}
var g=function(e){var n=i
var r=f(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))}
return r()}
var h=function(t){return f(i[t.name()])}
var p=function(){return r.apis}
var b=function(t){return i[t]().map((function(t){return t.state.readState()})).getOr("not enabled")}
var y={getSystem:n.get,config:g,hasConfigured:h,spec:t,readState:b,getApis:p,connect:v,disconnect:d,element:c,syncComponents:m,components:l.get,events:s}
return y}
var mc=function(t){var e=Nt(t,"components").getOr([])
return W(e,yc)}
var gc=function(t){var e=Gi(t),n=e.events,r=z(e,["events"])
var o=mc(r)
var a=_(_({},r),{events:_(_({},Bi),n),components:o})
return gt.value(dc(a))}
var hc=function(t){var e=er.fromText(t)
return pc({element:e})}
var pc=function(t){var e=on("external.component",Le([yn("element"),Mn("uid")]),t)
var n=Kn($i())
var r=function(t){n.set(t)}
var o=function(){n.set($i((function(){return a})))}
e.uid.each((function(t){Ui(e.element,t)}))
var a={getSystem:n.get,config:H.none,hasConfigured:O,connect:r,disconnect:o,getApis:function(){return{}},element:e.element,spec:t,readState:y("No state"),syncComponents:g,components:y([]),events:{}}
return tu(a)}
var bc=qi
var yc=function(t){return eu(t).fold((function(){var e=t.hasOwnProperty("uid")?t:_({uid:bc("")},t)
return gc(e).getOrDie()}),(function(t){return t}))}
var wc=tu
var xc=function(t,e){var n=function(e,n){if(!d(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Uu(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=Zu(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return Y(e,(function(e,n){var r=Zu(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var Cc=xc("height",(function(t){var e=t.dom
return Wu(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var Sc=function(t){return Cc.get(t)}
var Oc=function(t){return Cc.getOuter(t)}
var kc=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]
var r=Cc.max(t,e,n)
Ku(t,"max-height",r+"px")}
var Tc=function(t,e){var n=function(n,r){return Tc(t+n,e+r)}
return{left:t,top:e,translate:n}}
var _c=Tc
var zc=function(t){var e=t.getBoundingClientRect()
return _c(e.left,e.top)}
var Ec=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var Mc=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return _c(n.offsetLeft,n.offsetTop)
var a=Ec(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Ec(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Ec(o.clientTop,n.clientTop)
var c=Ec(o.clientLeft,n.clientLeft)
return Dc(t).translate(i-c,a-u)}
var Dc=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return _c(r.offsetLeft,r.offsetTop)
if(!Wu(t))return _c(0,0)
return zc(e)}
var Ac=xc("width",(function(t){return t.dom.offsetWidth}))
var Rc=function(t,e){return Ac.set(t,e)}
var Hc=function(t){return Ac.get(t)}
var Bc=function(t){return Ac.getOuter(t)}
var Ic=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]
var r=Ac.max(t,e,n)
Ku(t,"max-width",r+"px")}
var Lc=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Pc=function(t){var e=er.fromDom(ii(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var o=p(r,n)
return Lc(e,t.clientX,t.clientY,n,r,o,t)}
var Nc=function(t,e){return function(n){t(n)&&e(Pc(n))}}
var Vc=function(t,e,n,r,o){var a=Nc(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:x(Uc,t,e,a,o)}}
var Fc=function(t,e,n,r){return Vc(t,e,n,r,false)}
var jc=function(t,e,n,r){return Vc(t,e,n,r,true)}
var Uc=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Wc=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return _c(n,r)}
var qc=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollTo(t,e)}
var Gc=function(t){var e=void 0===t?window:t
return H.from(e["visualViewport"])}
var $c=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var Xc=function(t){var e=void 0===t?window:t
var n=e.document
var r=Wc(er.fromDom(n))
return Gc(e).fold((function(){var t=e.document.documentElement
var n=t.clientWidth
var o=t.clientHeight
return $c(r.left,r.top,n,o)}),(function(t){return $c(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))}
var Kc=function(t,e){var n=t.view(e)
return n.fold(y([]),(function(e){var n=t.owner(e)
var r=Kc(t,n)
return[e].concat(r)}))}
var Yc=function(t,e){var n=e.owner(t)
var r=Kc(e,n)
return H.some(r)}
var Jc=function(t){var e
var n=t.dom===document?H.none():H.from(null===(e=t.dom.defaultView)||void 0===e?void 0:e.frameElement)
return n.map(er.fromDom)}
var Zc=function(t){return Fa(t)}
var Qc=Object.freeze({__proto__:null,view:Jc,owner:Zc})
var ts=function(t){var e=er.fromDom(document)
var n=Wc(e)
var r=Yc(t,Qc)
return r.fold(x(Mc,t),(function(e){var r=Dc(t)
var o=K(e,(function(t,e){var n=Dc(e)
return{left:t.left+n.left,top:t.top+n.top}}),{left:0,top:0})
return _c(o.left+r.left+n.left,o.top+r.top+n.top)}))}
var es=function(t,e,n){return{point:t,width:e,height:n}}
var ns=function(t,e,n,r){return{x:t,y:e,width:n,height:r}}
var rs=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var os=function(t){var e=Mc(t)
var n=Bc(t)
var r=Oc(t)
return rs(e.left,e.top,n,r)}
var as=function(t){var e=ts(t)
var n=Bc(t)
var r=Oc(t)
return rs(e.left,e.top,n,r)}
var is=function(){return Xc(window)}
function us(t,e,n,r,o){return t(n,r)?H.some(n):f(o)&&o(n)?H.none():e(n,r,o)}var cs=function(t,e,n){var r=t.dom
var o=f(n)?n:O
while(r.parentNode){r=r.parentNode
var a=er.fromDom(r)
if(e(a))return H.some(a)
if(o(a))break}return H.none()}
var ss=function(t,e,n){var r=function(t,e){return e(t)}
return us(r,cs,t,e,n)}
var ls=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=er.fromDom(t.childNodes[r])
if(e(o))return H.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return H.none()}
return n(t.dom)}
var vs=function(t,e,n){return ss(t,e,n).isSome()}
var fs=function(t,e,n){return cs(t,(function(t){return to(t,e)}),n)}
var ds=function(t,e){return ro(e,t)}
var ms=function(t,e,n){var r=function(t,e){return to(t,e)}
return us(r,fs,t,e,n)}
var gs=function(t){var e=ss(t,(function(t){if(!La(t))return false
var e=ki(t,"id")
return void 0!==e&&e.indexOf("aria-owns")>-1}))
return e.bind((function(t){var e=ki(t,"id")
var n=ei(t)
return ds(n,'[aria-owns="'+e+'"]')}))}
var hs=function(){var t=Li("aria-owns")
var e=function(e){Si(e,"aria-owns",t)}
var n=function(t){zi(t,"aria-owns")}
return{id:t,link:e,unlink:n}}
var ps=function(t,e){return gs(e).exists((function(e){return bs(t,e)}))}
var bs=function(t,e){return vs(e,(function(e){return oo(e,t.element)}),O)||ps(t,e)}
var ys="unknown"
var ws;(function(t){t[t["STOP"]=0]="STOP"
t[t["NORMAL"]=1]="NORMAL"
t[t["LOGGING"]=2]="LOGGING"})(ws||(ws={}))
var xs=Kn({})
var Cs=function(t,e){var n=[]
var r=(new Date).getTime()
return{logEventCut:function(t,e,r){n.push({outcome:"cut",target:e,purpose:r})},logEventStopped:function(t,e,r){n.push({outcome:"stopped",target:e,purpose:r})},logNoParent:function(t,e,r){n.push({outcome:"no-parent",target:e,purpose:r})},logEventNoHandlers:function(t,e){n.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,r){n.push({outcome:"response",purpose:r,target:e})},write:function(){var o=(new Date).getTime()
if(V(["mousemove","mouseover","mouseout",Ko()],t))return
console.log(t,{event:t,time:o-r,target:e.dom,sequence:W(n,(function(t){return V(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Ai(t.target)+")":t.outcome}))})}}}
var Ss=function(t,e,n){var r=Nt(xs.get(),t).orThunk((function(){var e=zt(xs.get())
return vt(e,(function(e){return t.indexOf(e)>-1?H.some(xs.get()[e]):H.none()}))})).getOr(ws.NORMAL)
switch(r){case ws.NORMAL:return n(zs())
case ws.LOGGING:var o=Cs(t,e)
var a=n(o)
o.write()
return a
case ws.STOP:return true}}
var Os=["alloy/data/Fields","alloy/debugging/Debugging"]
var ks=function(){var t=new Error
if(void 0!==t.stack){var e=t.stack.split("\n")
return Z(e,(function(t){return t.indexOf("alloy")>0&&!F(Os,(function(e){return t.indexOf(e)>-1}))})).getOr(ys)}return ys}
var Ts={logEventCut:g,logEventStopped:g,logNoParent:g,logEventNoHandlers:g,logEventResponse:g,write:g}
var _s=function(t,e,n){return Ss(t,e,n)}
var zs=y(Ts)
var Es=y([yn("menu"),yn("selectedMenu")])
var Ms=y([yn("item"),yn("selectedItem")])
y(Pe(Ms().concat(Es())))
var Ds=y(Pe(Ms()))
var As=_n("initSize",[yn("numColumns"),yn("numRows")])
var Rs=function(){return wn("markers",Ds())}
var Hs=function(){return _n("markers",[yn("backgroundMenu")].concat(Es()).concat(Ms()))}
var Bs=function(t){return _n("markers",W(t,yn))}
var Is=function(t,e,n){ks()
return Ge(e,e,n,Qe((function(t){return gt.value((function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
return t.apply(void 0,e)}))})))}
var Ls=function(t){return Is("onHandler",t,Zt(g))}
var Ps=function(t){return Is("onKeyboardHandler",t,Zt(H.none))}
var Ns=function(t){return Is("onHandler",t,te())}
var Vs=function(t){return Is("onKeyboardHandler",t,te())}
var Fs=function(t,e){return Xn(t,y(e))}
var js=function(t){return Xn(t,w)}
var Us=y(As)
var Ws=function(t,e,n,r,o,a){return{x:t,y:e,bubble:n,direction:r,boundsRestriction:o,label:a}}
var qs=Ut.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}])
var Gs=function(t,e,n,r,o,a,i,u,c){return t.fold(e,n,r,o,a,i,u,c)}
var $s=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}
var Xs=function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}
var Ks=qs.southeast
var Ys=qs.southwest
var Js=qs.northeast
var Zs=qs.northwest
var Qs=qs.south
var tl=qs.north
var el=qs.east
var nl=qs.west
var rl=function(t,e){switch(e){case 1:return t.x
case 0:return t.x+t.width
case 2:return t.y
case 3:return t.y+t.height}}
var ol=function(t,e){return at(["left","right","top","bottom"],(function(n){return Nt(e,n).map((function(e){return rl(t,e)}))}))}
var al=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top:n.left
return Nt(e,t).bind(w).bind((function(e){return"left"===t||"top"===t?e>=r?H.some(e):H.none():e<=r?H.some(e):H.none()})).map((function(t){return t+o})).getOr(r)}
var o=r("left",t.x)
var a=r("top",t.y)
var i=r("right",t.right)
var u=r("bottom",t.bottom)
return rs(o,a,i-o,u-a)}
var il=function(t){return t.x}
var ul=function(t,e){return t.x+t.width/2-e.width/2}
var cl=function(t,e){return t.x+t.width-e.width}
var sl=function(t,e){return t.y-e.height}
var ll=function(t){return t.y+t.height}
var vl=function(t,e){return t.y+t.height/2-e.height/2}
var fl=function(t){return t.x+t.width}
var dl=function(t,e){return t.x-e.width}
var ml=function(t,e,n){return Ws(il(t),ll(t),n.southeast(),Ks(),ol(t,{left:1,top:3}),"layout-se")}
var gl=function(t,e,n){return Ws(cl(t,e),ll(t),n.southwest(),Ys(),ol(t,{right:0,top:3}),"layout-sw")}
var hl=function(t,e,n){return Ws(il(t),sl(t,e),n.northeast(),Js(),ol(t,{left:1,bottom:2}),"layout-ne")}
var pl=function(t,e,n){return Ws(cl(t,e),sl(t,e),n.northwest(),Zs(),ol(t,{right:0,bottom:2}),"layout-nw")}
var bl=function(t,e,n){return Ws(ul(t,e),sl(t,e),n.north(),tl(),ol(t,{bottom:2}),"layout-n")}
var yl=function(t,e,n){return Ws(ul(t,e),ll(t),n.south(),Qs(),ol(t,{top:3}),"layout-s")}
var wl=function(t,e,n){return Ws(fl(t),vl(t,e),n.east(),el(),ol(t,{left:0}),"layout-e")}
var xl=function(t,e,n){return Ws(dl(t,e),vl(t,e),n.west(),nl(),ol(t,{right:1}),"layout-w")}
var Cl=function(){return[ml,gl,hl,pl,yl,bl,wl,xl]}
var Sl=function(){return[gl,ml,pl,hl,yl,bl,wl,xl]}
var Ol=function(){return[hl,pl,ml,gl,bl,yl]}
var kl=function(){return[pl,hl,gl,ml,bl,yl]}
var Tl=function(){return[ml,gl,hl,pl,yl,bl]}
var _l=function(){return[gl,ml,pl,hl,yl,bl]}
var zl=function(t,e){return e.universal?t:X(t,(function(t){return V(e.channels,t)}))}
var El=function(t){return ha([wa(jo(),(function(e,n){var r=t.channels
var o=zt(r)
var a=n
var i=zl(o,a)
q(i,(function(t){var n=r[t]
var o=n.schema
var i=on("channel["+t+"] data\nReceiver: "+Ai(e.element),o,a.data)
n.onReceive(e,i)}))}))])}
var Ml=Object.freeze({__proto__:null,events:El})
var Dl=[wn("channels",tn(gt.value,Le([Ns("onReceive"),Pn("schema",ln())])))]
var Al=function(t,e,n){return Ra((function(r){n(r,t,e)}))}
var Rl=function(t,e,n){return Aa((function(r,o){n(r,t,e)}))}
var Hl=function(t,e,n,r,o,a){var i=Le(t)
var u=In(e,[Ln("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Bl=function(t,e,n,r,o,a){var i=t
var u=In(e,[Dn("config",t)])
return Pl(i,u,e,n,r,o,a)}
var Il=function(t,e,n){var r=function(r){var o=[]
for(var a=1;a<arguments.length;a++)o[a-1]=arguments[a]
var i=[r].concat(o)
return r.config({name:y(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(i,1)
return e.apply(void 0,[r,t.config,t.state].concat(n))}))}
return Ki(r,n,e)}
var Ll=function(t){return{key:t,value:void 0}}
var Pl=function(t,e,n,r,o,a,i){var u=function(t){return Ft(t,n)?t[n]():H.none()}
var c=Dt(o,(function(t,e){return Il(n,t,e)}))
var s=Dt(a,(function(t,e){return Ji(t,e)}))
var l=_(_(_({},s),c),{revoke:x(Ll,n),config:function(e){var r=on(n+"-config",t,e)
return{key:n,value:{config:r,me:l,configAsRaw:Yt((function(){return on(n+"-config",t,e)})),initialConfig:e,state:i}}},schema:y(e),exhibit:function(t,e){return u(t).bind((function(t){return Nt(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(su({}))},name:y(n),handlers:function(t){return u(t).map((function(t){var e=Nt(r,"events").getOr((function(){return{}}))
return e(t.config,t.state)})).getOr({})}})
return l}
var Nl=function(t){return le(t)}
var Vl=Le([yn("fields"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",ru),Pn("extra",{})])
var Fl=function(t){var e=on("Creating behaviour: "+t.name,Vl,t)
return Hl(e.fields,e.name,e.active,e.apis,e.extra,e.state)}
var jl=Le([yn("branchKey"),yn("branches"),yn("name"),Pn("active",{}),Pn("apis",{}),Pn("state",ru),Pn("extra",{})])
var Ul=function(t){var e=on("Creating behaviour: "+t.name,jl,t)
return Bl(cn(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)}
var Wl=y(void 0)
var ql=Fl({fields:Dl,name:"receiving",active:Ml})
var Gl=function(t,e){return su({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}
var $l=Object.freeze({__proto__:null,exhibit:Gl})
var Xl=function(){return er.fromDom(document)}
var Kl=function(t){return t.dom.focus()}
var Yl=function(t){return t.dom.blur()}
var Jl=function(t){var e=ei(t).dom
return t.dom===e.activeElement}
var Zl=function(t){void 0===t&&(t=Xl())
return H.from(t.dom.activeElement).map(er.fromDom)}
var Ql=function(t){return Zl(ei(t)).filter((function(e){return t.dom.contains(e.dom)}))}
var tv=function(t,e){var n=ei(e)
var r=Zl(n).bind((function(t){var n=function(e){return oo(t,e)}
return n(e)?H.some(e):ls(e,n)}))
var o=t(e)
r.each((function(t){Zl(n).filter((function(e){return oo(e,t)})).fold((function(){Kl(t)}),g)}))
return o}
var ev=function(t,e,n,r,o){return{position:t,left:e,top:n,right:r,bottom:o}}
var nv=function(t,e){var n=function(t){return t+"px"}
Ju(t,{position:H.some(e.position),left:e.left.map(n),top:e.top.map(n),right:e.right.map(n),bottom:e.bottom.map(n)})}
var rv=Ut.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}])
var ov=function(t,e,n,r,o,a){var i=e.x-n
var u=e.y-r
var c=e.width
var s=e.height
var l=o-(i+c)
var v=a-(u+s)
var f=H.some(i)
var d=H.some(u)
var m=H.some(l)
var g=H.some(v)
var h=H.none()
return Gs(e.direction,(function(){return ev(t,f,d,h,h)}),(function(){return ev(t,h,d,m,h)}),(function(){return ev(t,f,h,h,g)}),(function(){return ev(t,h,h,m,g)}),(function(){return ev(t,f,d,h,h)}),(function(){return ev(t,f,h,h,g)}),(function(){return ev(t,f,d,h,h)}),(function(){return ev(t,h,d,m,h)}))}
var av=function(t,e){return t.fold((function(){return ev("absolute",H.some(e.x),H.some(e.y),H.none(),H.none())}),(function(t,n,r,o){return ov("absolute",e,t,n,r,o)}),(function(t,n,r,o){return ov("fixed",e,t,n,r,o)}))}
var iv=function(t,e){var n=x(ts,e)
var r=t.fold(n,n,(function(){var t=Wc()
return ts(e).translate(-t.left,-t.top)}))
var o=Bc(e)
var a=Oc(e)
return rs(r.left,r.top,o,a)}
var uv=function(t,e){return e.fold((function(){return t.fold(is,is,rs)}),(function(e){return t.fold(e,e,(function(){var n=e()
var r=cv(t,n.x,n.y)
return rs(r.left,r.top,n.width,n.height)}))}))}
var cv=function(t,e,n){var r=_c(e,n)
var o=function(){var t=Wc()
return r.translate(-t.left,-t.top)}
return t.fold(y(r),y(r),o)}
var sv=function(t,e,n,r){return t.fold(e,n,r)}
rv.none
var lv=rv.relative
var vv=rv.fixed
var fv=function(t,e){return{anchorBox:t,origin:e}}
var dv=function(t,e){return fv(t,e)}
var mv=function(t,e,n,r){var o=t+e
return o>r?n:o<n?r:o}
var gv=function(t,e,n){return Math.min(Math.max(t,e),n)}
var hv=Ut.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}])
var pv=function(t,e,n,r,o){var a=o.x
var i=o.y
var u=o.width
var c=o.height
var s=t>=a
var l=e>=i
var v=s&&l
var f=t+n<=a+u
var d=e+r<=i+c
var m=f&&d
var g=Math.abs(Math.min(n,s?a+u-t:a-(t+n)))
var h=Math.abs(Math.min(r,l?i+c-e:i-(e+r)))
var p=Math.max(o.x,o.right-n)
var b=Math.max(o.y,o.bottom-r)
var y=gv(t,o.x,p)
var w=gv(e,o.y,b)
return{originInBounds:v,sizeInBounds:m,limitX:y,limitY:w,deltaW:g,deltaH:h}}
var bv=function(t,e,n,r){var o=t.x
var a=t.y
var i=t.bubble.offset
var u=i.left
var c=i.top
var s=al(r,t.boundsRestriction,i)
var l=s.y
var v=s.bottom
var f=s.x
var d=s.right
var m=o+u
var g=a+c
var h=pv(m,g,e,n,s),p=h.originInBounds,b=h.sizeInBounds,w=h.limitX,x=h.limitY,C=h.deltaW,S=h.deltaH
var O=y(x+S-l)
var k=y(v-x)
var T=$s(t.direction,k,k,O)
var _=y(w+C-f)
var z=y(d-w)
var E=Xs(t.direction,z,z,_)
var M={x:w,y:x,width:C,height:S,maxHeight:T,maxWidth:E,direction:t.direction,classes:{on:t.bubble.classesOn,off:t.bubble.classesOff},label:t.label,candidateYforTest:g}
return p&&b?hv.fit(M):hv.nofit(M,C,S)}
var yv=function(t,e,n,r,o){var a=n.width
var i=n.height
var u=function(t,u,c,s){var l=t(e,n,r)
var v=bv(l,a,i,o)
return v.fold(hv.fit,(function(t,e,n){var r=n>s||e>c
return r?hv.nofit(t,e,n):hv.nofit(u,c,s)}))}
var c=Y(t,(function(t,e){var n=x(u,e)
return t.fold(hv.fit,n)}),hv.nofit({x:e.x,y:e.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:Ks(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y},-1,-1))
return c.fold(w,w)}
var wv=function(t){return{width:Bc(t),height:Oc(t)}}
var xv=function(t,e,n,r){rc(e,"max-height")
rc(e,"max-width")
var o=wv(e)
return yv(r.preference,t,o,n,r.bounds)}
var Cv=function(t,e){var n=e.classes
ju(t,n.off)
Fu(t,n.on)}
var Sv=function(t,e,n){var r=n.maxHeightFunction
r(t,e.maxHeight)}
var Ov=function(t,e,n){var r=n.maxWidthFunction
r(t,e.maxWidth)}
var kv=function(t,e,n){nv(t,av(n.origin,e))}
var Tv=function(t,e){kc(t,Math.floor(e))}
var _v=y((function(t,e){Tv(t,e)
Yu(t,{"overflow-x":"hidden","overflow-y":"auto"})}))
var zv=y((function(t,e){Tv(t,e)}))
var Ev=function(t,e,n){return void 0===t[e]?n:t[e]}
var Mv=function(t,e,n,r,o,a){var i=Ev(a,"maxHeightFunction",_v())
var u=Ev(a,"maxWidthFunction",g)
var c=t.anchorBox
var s=t.origin
var l={bounds:uv(s,o),origin:s,preference:r,maxHeightFunction:i,maxWidthFunction:u}
Dv(c,e,n,l)}
var Dv=function(t,e,n,r){var o=xv(t,e,n,r)
kv(e,o,r)
Cv(e,o)
Sv(e,o,r)
Ov(e,o,r)}
var Av=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"]
var Rv=function(t,e,n){var r=function(t){return Nt(n,t).getOr([])}
var o=function(t,e,n){var o=ot(Av,n)
return{offset:_c(t,e),classesOn:et(n,r),classesOff:et(o,r)}}
return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}}
var Hv=function(){return Rv(0,0,{})}
var Bv=function(t){return t}
var Iv=function(t,e){return function(n){return"rtl"===Lv(n)?e:t}}
var Lv=function(t){return"rtl"===Zu(t,"direction")?"rtl":"ltr"}
var Pv;(function(t){t["TopToBottom"]="toptobottom"
t["BottomToTop"]="bottomtotop"})(Pv||(Pv={}))
var Nv="data-alloy-vertical-dir"
var Vv=function(t){return vs(t,(function(t){return La(t)&&ki(t,"data-alloy-vertical-dir")===Pv.BottomToTop}))}
var Fv=function(){return In("layouts",[yn("onLtr"),yn("onRtl"),Mn("onBottomLtr"),Mn("onBottomRtl")])}
var jv=function(t,e,n,r,o,a,i){var u=i.map(Vv).getOr(false)
var c=e.layouts.map((function(e){return e.onLtr(t)}))
var s=e.layouts.map((function(e){return e.onRtl(t)}))
var l=u?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(c).getOr(o):c.getOr(n)
var v=u?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(s).getOr(a):s.getOr(r)
var f=Iv(l,v)
return f(t)}
var Uv=function(t,e,n){var r=e.hotspot
var o=iv(n,r.element)
var a=jv(t.element,e,Tl(),_l(),Ol(),kl(),H.some(e.hotspot.element))
return H.some(Bv({anchorBox:o,bubble:e.bubble.getOr(Hv()),overrides:e.overrides,layouts:a,placer:H.none()}))}
var Wv=[yn("hotspot"),Mn("bubble"),Pn("overrides",{}),Fv(),Fs("placement",Uv)]
var qv=function(t,e,n){var r=cv(n,e.x,e.y)
var o=rs(r.left,r.top,e.width,e.height)
var a=jv(t.element,e,Cl(),Sl(),Cl(),Sl(),H.none())
return H.some(Bv({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:a,placer:H.none()}))}
var Gv=[yn("x"),yn("y"),Pn("height",0),Pn("width",0),Pn("bubble",Hv()),Pn("overrides",{}),Fv(),Fs("placement",qv)]
var $v=Ut.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}])
var Xv=function(t){return t.fold(w,(function(t,e,n){return t.translate(-e,-n)}))}
var Kv=function(t){return t.fold(w,w)}
var Yv=function(t){return Y(t,(function(t,e){return t.translate(e.left,e.top)}),_c(0,0))}
var Jv=function(t){var e=W(t,Xv)
return Yv(e)}
var Zv=function(t){var e=W(t,Kv)
return Yv(e)}
var Qv=$v.screen
var tf=$v.absolute
var ef=function(t,e,n){var r=Wa(n.root).dom
var o=function(e){var n=Fa(e)
var r=Fa(t.element)
return oo(n,r)}
return H.from(r.frameElement).map(er.fromDom).filter(o).map(Mc)}
var nf=function(t,e,n){var r=Fa(t.element)
var o=Wc(r)
var a=ef(t,e,n).getOr(o)
return tf(a,o.left,o.top)}
var rf=function(t,e,n,r){var o=t,a=e,i=n,u=r
if(t<0){o=0
i=n+t}if(e<0){a=0
u=r+e}var c=Qv(_c(o,a))
return H.some(es(c,i,u))}
var of=function(t,e,n,r,o){return t.map((function(t){var a=[e,t.point]
var i=sv(r,(function(){return Zv(a)}),(function(){return Zv(a)}),(function(){return Jv(a)}))
var u=ns(i.left,i.top,t.width,t.height)
var c=n.showAbove?Ol():Tl()
var s=n.showAbove?kl():_l()
var l=jv(o,n,c,s,c,s,H.none())
return Bv({anchorBox:u,bubble:n.bubble.getOr(Hv()),overrides:n.overrides,layouts:l,placer:H.none()})}))}
var af=function(t,e,n){var r=nf(t,n,e)
return e.node.filter(Wu).bind((function(o){var a=o.dom.getBoundingClientRect()
var i=rf(a.left,a.top,a.width,a.height)
var u=e.node.getOr(t.element)
return of(i,r,e,n,u)}))}
var uf=[yn("node"),yn("root"),Mn("bubble"),Fv(),Pn("overrides",{}),Pn("showAbove",false),Fs("placement",af)]
var cf="\ufeff"
var sf=""
var lf=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var vf={create:lf}
var ff=Ut.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var df=function(t,e,n,r){return t.fold(e,n,r)}
var mf=function(t){return t.fold(w,w,w)}
var gf=ff.before
var hf=ff.on
var pf=ff.after
var bf={before:gf,on:hf,after:pf,cata:df,getStart:mf}
var yf=Ut.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var wf=function(t){return yf.exact(t.start,t.soffset,t.finish,t.foffset)}
var xf=function(t){return t.match({domRange:function(t){return er.fromDom(t.startContainer)},relative:function(t,e){return bf.getStart(t)},exact:function(t,e,n,r){return t}})}
var Cf=yf.domRange
var Sf=yf.relative
var Of=yf.exact
var kf=function(t){var e=xf(t)
return Wa(e)}
var Tf=vf.create
var _f={domRange:Cf,relative:Sf,exact:Of,exactFromRange:wf,getWin:kf,range:Tf}
var zf=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var Ef=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var Mf=function(t,e,n){var r=t.document.createRange()
zf(r,e)
Ef(r,n)
return r}
var Df=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var Af=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var Rf=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?H.some(n).map(Af):H.none()}
var Hf=Ut.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var Bf=function(t,e,n){return e(er.fromDom(n.startContainer),n.startOffset,er.fromDom(n.endContainer),n.endOffset)}
var If=function(t,e){return e.match({domRange:function(t){return{ltr:y(t),rtl:H.none}},relative:function(e,n){return{ltr:Yt((function(){return Mf(t,e,n)})),rtl:Yt((function(){return H.some(Mf(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Yt((function(){return Df(t,e,n,r,o)})),rtl:Yt((function(){return H.some(Df(t,r,o,e,n))}))}}})}
var Lf=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return Hf.rtl(er.fromDom(t.endContainer),t.endOffset,er.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Bf(t,Hf.ltr,n)}))}return Bf(t,Hf.ltr,n)}
var Pf=function(t,e){var n=If(t,e)
return Lf(t,n)}
var Nf=function(t,e){var n=Pf(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
Hf.ltr
Hf.rtl
var Vf=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?H.from(e.dom.nodeValue):H.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var Ff=Vf(Pa,"text")
var jf=function(t){return Ff.get(t)}
var Uf=function(t){return Ff.getOption(t)}
var Wf=function(t){return"img"===Ha(t)?1:Uf(t).fold((function(){return Ka(t).length}),(function(t){return t.length}))}
var qf=function(t){return Uf(t).filter((function(t){return 0!==t.trim().length||t.indexOf(sf)>-1})).isSome()}
var Gf=["img","br"]
var $f=function(t){var e=qf(t)
return e||V(Gf,Ha(t))}
var Xf=function(t){return Kf(t,$f)}
var Kf=function(t,e){var n=function(t){var r=Ka(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return H.some(a)
var i=n(a)
if(i.isSome())return i}return H.none()}
return n(t)}
var Yf=function(t,e){return no(e,t)}
var Jf=function(t,e,n,r){var o=Fa(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var Zf=function(t,e,n,r){var o=Jf(t,e,n,r)
var a=oo(t,n)&&e===r
return o.collapsed&&!a}
var Qf=function(t){return H.from(t.getSelection())}
var td=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return H.some(vf.create(er.fromDom(e.startContainer),e.startOffset,er.fromDom(n.endContainer),n.endOffset))}return H.none()}
var ed=function(t){if(null===t.anchorNode||null===t.focusNode)return td(t)
var e=er.fromDom(t.anchorNode)
var n=er.fromDom(t.focusNode)
return Zf(e,t.anchorOffset,n,t.focusOffset)?H.some(vf.create(e,t.anchorOffset,n,t.focusOffset)):td(t)}
var nd=function(t){return Qf(t).filter((function(t){return t.rangeCount>0})).bind(ed)}
var rd=function(t,e){var n=Nf(t,e)
return Rf(n)}
var od=function(t,e){return{element:t,offset:e}}
var ad=function(t,e){var n=Ka(t)
if(0===n.length)return od(t,e)
if(e<n.length)return od(n[e],0)
var r=n[n.length-1]
var o=Pa(r)?jf(r).length:Ka(r).length
return od(r,o)}
var id=function(t,e){return Pa(t)?od(t,e):ad(t,e)}
var ud=function(t,e){var n=e.getSelection.getOrThunk((function(){return function(){return nd(t)}}))
return n().map((function(t){var e=id(t.start,t.soffset)
var n=id(t.finish,t.foffset)
return _f.range(e.element,e.offset,n.element,n.offset)}))}
var cd=function(t,e,n){var r=Wa(e.root).dom
var o=nf(t,n,e)
var a=ud(r,e).bind((function(t){var e=rd(r,_f.exactFromRange(t)).orThunk((function(){var e=er.fromText(cf)
ci(t.start,e)
return rd(r,_f.exact(e,0,e,1)).map((function(t){hi(e)
return t}))}))
return e.bind((function(t){return rf(t.left,t.top,t.width,t.height)}))}))
var i=ud(r,e).bind((function(t){return La(t.start)?H.some(t.start):Ga(t.start)}))
var u=i.getOr(t.element)
return of(a,o,e,n,u)}
var sd=[Mn("getSelection"),yn("root"),Mn("bubble"),Fv(),Pn("overrides",{}),Pn("showAbove",false),Fs("placement",cd)]
var ld=function(t){return t.x+t.width}
var vd=function(t,e){return t.x-e.width}
var fd=function(t,e){return t.y-e.height+t.height}
var dd=function(t){return t.y}
var md=function(t,e,n){return Ws(ld(t),dd(t),n.southeast(),Ks(),ol(t,{left:0,top:2}),"link-layout-se")}
var gd=function(t,e,n){return Ws(vd(t,e),dd(t),n.southwest(),Ys(),ol(t,{right:1,top:2}),"link-layout-sw")}
var hd=function(t,e,n){return Ws(ld(t),fd(t,e),n.northeast(),Js(),ol(t,{left:0,bottom:3}),"link-layout-ne")}
var pd=function(t,e,n){return Ws(vd(t,e),fd(t,e),n.northwest(),Zs(),ol(t,{right:1,bottom:3}),"link-layout-nw")}
var bd=function(){return[md,gd,hd,pd]}
var yd=function(){return[gd,md,pd,hd]}
var wd=function(t,e,n){var r=iv(n,e.item.element)
var o=jv(t.element,e,bd(),yd(),bd(),yd(),H.none())
return H.some(Bv({anchorBox:r,bubble:Hv(),overrides:e.overrides,layouts:o,placer:H.none()}))}
var xd=[yn("item"),Fv(),Pn("overrides",{}),Fs("placement",wd)]
var Cd=cn("anchor",{selection:sd,node:uf,hotspot:Wv,submenu:xd,makeshift:Gv})
var Sd=function(){var t=document.documentElement
return vv(0,0,t.clientWidth,t.clientHeight)}
var Od=function(t){var e=Mc(t.element)
var n=t.element.dom.getBoundingClientRect()
return lv(e.left,e.top,n.width,n.height)}
var kd=function(t,e,n,r,o){var a=dv(n.anchorBox,e)
Mv(a,o.element,n.bubble,n.layouts,r,n.overrides)}
var Td=function(t,e,n,r,o){_d(t,e,n,r,o,H.none())}
var _d=function(t,e,n,r,o,a){var i=a.map(os)
return zd(t,e,n,r,o,i)}
var zd=function(t,e,n,r,o,a){var i=on("positioning anchor.info",Cd,r)
tv((function(){Ku(o.element,"position","fixed")
var n=tc(o.element,"visibility")
Ku(o.element,"visibility","hidden")
var r=e.useFixed()?Sd():Od(t)
var u=i.placement
var c=a.map(y).or(e.getBounds)
u(t,i,r).each((function(e){var n=e.placer.getOr(kd)
n(t,r,e,c,o)}))
n.fold((function(){rc(o.element,"visibility")}),(function(t){Ku(o.element,"visibility",t)}))
tc(o.element,"left").isNone()&&tc(o.element,"top").isNone()&&tc(o.element,"right").isNone()&&tc(o.element,"bottom").isNone()&&tc(o.element,"position").is("fixed")&&rc(o.element,"position")}),o.element)}
var Ed=function(t,e,n){return e.useFixed()?"fixed":"absolute"}
var Md=Object.freeze({__proto__:null,position:Td,positionWithin:_d,positionWithinBounds:zd,getMode:Ed})
var Dd=[Pn("useFixed",O),Mn("getBounds")]
var Ad=Fl({fields:Dd,name:"positioning",active:$l,apis:Md})
var Rd=function(t){la(t,ea())
var e=t.components()
q(e,Rd)}
var Hd=function(t){var e=t.components()
q(e,Hd)
la(t,ta())}
var Bd=function(t,e){vi(t.element,e.element)}
var Id=function(t){q(t.components(),(function(t){return hi(t.element)}))
gi(t.element)
t.syncComponents()}
var Ld=function(t,e){var n=t.components()
Id(t)
var r=ot(n,e)
q(r,(function(e){Rd(e)
t.getSystem().removeFromWorld(e)}))
q(e,(function(e){if(e.getSystem().isConnected())Bd(t,e)
else{t.getSystem().addToWorld(e)
Bd(t,e)
Wu(t.element)&&Hd(e)}t.syncComponents()}))}
var Pd=function(t,e){Nd(t,e,vi)}
var Nd=function(t,e,n){t.getSystem().addToWorld(e)
n(t.element,e.element)
Wu(t.element)&&Hd(e)
t.syncComponents()}
var Vd=function(t){Rd(t)
hi(t.element)
t.getSystem().removeFromWorld(t)}
var Fd=function(t){var e=qa(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))
Vd(t)
e.each((function(t){t.syncComponents()}))}
var jd=function(t){var e=t.components()
q(e,Vd)
gi(t.element)
t.syncComponents()}
var Ud=function(t,e){qd(t,e,vi)}
var Wd=function(t,e){qd(t,e,si)}
var qd=function(t,e,n){n(t,e.element)
var r=Ka(e.element)
q(r,(function(t){e.getByDom(t).each(Hd)}))}
var Gd=function(t){var e=Ka(t.element)
q(e,(function(e){t.getByDom(e).each(Rd)}))
hi(t.element)}
var $d=function(t,e,n,r){n.get().each((function(e){jd(t)}))
var o=e.getAttachPoint(t)
Pd(o,t)
var a=t.getSystem().build(r)
Pd(t,a)
n.set(a)
return a}
var Xd=function(t,e,n,r){var o=$d(t,e,n,r)
e.onOpen(t,o)
return o}
var Kd=function(t,e,n,r){return n.get().map((function(){return $d(t,e,n,r)}))}
var Yd=function(t,e,n,r,o){rm(t,e)
Xd(t,e,n,r)
o()
am(t,e)}
var Jd=function(t,e,n){n.get().each((function(r){jd(t)
Fd(t)
e.onClose(t,r)
n.clear()}))}
var Zd=function(t,e,n){return n.isOpen()}
var Qd=function(t,e,n,r){return Zd(t,e,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))}
var tm=function(t,e,n){return n.get()}
var em=function(t,e,n,r){tc(t.element,e).fold((function(){zi(t.element,n)}),(function(e){Si(t.element,n,e)}))
Ku(t.element,e,r)}
var nm=function(t,e,n){Ti(t.element,n).fold((function(){return rc(t.element,e)}),(function(n){return Ku(t.element,e,n)}))}
var rm=function(t,e,n){var r=e.getAttachPoint(t)
Ku(t.element,"position",Ad.getMode(r))
em(t,"visibility",e.cloakVisibilityAttr,"hidden")}
var om=function(t){return F(["top","left","right","bottom"],(function(e){return tc(t,e).isSome()}))}
var am=function(t,e,n){om(t.element)||rc(t.element,"position")
nm(t,"visibility",e.cloakVisibilityAttr)}
var im=Object.freeze({__proto__:null,cloak:rm,decloak:am,open:Xd,openWhileCloaked:Yd,close:Jd,isOpen:Zd,isPartOf:Qd,getState:tm,setContent:Kd})
var um=function(t,e){return ha([wa($o(),(function(n,r){Jd(n,t,e)}))])}
var cm=Object.freeze({__proto__:null,events:um})
var sm=[Ls("onOpen"),Ls("onClose"),yn("isPartOf"),yn("getAttachPoint"),Pn("cloakVisibilityAttr","data-precloak-visibility")]
var lm=function(){var t=Kn(H.none())
var e=y("not-implemented")
var n=function(){return t.get().isSome()}
var r=function(e){t.set(H.some(e))}
var o=function(){return t.get()}
var a=function(){t.set(H.none())}
return ou({readState:e,isOpen:n,clear:a,set:r,get:o})}
var vm=Object.freeze({__proto__:null,init:lm})
var fm=Fl({fields:sm,name:"sandboxing",active:cm,apis:im,state:vm})
var dm=y("dismiss.popups")
var mm=y("reposition.popups")
var gm=y("mouse.released")
var hm=Le([Pn("isExtraPart",O),In("fireEventInstead",[Pn("event",na())])])
var pm=function(t){var e
var n=on("Dismissal",hm,t)
return e={},e[dm()]={schema:Le([yn("target")]),onReceive:function(t,e){if(fm.isOpen(t)){var r=fm.isPartOf(t,e.target)||n.isExtraPart(t,e.target)
r||n.fireEventInstead.fold((function(){return fm.close(t)}),(function(e){return la(t,e.event)}))}}},e}
var bm=Le([In("fireEventInstead",[Pn("event",ra())]),kn("doReposition")])
var ym=function(t){var e
var n=on("Reposition",bm,t)
return e={},e[mm()]={onReceive:function(t){fm.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return la(t,e.event)}))}},e}
var wm=function(t,e,n){e.store.manager.onLoad(t,e,n)}
var xm=function(t,e,n){e.store.manager.onUnload(t,e,n)}
var Cm=function(t,e,n,r){e.store.manager.setValue(t,e,n,r)}
var Sm=function(t,e,n){return e.store.manager.getValue(t,e,n)}
var Om=function(t,e,n){return n}
var km=Object.freeze({__proto__:null,onLoad:wm,onUnload:xm,setValue:Cm,getValue:Sm,getState:Om})
var Tm=function(t,e){var n=t.resetOnDom?[Ma((function(n,r){wm(n,t,e)})),Da((function(n,r){xm(n,t,e)}))]:[Rl(t,e,wm)]
return ha(n)}
var _m=Object.freeze({__proto__:null,events:Tm})
var zm=function(){var t=Kn(null)
var e=function(){return{mode:"memory",value:t.get()}}
var n=function(){return null===t.get()}
var r=function(){t.set(null)}
return ou({set:t.set,get:t.get,isNotSet:n,clear:r,readState:e})}
var Em=function(){var t=g
return ou({readState:t})}
var Mm=function(){var t=Kn({})
var e=Kn({})
var n=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}}
var r=function(){t.set({})
e.set({})}
var o=function(n){return Nt(t.get(),n).orThunk((function(){return Nt(e.get(),n)}))}
var a=function(n){var r=t.get()
var o=e.get()
var a={}
var i={}
q(n,(function(t){a[t.value]=t
Nt(t,"meta").each((function(e){Nt(e,"text").each((function(e){i[e]=t}))}))}))
t.set(_(_({},r),a))
e.set(_(_({},o),i))}
return ou({readState:n,lookup:o,update:a,clear:r})}
var Dm=function(t){return t.store.manager.state(t)}
var Am=Object.freeze({__proto__:null,memory:zm,dataset:Mm,manual:Em,init:Dm})
var Rm=function(t,e,n,r){var o=e.store
n.update([r])
o.setValue(t,r)
e.onSetValue(t,r)}
var Hm=function(t,e,n){var r=e.store
var o=r.getDataKey(t)
return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))}
var Bm=function(t,e,n){var r=e.store
r.initialValue.each((function(r){Rm(t,e,n,r)}))}
var Im=function(t,e,n){n.clear()}
var Lm=[Mn("initialValue"),yn("getFallbackEntry"),yn("getDataKey"),yn("setValue"),Fs("manager",{setValue:Rm,getValue:Hm,onLoad:Bm,onUnload:Im,state:Mm})]
var Pm=function(t,e,n){return e.store.getValue(t)}
var Nm=function(t,e,n,r){e.store.setValue(t,r)
e.onSetValue(t,r)}
var Vm=function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))}
var Fm=[yn("getValue"),Pn("setValue",g),Mn("initialValue"),Fs("manager",{setValue:Nm,getValue:Pm,onLoad:Vm,onUnload:g,state:ru.init})]
var jm=function(t,e,n,r){n.set(r)
e.onSetValue(t,r)}
var Um=function(t,e,n){return n.get()}
var Wm=function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))}
var qm=function(t,e,n){n.clear()}
var Gm=[Mn("initialValue"),Fs("manager",{setValue:jm,getValue:Um,onLoad:Wm,onUnload:qm,state:zm})]
var $m=[Nn("store",{mode:"memory"},cn("mode",{memory:Gm,manual:Fm,dataset:Lm})),Ls("onSetValue"),Pn("resetOnDom",false)]
var Xm=Fl({fields:$m,name:"representing",active:_m,apis:km,extra:{setValueFrom:function(t,e){var n=Xm.getValue(e)
Xm.setValue(t,n)}},state:Am})
var Km=function(t,e){return $n(t,{},W(e,(function(e){return Tn(e.name(),"Cannot configure "+e.name()+" for "+t)})).concat([Xn("dump",w)]))}
var Ym=function(t){return t.dump}
var Jm=function(t,e){return _(_({},t.dump),Nl(e))}
var Zm={field:Km,augment:Jm,get:Ym}
var Qm="placeholder"
var tg=Ut.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}])
var eg=function(t){return Vt(t,"uiType")}
var ng=function(t,e,n,r){if(t.exists((function(t){return t!==n.owner})))return tg.single(true,y(n))
return Nt(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+zt(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}
var rg=function(t,e,n,r){return eg(n)&&n.uiType===Qm?ng(t,e,n,r):tg.single(false,y(n))}
var og=function(t,e,n,r){var o=rg(t,e,n,r)
return o.fold((function(o,a){var i=eg(n)?a(e,n.config,n.validated):a(e)
var u=Nt(i,"components").getOr([])
var c=et(u,(function(n){return og(t,e,n,r)}))
return[_(_({},i),{components:c})]}),(function(t,r){if(eg(n)){var o=r(e,n.config,n.validated)
var a=n.validated.preprocess.getOr(w)
return a(o)}return r(e)}))}
var ag=function(t,e,n,r){return et(n,(function(n){return og(t,e,n,r)}))}
var ig=function(t,e){var n=false
var r=function(){return n}
var o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+t)
n=true
return e}
var a=function(){return e.fold((function(t,e){return t}),(function(t,e){return t}))}
return{name:y(t),required:a,used:r,replace:o}}
var ug=function(t,e,n,r){var o=Dt(r,(function(t,e){return ig(e,t)}))
var a=ag(t,e,n,o)
Mt(o,(function(n){if(false===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))}))
return a}
var cg=tg.single
var sg=tg.multiple
var lg=y(Qm)
var vg=Ut.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}])
var fg=Pn("factory",{sketch:w})
var dg=Pn("schema",[])
var mg=yn("name")
var gg=Ge("pname","pname",ne((function(t){return"<alloy."+Li(t.name)+">"})),ln())
var hg=Xn("schema",(function(){return[Mn("preprocess")]}))
var pg=Pn("defaults",y({}))
var bg=Pn("overrides",y({}))
var yg=Pe([fg,dg,mg,gg,pg,bg])
var wg=Pe([fg,dg,mg,pg,bg])
var xg=Pe([fg,dg,mg,gg,pg,bg])
var Cg=Pe([fg,hg,mg,yn("unit"),gg,pg,bg])
var Sg=function(t){return t.fold(H.some,H.none,H.some,H.some)}
var Og=function(t){var e=function(t){return t.name}
return t.fold(e,e,e,e)}
var kg=function(t){return t.fold(w,w,w,w)}
var Tg=function(t,e){return function(n){var r=on("Converting part type",e,n)
return t(r)}}
var _g=Tg(vg.required,yg)
var zg=Tg(vg.external,wg)
var Eg=Tg(vg.optional,xg)
var Mg=Tg(vg.group,Cg)
var Dg=y("entirety")
var Ag=Object.freeze({__proto__:null,required:_g,external:zg,optional:Eg,group:Mg,asNamedPart:Sg,name:Og,asCommon:kg,original:Dg})
var Rg=function(t,e,n,r){return Xt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))}
var Hg=function(t,e,n){var r={}
var o={}
q(n,(function(t){t.fold((function(t){r[t.pname]=cg(true,(function(e,n,r){return t.factory.sketch(Rg(e,t,n,r))}))}),(function(t){var n=e.parts[t.name]
o[t.name]=y(t.factory.sketch(Rg(e,t,n[Dg()]),n))}),(function(t){r[t.pname]=cg(false,(function(e,n,r){return t.factory.sketch(Rg(e,t,n,r))}))}),(function(t){r[t.pname]=sg(true,(function(e,n,r){var o=e[t.name]
return W(o,(function(n){return t.factory.sketch(Xt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))}))
return{internals:y(r),externals:y(o)}}
var Bg=function(t,e){var n={}
q(e,(function(e){Sg(e).each((function(e){var r=Ig(t,e.pname)
n[e.name]=function(n){var o=on("Part: "+e.name+" in "+t,Pe(e.schema),n)
return _(_({},r),{config:n,validated:o})}}))}))
return n}
var Ig=function(t,e){return{uiType:lg(),owner:t,name:e}}
var Lg=function(t,e,n){return{uiType:lg(),owner:t,name:e,config:n,validated:{}}}
var Pg=function(t){return et(t,(function(t){return t.fold(H.none,H.some,H.none,H.none).map((function(t){return _n(t.name,t.schema.concat([js(Dg())]))})).toArray()}))}
var Ng=function(t){return W(t,Og)}
var Vg=function(t,e,n){return Hg(t,e,n)}
var Fg=function(t,e,n){return ug(H.some(t),e,e.components,n)}
var jg=function(t,e,n){var r=e.partUids[n]
return t.getSystem().getByUid(r).toOptional()}
var Ug=function(t,e,n){return jg(t,e,n).getOrDie("Could not find part: "+n)}
var Wg=function(t,e,n){var r={}
var o=e.partUids
var a=t.getSystem()
q(n,(function(t){r[t]=y(a.getByUid(o[t]))}))
return r}
var qg=function(t,e){var n=t.getSystem()
return Dt(e.partUids,(function(t,e){return y(n.getByUid(t))}))}
var Gg=function(t){return zt(t.partUids)}
var $g=function(t,e,n){var r={}
var o=e.partUids
var a=t.getSystem()
q(n,(function(t){r[t]=y(a.getByUid(o[t]).getOrDie())}))
return r}
var Xg=function(t,e){var n=Ng(e)
return le(W(n,(function(e){return{key:e,value:t+"-"+e}})))}
var Kg=function(t){return Ge("partUids","partUids",re((function(e){return Xg(e.uid,t)})),ln())}
var Yg=Object.freeze({__proto__:null,generate:Bg,generateOne:Lg,schemas:Pg,names:Ng,substitutes:Vg,components:Fg,defaultUids:Xg,defaultUidsSchema:Kg,getAllParts:qg,getAllPartNames:Gg,getPart:jg,getPartOrDie:Ug,getParts:Wg,getPartsOrDie:$g})
var Jg=function(t,e){var n=t.length>0?[_n("parts",t)]:[]
return n.concat([yn("uid"),Pn("dom",{}),Pn("components",[]),js("originalSpec"),Pn("debug.sketcher",{})]).concat(e)}
var Zg=function(t,e,n,r,o){var a=Jg(r,o)
return on(t+" [SpecSchema]",Le(a.concat(e)),n)}
var Qg=function(t,e,n,r){var o=nh(r)
var a=Zg(t,e,o,[],[])
return n(a,o)}
var th=function(t,e,n,r,o){var a=nh(o)
var i=Pg(n)
var u=Kg(n)
var c=Zg(t,e,a,i,[u])
var s=Vg(t,c,n)
var l=Fg(t,c,s.internals())
return r(c,l,a,s.externals())}
var eh=function(t){return Vt(t,"uid")}
var nh=function(t){return eh(t)?t:_(_({},t),{uid:qi("uid")})}
var rh=function(t){return void 0!==t.uid}
var oh=Le([yn("name"),yn("factory"),yn("configFields"),Pn("apis",{}),Pn("extraApis",{})])
var ah=Le([yn("name"),yn("factory"),yn("configFields"),yn("partFields"),Pn("apis",{}),Pn("extraApis",{})])
var ih=function(t){var e=on("Sketcher for "+t.name,oh,t)
var n=function(t){return Qg(e.name,e.configFields,e.factory,t)}
var r=Dt(e.apis,nu)
var o=Dt(e.extraApis,(function(t,e){return Ji(t,e)}))
return _(_({name:e.name,configFields:e.configFields,sketch:n},r),o)}
var uh=function(t){var e=on("Sketcher for "+t.name,ah,t)
var n=function(t){return th(e.name,e.configFields,e.partFields,e.factory,t)}
var r=Bg(e.name,e.partFields)
var o=Dt(e.apis,nu)
var a=Dt(e.extraApis,(function(t,e){return Ji(t,e)}))
return _(_({name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:r},o),a)}
var ch=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var sh=function(t){var e=[]
for(var n=0;n<t.length;n++){var r=t[n]
if(!r.isSome())return H.none()
e.push(r.getOrDie())}return H.some(e)}
var lh=function(t,e,n){return t.isSome()&&e.isSome()?H.some(n(t.getOrDie(),e.getOrDie())):H.none()}
var vh=function(t,e,n,r){return t.isSome()&&e.isSome()&&n.isSome()?H.some(r(t.getOrDie(),e.getOrDie(),n.getOrDie())):H.none()}
var fh=function(t,e){return void 0!==t&&null!==t?H.some(e(t)):H.none()}
var dh=function(t,e){return t?H.some(e):H.none()}
var mh=function(t){return"input"===Ha(t)&&"radio"!==ki(t,"type")||"textarea"===Ha(t)}
var gh=function(t,e,n){return e.find(t)}
var hh=Object.freeze({__proto__:null,getCurrent:gh})
var ph=[yn("find")]
var bh=Fl({fields:ph,name:"composing",apis:hh})
var yh=function(t,e,n,r){var o=Yf(t.element,"."+e.highlightClass)
q(o,(function(n){if(!F(r,(function(t){return t.element===n}))){Nu(n,e.highlightClass)
t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n)
la(n,sa())}))}}))}
var wh=function(t,e,n){return yh(t,e,n,[])}
var xh=function(t,e,n,r){if(_h(t,e,n,r)){Nu(r.element,e.highlightClass)
e.onDehighlight(t,r)
la(r,sa())}}
var Ch=function(t,e,n,r){yh(t,e,n,[r])
if(!_h(t,e,n,r)){Lu(r.element,e.highlightClass)
e.onHighlight(t,r)
la(r,ca())}}
var Sh=function(t,e,n){Mh(t,e).each((function(r){Ch(t,e,n,r)}))}
var Oh=function(t,e,n){Dh(t,e).each((function(r){Ch(t,e,n,r)}))}
var kh=function(t,e,n,r){Eh(t,e,n,r).fold((function(t){throw t}),(function(r){Ch(t,e,n,r)}))}
var Th=function(t,e,n,r){var o=Bh(t,e)
var a=Z(o,r)
a.each((function(r){Ch(t,e,n,r)}))}
var _h=function(t,e,n,r){return Vu(r.element,e.highlightClass)}
var zh=function(t,e,n){return ds(t.element,"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Eh=function(t,e,n,r){var o=Yf(t.element,"."+e.itemClass)
return H.from(o[r]).fold((function(){return gt.error(new Error("No element found with index "+r))}),t.getSystem().getByDom)}
var Mh=function(t,e,n){return ds(t.element,"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Dh=function(t,e,n){var r=Yf(t.element,"."+e.itemClass)
var o=r.length>0?H.some(r[r.length-1]):H.none()
return o.bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}
var Ah=function(t,e,n,r){var o=Yf(t.element,"."+e.itemClass)
var a=Q(o,(function(t){return Vu(t,e.highlightClass)}))
return a.bind((function(e){var n=mv(e,r,0,o.length-1)
return t.getSystem().getByDom(o[n]).toOptional()}))}
var Rh=function(t,e,n){return Ah(t,e,n,-1)}
var Hh=function(t,e,n){return Ah(t,e,n,1)}
var Bh=function(t,e,n){var r=Yf(t.element,"."+e.itemClass)
return ch(W(r,(function(e){return t.getSystem().getByDom(e).toOptional()})))}
var Ih=Object.freeze({__proto__:null,dehighlightAll:wh,dehighlight:xh,highlight:Ch,highlightFirst:Sh,highlightLast:Oh,highlightAt:kh,highlightBy:Th,isHighlighted:_h,getHighlighted:zh,getFirst:Mh,getLast:Dh,getPrevious:Rh,getNext:Hh,getCandidates:Bh})
var Lh=[yn("highlightClass"),yn("itemClass"),Ls("onHighlight"),Ls("onDehighlight")]
var Ph=Fl({fields:Lh,name:"highlighting",apis:Ih})
var Nh=[8]
var Vh=[9]
var Fh=[13]
var jh=[27]
var Uh=[32]
var Wh=[37]
var qh=[38]
var Gh=[39]
var $h=[40]
var Xh=function(t,e,n){var r=rt(t.slice(0,e))
var o=rt(t.slice(e+1))
return Z(r.concat(o),n)}
var Kh=function(t,e,n){var r=rt(t.slice(0,e))
return Z(r,n)}
var Yh=function(t,e,n){var r=t.slice(0,e)
var o=t.slice(e+1)
return Z(o.concat(r),n)}
var Jh=function(t,e,n){var r=t.slice(e+1)
return Z(r,n)}
var Zh=function(t){return function(e){var n=e.raw
return V(t,n.which)}}
var Qh=function(t){return function(e){return nt(t,(function(t){return t(e)}))}}
var tp=function(t){var e=t.raw
return true===e.shiftKey}
var ep=function(t){var e=t.raw
return true===e.ctrlKey}
var np=C(tp)
var rp=function(t,e){return{matches:t,classification:e}}
var op=function(t,e){var n=Z(t,(function(t){return t.matches(e)}))
return n.map((function(t){return t.classification}))}
var ap=function(t,e,n){var r=e.exists((function(t){return n.exists((function(e){return oo(e,t)}))}))
r||va(t,oa(),{prevFocus:e,newFocus:n})}
var ip=function(){var t=function(t){return Ql(t.element)}
var e=function(e,n){var r=t(e)
e.getSystem().triggerFocus(n,e.element)
var o=t(e)
ap(e,r,o)}
return{get:t,set:e}}
var up=function(){var t=function(t){return Ph.getHighlighted(t).map((function(t){return t.element}))}
var e=function(e,n){var r=t(e)
e.getSystem().getByDom(n).fold(g,(function(t){Ph.highlight(e,t)}))
var o=t(e)
ap(e,r,o)}
return{get:t,set:e}}
var cp;(function(t){t["OnFocusMode"]="onFocus"
t["OnEnterOrSpaceMode"]="onEnterOrSpace"
t["OnApiMode"]="onApi"})(cp||(cp={}))
var sp=function(t,e,n,r,o){var a=function(){return t.concat([Pn("focusManager",ip()),Nn("focusInside","onFocus",Qe((function(t){return V(["onFocus","onEnterOrSpace","onApi"],t)?gt.value(t):gt.error("Invalid value for focusInside")}))),Fs("handler",c),Fs("state",e),Fs("sendFocusIn",o)])}
var i=function(t,e,n,r,o){var a=n(t,e,r,o)
return op(a,e.event).bind((function(n){return n(t,e,r,o)}))}
var u=function(t,e){var a=t.focusInside!==cp.OnFocusMode?H.none():o(t).map((function(n){return wa(No(),(function(r,o){n(r,t,e)
o.stop()}))}))
var u=function(n,r){var a=Zh(Uh.concat(Fh))(r.event)
t.focusInside===cp.OnEnterOrSpaceMode&&a&&vo(n,r)&&o(t).each((function(o){o(n,t,e)
r.stop()}))}
var c=[wa(Mo(),(function(r,o){i(r,o,n,t,e).fold((function(){u(r,o)}),(function(t){o.stop()}))})),wa(Do(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))]
return ha(a.toArray().concat(c))}
var c={schema:a,processKey:i,toEvents:u}
return c}
var lp=function(t){var e=[Mn("onEscape"),Mn("onEnter"),Pn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Pn("firstTabstop",0),Pn("useTabstopAt",k),Mn("visibilitySelector")].concat([t])
var n=function(t,e){var n=t.visibilitySelector.bind((function(t){return ms(e,t)})).getOr(e)
return Sc(n)>0}
var r=function(t,e){var r=Yf(t.element,e.selector)
var o=X(r,(function(t){return n(e,t)}))
return H.from(o[e.firstTabstop])}
var o=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var a=function(t,e){return n(t,e)&&t.useTabstopAt(e)}
var i=function(t,e,n){r(t,e).each((function(n){e.focusManager.set(t,n)}))}
var u=function(t,e,n,r,o){return o(e,n,(function(t){return a(r,t)})).fold((function(){return r.cyclic?H.some(true):H.none()}),(function(e){r.focusManager.set(t,e)
return H.some(true)}))}
var c=function(t,e,n,r){var a=Yf(t.element,n.selector)
return o(t,n).bind((function(e){var o=Q(a,x(oo,e))
return o.bind((function(e){return u(t,a,e,n,r)}))}))}
var s=function(t,e,n){var r=n.cyclic?Xh:Kh
return c(t,e,n,r)}
var l=function(t,e,n){var r=n.cyclic?Yh:Jh
return c(t,e,n,r)}
var v=function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}
var f=function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))}
var d=y([rp(Qh([tp,Zh(Vh)]),s),rp(Zh(Vh),l),rp(Zh(jh),f),rp(Qh([np,Zh(Fh)]),v)])
var m=y([])
return sp(e,ru.init,d,m,(function(){return H.some(i)}))}
var vp=lp(Xn("cyclic",O))
var fp=lp(Xn("cyclic",k))
var dp=function(t,e,n){da(t,n,Uo())
return H.some(true)}
var mp=function(t,e,n){var r=mh(n)&&Zh(Uh)(e.event)
return r?H.none():dp(t,e,n)}
var gp=function(t,e){return H.some(true)}
var hp=[Pn("execute",mp),Pn("useSpace",false),Pn("useEnter",true),Pn("useControlEnter",false),Pn("useDown",false)]
var pp=function(t,e,n){return n.execute(t,e,t.element)}
var bp=function(t,e,n,r){var o=n.useSpace&&!mh(t.element)?Uh:[]
var a=n.useEnter?Fh:[]
var i=n.useDown?$h:[]
var u=o.concat(a).concat(i)
return[rp(Zh(u),pp)].concat(n.useControlEnter?[rp(Qh([ep,Zh(Fh)]),pp)]:[])}
var yp=function(t,e,n,r){return n.useSpace&&!mh(t.element)?[rp(Zh(Uh),gp)]:[]}
var wp=sp(hp,ru.init,bp,yp,(function(){return H.none()}))
var xp=function(){var t=Kn(H.none())
var e=function(e,n){t.set(H.some({numRows:e,numColumns:n}))}
var n=function(){return t.get().map((function(t){return t.numRows}))}
var r=function(){return t.get().map((function(t){return t.numColumns}))}
return ou({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:e,getNumRows:n,getNumColumns:r})}
var Cp=function(t){return t.state(t)}
var Sp=Object.freeze({__proto__:null,flatgrid:xp,init:Cp})
var Op=function(t){return function(e,n,r,o){var a=t(e.element)
return zp(a,e,n,r,o)}}
var kp=function(t,e){var n=Iv(t,e)
return Op(n)}
var Tp=function(t,e){var n=Iv(e,t)
return Op(n)}
var _p=function(t){return function(e,n,r,o){return zp(t,e,n,r,o)}}
var zp=function(t,e,n,r,o){var a=r.focusManager.get(e).bind((function(n){return t(e.element,n,r,o)}))
return a.map((function(t){r.focusManager.set(e,t)
return true}))}
var Ep=_p
var Mp=_p
var Dp=_p
var Ap=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}
var Rp=function(t){return!Ap(t.dom)}
var Hp=function(t,e){return Q(t,e).map((function(e){return{index:e,candidates:t}}))}
var Bp=function(t,e,n){var r=function(t){return oo(t,e)}
var o=Yf(t,n)
var a=X(o,Rp)
return Hp(a,r)}
var Ip=function(t,e){return Q(t,(function(t){return oo(e,t)}))}
var Lp=function(t,e,n,r){var o=Math.floor(e/n)
var a=e%n
return r(o,a).bind((function(e){var r=e.row*n+e.column
return r>=0&&r<t.length?H.some(t[r]):H.none()}))}
var Pp=function(t,e,n,r,o){return Lp(t,e,r,(function(e,a){var i=e===n-1
var u=i?t.length-e*r:r
var c=mv(a,o,0,u-1)
return H.some({row:e,column:c})}))}
var Np=function(t,e,n,r,o){return Lp(t,e,r,(function(e,a){var i=mv(e,o,0,n-1)
var u=i===n-1
var c=u?t.length-i*r:r
var s=gv(a,0,c-1)
return H.some({row:i,column:s})}))}
var Vp=function(t,e,n,r){return Pp(t,e,n,r,1)}
var Fp=function(t,e,n,r){return Pp(t,e,n,r,-1)}
var jp=function(t,e,n,r){return Np(t,e,n,r,-1)}
var Up=function(t,e,n,r){return Np(t,e,n,r,1)}
var Wp=[yn("selector"),Pn("execute",mp),Ps("onEscape"),Pn("captureTab",false),Us()]
var qp=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Gp=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var $p=function(t,e,n,r){return Gp(t,n).bind((function(r){return n.execute(t,e,r)}))}
var Xp=function(t){return function(e,n,r,o){return Bp(e,n,r.selector).bind((function(e){return t(e.candidates,e.index,o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}}
var Kp=function(t,e,n){return n.captureTab?H.some(true):H.none()}
var Yp=function(t,e,n){return n.onEscape(t,e)}
var Jp=Xp(Fp)
var Zp=Xp(Vp)
var Qp=Xp(jp)
var tb=Xp(Up)
var eb=y([rp(Zh(Wh),kp(Jp,Zp)),rp(Zh(Gh),Tp(Jp,Zp)),rp(Zh(qh),Ep(Qp)),rp(Zh($h),Mp(tb)),rp(Qh([tp,Zh(Vh)]),Kp),rp(Qh([np,Zh(Vh)]),Kp),rp(Zh(jh),Yp),rp(Zh(Uh.concat(Fh)),$p)])
var nb=y([rp(Zh(Uh),gp)])
var rb=sp(Wp,xp,eb,nb,(function(){return H.some(qp)}))
var ob=function(t,e,n,r){var o=function(t){return"button"===Ha(t)&&"disabled"===ki(t,"disabled")}
var a=function(t,e,n){var i=mv(e,r,0,n.length-1)
return i===t?H.none():o(n[i])?a(t,i,n):H.from(n[i])}
return Bp(t,n,e).bind((function(t){var e=t.index
var n=t.candidates
return a(e,e,n)}))}
var ab=[yn("selector"),Pn("getInitial",H.none),Pn("execute",mp),Ps("onEscape"),Pn("executeOnMove",false),Pn("allowVertical",true)]
var ib=function(t,e){return e.focusManager.get(t).bind((function(t){return ms(t,e.selector)}))}
var ub=function(t,e,n){return ib(t,n).bind((function(r){return n.execute(t,e,r)}))}
var cb=function(t,e,n){e.getInitial(t).orThunk((function(){return ds(t.element,e.selector)})).each((function(n){e.focusManager.set(t,n)}))}
var sb=function(t,e,n){return ob(t,n.selector,e,-1)}
var lb=function(t,e,n){return ob(t,n.selector,e,1)}
var vb=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?ub(e,n,r):H.some(true)}))}}
var fb=function(t,e,n){return n.onEscape(t,e)}
var db=function(t,e,n,r){var o=Wh.concat(n.allowVertical?qh:[])
var a=Gh.concat(n.allowVertical?$h:[])
return[rp(Zh(o),vb(kp(sb,lb))),rp(Zh(a),vb(Tp(sb,lb))),rp(Zh(Fh),ub),rp(Zh(Uh),ub),rp(Zh(jh),fb)]}
var mb=y([rp(Zh(Uh),gp)])
var gb=sp(ab,ru.init,db,mb,(function(){return H.some(cb)}))
var hb=function(t,e,n){return H.from(t[e]).bind((function(t){return H.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))}
var pb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=mv(n,r,0,a-1)
return hb(t,e,i)}
var bb=function(t,e,n,r){var o=mv(n,r,0,t.length-1)
var a=t[o].length
var i=gv(e,0,a-1)
return hb(t,o,i)}
var yb=function(t,e,n,r){var o=t[e]
var a=o.length
var i=gv(n+r,0,a-1)
return hb(t,e,i)}
var wb=function(t,e,n,r){var o=gv(n+r,0,t.length-1)
var a=t[o].length
var i=gv(e,0,a-1)
return hb(t,o,i)}
var xb=function(t,e,n){return pb(t,e,n,1)}
var Cb=function(t,e,n){return pb(t,e,n,-1)}
var Sb=function(t,e,n){return bb(t,n,e,-1)}
var Ob=function(t,e,n){return bb(t,n,e,1)}
var kb=function(t,e,n){return yb(t,e,n,-1)}
var Tb=function(t,e,n){return yb(t,e,n,1)}
var _b=function(t,e,n){return wb(t,n,e,-1)}
var zb=function(t,e,n){return wb(t,n,e,1)}
var Eb=[_n("selectors",[yn("row"),yn("cell")]),Pn("cycles",true),Pn("previousSelector",H.none),Pn("execute",mp)]
var Mb=function(t,e,n){var r=e.previousSelector(t).orThunk((function(){var n=e.selectors
return ds(t.element,n.cell)}))
r.each((function(n){e.focusManager.set(t,n)}))}
var Db=function(t,e,n){return Ql(t.element).bind((function(r){return n.execute(t,e,r)}))}
var Ab=function(t,e){return W(t,(function(t){return Yf(t,e.selectors.cell)}))}
var Rb=function(t,e){return function(n,r,o){var a=o.cycles?t:e
return ms(r,o.selectors.row).bind((function(t){var e=Yf(t,o.selectors.cell)
return Ip(e,r).bind((function(e){var r=Yf(n,o.selectors.row)
return Ip(r,t).bind((function(t){var n=Ab(r,o)
return a(n,t,e).map((function(t){return t.cell}))}))}))}))}}
var Hb=Rb(Cb,kb)
var Bb=Rb(xb,Tb)
var Ib=Rb(Sb,_b)
var Lb=Rb(Ob,zb)
var Pb=y([rp(Zh(Wh),kp(Hb,Bb)),rp(Zh(Gh),Tp(Hb,Bb)),rp(Zh(qh),Ep(Ib)),rp(Zh($h),Mp(Lb)),rp(Zh(Uh.concat(Fh)),Db)])
var Nb=y([rp(Zh(Uh),gp)])
var Vb=sp(Eb,ru.init,Pb,Nb,(function(){return H.some(Mb)}))
var Fb=[yn("selector"),Pn("execute",mp),Pn("moveOnTab",false)]
var jb=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))}
var Ub=function(t,e,n){ds(t.element,e.selector).each((function(n){e.focusManager.set(t,n)}))}
var Wb=function(t,e,n){return ob(t,n.selector,e,-1)}
var qb=function(t,e,n){return ob(t,n.selector,e,1)}
var Gb=function(t,e,n,r){return n.moveOnTab?Dp(Wb)(t,e,n,r):H.none()}
var $b=function(t,e,n,r){return n.moveOnTab?Dp(qb)(t,e,n,r):H.none()}
var Xb=y([rp(Zh(qh),Dp(Wb)),rp(Zh($h),Dp(qb)),rp(Qh([tp,Zh(Vh)]),Gb),rp(Qh([np,Zh(Vh)]),$b),rp(Zh(Fh),jb),rp(Zh(Uh),jb)])
var Kb=y([rp(Zh(Uh),gp)])
var Yb=sp(Fb,ru.init,Xb,Kb,(function(){return H.some(Ub)}))
var Jb=[Ps("onSpace"),Ps("onEnter"),Ps("onShiftEnter"),Ps("onLeft"),Ps("onRight"),Ps("onTab"),Ps("onShiftTab"),Ps("onUp"),Ps("onDown"),Ps("onEscape"),Pn("stopSpaceKeyup",false),Mn("focusIn")]
var Zb=function(t,e,n){return[rp(Zh(Uh),n.onSpace),rp(Qh([np,Zh(Fh)]),n.onEnter),rp(Qh([tp,Zh(Fh)]),n.onShiftEnter),rp(Qh([tp,Zh(Vh)]),n.onShiftTab),rp(Qh([np,Zh(Vh)]),n.onTab),rp(Zh(qh),n.onUp),rp(Zh($h),n.onDown),rp(Zh(Wh),n.onLeft),rp(Zh(Gh),n.onRight),rp(Zh(Uh),n.onSpace),rp(Zh(jh),n.onEscape)]}
var Qb=function(t,e,n){return n.stopSpaceKeyup?[rp(Zh(Uh),gp)]:[]}
var ty=sp(Jb,ru.init,Zb,Qb,(function(t){return t.focusIn}))
var ey=vp.schema()
var ny=fp.schema()
var ry=gb.schema()
var oy=rb.schema()
var ay=Vb.schema()
var iy=wp.schema()
var uy=Yb.schema()
var cy=ty.schema()
var sy=Object.freeze({__proto__:null,acyclic:ey,cyclic:ny,flow:ry,flatgrid:oy,matrix:ay,execution:iy,menu:uy,special:cy})
var ly=function(t){return Ft(t,"setGridSize")}
var vy=Ul({branchKey:"mode",branches:sy,name:"keying",active:{events:function(t,e){var n=t.handler
return n.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element,t.element)}),(function(r){r(t,e,n)}))},setGridSize:function(t,e,n,r,o){ly(n)?n.setGridSize(r,o):console.error("Layout does not support setGridSize")}},state:Sp})
var fy=function(t,e,n,r){tv((function(){var e=W(r,t.getSystem().build)
Ld(t,e)}),t.element)}
var dy=function(t,e,n,r){var o=t.getSystem().build(r)
Nd(t,o,n)}
var my=function(t,e,n,r){dy(t,e,vi,r)}
var gy=function(t,e,n,r){dy(t,e,li,r)}
var hy=function(t,e,n,r){var o=py(t)
var a=Z(o,(function(t){return oo(r.element,t.element)}))
a.each(Fd)}
var py=function(t,e){return t.components()}
var by=function(t,e,n,r,o){var a=py(t)
return H.from(a[r]).map((function(a){hy(t,e,n,a)
o.each((function(n){dy(t,e,(function(t,e){fi(t,e,r)}),n)}))
return a}))}
var yy=function(t,e,n,r,o){var a=py(t)
return Q(a,r).bind((function(r){return by(t,e,n,r,o)}))}
var wy=Object.freeze({__proto__:null,append:my,prepend:gy,remove:hy,replaceAt:by,replaceBy:yy,set:fy,contents:py})
var xy=Fl({fields:[],name:"replacing",apis:wy})
var Cy=function(t,e){var n=ha(e)
return Fl({fields:[yn("enabled")],name:t,active:{events:y(n)}})}
var Sy=function(t,e){var n=Cy(t,e)
return{key:t,value:{config:{},me:n,configAsRaw:y({}),initialConfig:{},state:ru}}}
var Oy=function(t,e){if(!e.ignore){Kl(t.element)
e.onFocus(t)}}
var ky=function(t,e){e.ignore||Yl(t.element)}
var Ty=function(t){return Jl(t.element)}
var _y=Object.freeze({__proto__:null,focus:Oy,blur:ky,isFocused:Ty})
var zy=function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}}
return su(n)}
var Ey=function(t){return ha([wa(No(),(function(e,n){Oy(e,t)
n.stop()}))].concat(t.stopMousedown?[wa(So(),(function(t,e){e.event.prevent()}))]:[]))}
var My=Object.freeze({__proto__:null,exhibit:zy,events:Ey})
var Dy=[Ls("onFocus"),Pn("stopMousedown",false),Pn("ignore",false)]
var Ay=Fl({fields:Dy,name:"focusing",active:My,apis:_y})
var Ry=function(t){var e=function(){var e=Kn(t)
var n=function(){return e.get()}
var r=function(t){return e.set(t)}
var o=function(){return e.set(t)}
var a=function(){return e.get()}
return{get:n,set:r,clear:o,readState:a}}
return{init:e}}
var Hy=function(t,e,n){var r=e.aria
r.update(t,r,n.get())}
var By=function(t,e,n){e.toggleClass.each((function(e){n.get()?Lu(t.element,e):Nu(t.element,e)}))}
var Iy=function(t,e,n){Ny(t,e,n,!n.get())}
var Ly=function(t,e,n){n.set(true)
By(t,e,n)
Hy(t,e,n)}
var Py=function(t,e,n){n.set(false)
By(t,e,n)
Hy(t,e,n)}
var Ny=function(t,e,n,r){var o=r?Ly:Py
o(t,e,n)}
var Vy=function(t,e,n){return n.get()}
var Fy=function(t,e,n){Ny(t,e,n,e.selected)}
var jy=Object.freeze({__proto__:null,onLoad:Fy,toggle:Iy,isOn:Vy,on:Ly,off:Py,set:Ny})
var Uy=function(){return su({})}
var Wy=function(t,e){var n=Al(t,e,Iy)
var r=Rl(t,e,Fy)
return ha(tt([t.toggleOnExecute?[n]:[],[r]]))}
var qy=Object.freeze({__proto__:null,exhibit:Uy,events:Wy})
var Gy=function(t,e,n){Si(t.element,"aria-pressed",n)
e.syncWithExpanded&&Ky(t,e,n)}
var $y=function(t,e,n){Si(t.element,"aria-selected",n)}
var Xy=function(t,e,n){Si(t.element,"aria-checked",n)}
var Ky=function(t,e,n){Si(t.element,"aria-expanded",n)}
var Yy=[Pn("selected",false),Mn("toggleClass"),Pn("toggleOnExecute",true),Nn("aria",{mode:"none"},cn("mode",{pressed:[Pn("syncWithExpanded",false),Fs("update",Gy)],checked:[Fs("update",Xy)],expanded:[Fs("update",Ky)],selected:[Fs("update",$y)],none:[Fs("update",g)]}))]
var Jy=Fl({fields:Yy,name:"toggling",active:qy,apis:jy,state:Ry(false)})
var Zy=function(){var t=function(t,e){e.stop()
fa(t)}
return[wa(Ho(),t),wa(qo(),t),_a(yo()),_a(So())]}
var Qy=function(t){var e=function(t){return Ra((function(e,n){t(e)
n.stop()}))}
return ha(tt([t.map(e).toArray(),Zy()]))}
var tw="alloy.item-hover"
var ew="alloy.item-focus"
var nw=function(t){if(Ql(t.element).isNone()||Ay.isFocused(t)){Ay.isFocused(t)||Ay.focus(t)
va(t,tw,{item:t})}}
var rw=function(t){va(t,ew,{item:t})}
var ow=y(tw)
var aw=y(ew)
var iw=function(t){return{dom:t.dom,domModification:_(_({},t.domModification),{attributes:_(_(_({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":false}:{})}),behaviours:Zm.augment(t.itemBehaviours,[t.toggling.fold(Jy.revoke,(function(t){return Jy.config(_({aria:{mode:"checked"}},t))})),Ay.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){rw(t)}}),vy.config({mode:"execution"}),Xm.config({store:{mode:"memory",initialValue:t.data}}),Sy("item-type-events",E(Zy(),[wa(_o(),nw),wa(Wo(),Ay.focus)]))]),components:t.components,eventOrder:t.eventOrder}}
var uw=[yn("data"),yn("components"),yn("dom"),Pn("hasSubmenu",false),Mn("toggling"),Zm.field("itemBehaviours",[Jy,Ay,vy,Xm]),Pn("ignoreFocus",false),Pn("domModification",{}),Fs("builder",iw),Pn("eventOrder",{})]
var cw=function(t){return{dom:t.dom,components:t.components,events:ha([za(Wo())])}}
var sw=[yn("dom"),yn("components"),Fs("builder",cw)]
var lw=y("item-widget")
var vw=y([_g({name:"widget",overrides:function(t){return{behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:g}})])}}})])
var fw=function(t){var e=Vg(lw(),t,vw())
var n=Fg(lw(),t,e.internals())
var r=function(e){return jg(e,t,"widget").map((function(t){vy.focusIn(t)
return t}))}
var o=function(e,n){return mh(n.event.target)?H.none():function(){if(t.autofocus){n.setSource(e.element)
return H.none()}return H.none()}()}
return{dom:t.dom,components:n,domModification:t.domModification,events:ha([Ra((function(t,e){r(t).each((function(t){e.stop()}))})),wa(_o(),nw),wa(Wo(),(function(e,n){t.autofocus?r(e):Ay.focus(e)}))]),behaviours:Zm.augment(t.widgetBehaviours,[Xm.config({store:{mode:"memory",initialValue:t.data}}),Ay.config({ignore:t.ignoreFocus,onFocus:function(t){rw(t)}}),vy.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Wl(),onLeft:o,onRight:o,onEscape:function(e,n){if(Ay.isFocused(e)||t.autofocus){if(t.autofocus){n.setSource(e.element)
return H.none()}return H.none()}Ay.focus(e)
return H.some(true)}})])}}
var dw=[yn("uid"),yn("data"),yn("components"),yn("dom"),Pn("autofocus",false),Pn("ignoreFocus",false),Zm.field("widgetBehaviours",[Xm,Ay,vy]),Pn("domModification",{}),Kg(vw()),Fs("builder",fw)]
var mw=cn("type",{widget:dw,item:uw,separator:sw})
var gw=function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}
var hw=function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}}
var pw=function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}
var bw=y([Mg({factory:{sketch:function(t){var e=on("menu.spec item",mw,t)
return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:_(_({},e),{uid:qi("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})])
var yw=y([yn("value"),yn("items"),yn("dom"),yn("components"),Pn("eventOrder",{}),Km("menuBehaviours",[Ph,Xm,bh,vy]),Nn("movement",{mode:"menu",moveOnTab:true},cn("mode",{grid:[Us(),Fs("config",gw)],matrix:[Fs("config",hw),yn("rowSelector")],menu:[Pn("moveOnTab",true),Fs("config",pw)]})),Rs(),Pn("fakeFocus",false),Pn("focusManager",ip()),Ls("onHighlight")])
var ww=y("alloy.menu-focus")
var xw=function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Jm(t.menuBehaviours,[Ph.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Xm.config({store:{mode:"memory",initialValue:t.value}}),bh.config({find:H.some}),vy.config(t.movement.config(t,t.movement))]),events:ha([wa(aw(),(function(t,e){var n=e.event
t.getSystem().getByDom(n.target).each((function(n){Ph.highlight(t,n)
e.stop()
va(t,ww(),{menu:t,item:n})}))})),wa(ow(),(function(t,e){var n=e.event.item
Ph.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}
var Cw=uh({name:"Menu",configFields:yw(),partFields:bw(),factory:xw})
var Sw=function(t){return At(t,(function(t,e){return{k:t,v:e}}))}
var Ow=function(t,e,n,r){return Nt(n,r).bind((function(r){return Nt(t,r).bind((function(r){var o=Ow(t,e,n,r)
return H.some([r].concat(o))}))})).getOr([])}
var kw=function(t,e){var n={}
Mt(t,(function(t,e){q(t,(function(t){n[t]=e}))}))
var r=e
var o=Sw(e)
var a=Dt(o,(function(t,e){return[e].concat(Ow(n,r,o,e))}))
return Dt(n,(function(t){return Nt(a,t).getOr([t])}))}
var Tw=function(){var t=Kn({})
var e=Kn({})
var n=Kn({})
var r=Kn(H.none())
var o=Kn({})
var a=function(){t.set({})
e.set({})
n.set({})
r.set(H.none())}
var i=function(){return r.get().isNone()}
var u=function(t,n){var r
e.set(_(_({},e.get()),(r={},r[t]={type:"prepared",menu:n},r)))}
var c=function(a,i,u,c){r.set(H.some(a))
t.set(u)
e.set(i)
o.set(c)
var s=kw(c,u)
n.set(s)}
var s=function(e){return Lt(t.get(),(function(t,n){return t===e}))}
var l=function(t,e,n){return g(t).bind((function(r){return s(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))}
var v=function(t,e){var o=X(p(t).toArray(),(function(t){return g(t).isSome()}))
return Nt(n.get(),t).bind((function(t){var n=rt(o.concat(t))
var a=et(n,(function(t,o){return l(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[H.none()]}),(function(t){return[H.some(t)]}))}))
return sh(a)}))}
var f=function(e){return Nt(t.get(),e).map((function(t){var r=Nt(n.get(),e).getOr([])
return[t].concat(r)}))}
var d=function(t){return Nt(n.get(),t).bind((function(t){return t.length>1?H.some(t.slice(1)):H.none()}))}
var m=function(t){return Nt(n.get(),t)}
var g=function(t){return h(t).bind(_w)}
var h=function(t){return Nt(e.get(),t)}
var p=function(e){return Nt(t.get(),e)}
var b=function(t){var e=o.get()
return ot(zt(e),t)}
var y=function(){return r.get().bind(g)}
var w=function(){return e.get()}
return{setMenuBuilt:u,setContents:c,expand:f,refresh:m,collapse:d,lookupMenu:h,lookupItem:p,otherMenus:b,getPrimary:y,getMenus:w,clear:a,isClear:i,getTriggeringPath:v}}
var _w=function(t){return"prepared"===t.type?H.some(t.menu):H.none()}
var zw={init:Tw,extractPreparedMenu:_w}
var Ew=function(t,e){var n=Kn(H.none())
var r=function(e,n,r){return Dt(r,(function(r,o){var a=function(){return Cw.sketch(_(_({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?up():ip()}))}
return o===n?{type:"prepared",menu:e.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}
var o=zw.init()
var a=function(e){var n=r(e,t.data.primary,t.data.menus)
var a=c()
o.setContents(t.data.primary,n,t.data.expansions,a)
return o.getPrimary()}
var i=function(t){return Xm.getValue(t).value}
var u=function(t,e,n){return vt(e,(function(t){if(!t.getSystem().isConnected())return H.none()
var e=Ph.getCandidates(t)
return Z(e,(function(t){return i(t)===n}))}))}
var c=function(e){return Dt(t.data.menus,(function(t,e){return et(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))}
var s=function(t,e){Ph.highlight(t,e)
Ph.getHighlighted(e).orThunk((function(){return Ph.getFirst(e)})).each((function(e){da(t,e.element,Wo())}))}
var l=function(t,e){return ch(W(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?H.some(t.menu):H.none()}))})))}
var v=function(e,n,r){var o=l(n,n.otherMenus(r))
q(o,(function(n){ju(n.element,[t.markers.backgroundMenu])
t.stayInDom||xy.remove(e,n)}))}
var f=function(e){return n.get().getOrThunk((function(){var r={}
var o=Yf(e.element,"."+t.markers.item)
var a=X(o,(function(t){return"true"===ki(t,"aria-haspopup")}))
q(a,(function(t){e.getSystem().getByDom(t).each((function(t){var e=i(t)
r[e]=t}))}))
n.set(H.some(r))
return r}))}
var d=function(t,e){var n=f(t)
Mt(n,(function(t,n){var r=V(e,n)
Si(t.element,"aria-expanded",r)}))}
var m=function(e,n,r){return H.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return H.none()
var a=o.menu
var i=l(n,r.slice(1))
q(i,(function(e){Lu(e.element,t.markers.backgroundMenu)}))
Wu(a.element)||xy.append(e,wc(a))
ju(a.element,[t.markers.backgroundMenu])
s(e,a)
v(e,n,r)
return H.some(a)}))}))}
var h;(function(t){t[t["HighlightSubmenu"]=0]="HighlightSubmenu"
t[t["HighlightParent"]=1]="HighlightParent"})(h||(h={}))
var p=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu())
o.setMenuBuilt(e,r)
return r}return n.menu}
var b=function(e,n,r){void 0===r&&(r=h.HighlightSubmenu)
var a=i(n)
return o.expand(a).bind((function(a){d(e,a)
return H.from(a[0]).bind((function(i){return o.lookupMenu(i).bind((function(u){var c=p(e,i,u)
Wu(c.element)||xy.append(e,wc(c))
t.onOpenSubmenu(e,n,c,rt(a))
if(r===h.HighlightSubmenu){Ph.highlightFirst(c)
return m(e,o,a)}Ph.dehighlightAll(c)
return H.some(n)}))}))}))}
var y=function(e,n){var r=i(n)
return o.collapse(r).bind((function(r){d(e,r)
return m(e,o,r).map((function(r){t.onCollapseMenu(e,n,r)
return r}))}))}
var w=function(t,e){var n=i(e)
return o.refresh(n).bind((function(e){d(t,e)
return m(t,o,e)}))}
var x=function(t,e){return mh(e.element)?H.none():b(t,e,h.HighlightSubmenu)}
var C=function(t,e){return mh(e.element)?H.none():y(t,e)}
var S=function(e,n){return y(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))}
var O=function(e){return function(n,r){return ms(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOptional().bind((function(t){return e(n,t).map(k)}))}))}}
var T=ha([wa(ww(),(function(t,e){var n=e.event.item
o.lookupItem(i(n)).each((function(){var n=e.event.menu
Ph.highlight(t,n)
var r=i(e.event.item)
o.refresh(r).each((function(e){return v(t,o,e)}))}))})),Ra((function(e,n){var r=n.event.target
e.getSystem().getByDom(r).each((function(n){var r=i(n)
0===r.indexOf("collapse-item")&&y(e,n)
b(e,n,h.HighlightSubmenu).fold((function(){t.onExecute(e,n)}),g)}))})),Ma((function(e,n){a(e).each((function(n){xy.append(e,wc(n))
t.onOpenMenu(e,n)
t.highlightImmediately&&s(e,n)}))}))].concat(t.navigateOnHover?[wa(ow(),(function(e,n){var r=n.event.item
w(e,r)
b(e,r,h.HighlightParent)
t.onHover(e,r)}))]:[]))
var z=function(t){return Ph.getHighlighted(t).bind(Ph.getHighlighted)}
var E=function(t){z(t).each((function(e){y(t,e)}))}
var M=function(t){o.getPrimary().each((function(e){s(t,e)}))}
var D=function(t){return H.from(t.components()[0]).filter((function(t){return"menu"===ki(t.element,"role")}))}
var A=function(e){var n=o.getPrimary().bind((function(t){return z(e).bind((function(t){var n=i(t)
var r=Pt(o.getMenus())
var a=ch(W(r,zw.extractPreparedMenu))
return o.getTriggeringPath(n,(function(t){return u(e,a,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))}))
n.fold((function(){D(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath
t.onRepositionMenu(e,r,o)}))}
var R={collapseMenu:E,highlightPrimary:M,repositionMenus:A}
return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Jm(t.tmenuBehaviours,[vy.config({mode:"special",onRight:O(x),onLeft:O(C),onEscape:O(S),focusIn:function(t,e){o.getPrimary().each((function(e){da(t,e.element,Wo())}))}}),Ph.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),bh.config({find:function(t){return Ph.getHighlighted(t)}}),xy.config({})]),eventOrder:t.eventOrder,apis:R,events:T}}
var Mw=y("collapse-item")
var Dw=function(t,e,n){return{primary:t,menus:e,expansions:n}}
var Aw=function(t,e){return{primary:t,menus:se(t,e),expansions:{}}}
var Rw=function(t){return{value:Li(Mw()),meta:{text:t}}}
var Hw=ih({name:"TieredMenu",configFields:[Vs("onExecute"),Vs("onEscape"),Ns("onOpenMenu"),Ns("onOpenSubmenu"),Ls("onRepositionMenu"),Ls("onCollapseMenu"),Pn("highlightImmediately",true),_n("data",[yn("primary"),yn("menus"),yn("expansions")]),Pn("fakeFocus",false),Ls("onHighlight"),Ls("onHover"),Hs(),yn("dom"),Pn("navigateOnHover",true),Pn("stayInDom",false),Km("tmenuBehaviours",[vy,Ph,bh,xy]),Pn("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:Ew,extraApis:{tieredData:Dw,singleData:Aw,collapseItem:Rw}})
var Bw=function(t,e,n,r,o){var a=function(){return t.lazySink(e)}
var i="horizontal"===r.type?{layouts:{onLtr:function(){return Tl()},onRtl:function(){return _l()}}}:{}
var u=function(t){return 2===t.length}
var c=function(t){return u(t)?i:{}}
return Hw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){fm.close(e)
t.onEscape.map((function(t){return t(e)}))
return H.some(true)},onExecute:function(){return H.some(true)},onOpenMenu:function(t,e){Ad.positionWithinBounds(a().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=a().getOrDie()
Ad.position(o,_({anchor:"submenu",item:e},c(r)),n)},onRepositionMenu:function(t,e,r){var i=a().getOrDie()
Ad.positionWithinBounds(i,n,e,o())
q(r,(function(t){var e=c(t.triggeringPath)
Ad.position(i,_({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}
var Iw=function(t,e){var n=function(e,n){var r=t.getRelated(e)
return r.exists((function(t){return bs(t,n)}))}
var r=function(t,e){fm.setContent(t,e)}
var o=function(t,e,n){a(t,e,n,H.none())}
var a=function(t,e,n,r){i(t,e,n,(function(){return r.map((function(t){return os(t)}))}))}
var i=function(e,n,r,o){var a=t.lazySink(e).getOrDie()
fm.openWhileCloaked(e,r,(function(){return Ad.positionWithinBounds(a,n,e,o())}))
Xm.setValue(e,H.some({mode:"position",anchor:n,getBounds:o}))}
var u=function(t,e,n){c(t,e,n,(function(){return H.none()}))}
var c=function(e,n,r,o){var a=Bw(t,e,n,r,o)
fm.open(e,a)
Xm.setValue(e,H.some({mode:"menu",menu:a}))}
var s=function(t){if(fm.isOpen(t)){Xm.setValue(t,H.none())
fm.close(t)}}
var l=function(t){return fm.getState(t)}
var v=function(e){fm.isOpen(e)&&Xm.getValue(e).each((function(n){switch(n.mode){case"menu":fm.getState(e).each((function(t){Hw.repositionMenus(t)}))
break
case"position":var r=t.lazySink(e).getOrDie()
Ad.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))}
var f={setContent:r,showAt:o,showWithin:a,showWithinBounds:i,showMenuAt:u,showMenuWithinBounds:c,hide:s,getContent:l,reposition:v,isOpen:fm.isOpen}
return{uid:t.uid,dom:t.dom,behaviours:Jm(t.inlineBehaviours,[fm.config({isPartOf:function(t,e,r){return bs(e,r)||n(t,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),Xm.config({store:{mode:"memory",initialValue:H.none()}}),ql.config({channels:_(_({},pm(_({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym(_(_({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:v})))})]),eventOrder:t.eventOrder,apis:f}}
var Lw=ih({name:"InlineView",configFields:[yn("lazySink"),Ls("onShow"),Ls("onHide"),Hn("onEscape"),Km("inlineBehaviours",[fm,Xm,ql]),In("fireDismissalEventInstead",[Pn("event",na())]),In("fireRepositionEventInstead",[Pn("event",ra())]),Pn("getRelated",H.none),Pn("isExtraPart",O),Pn("eventOrder",H.none)],factory:Iw,apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}})
var Pw=function(t){return t.x}
var Nw=function(t,e){return t.x+t.width/2-e.width/2}
var Vw=function(t,e){return t.x+t.width-e.width}
var Fw=function(t){return t.y}
var jw=function(t,e){return t.y+t.height-e.height}
var Uw=function(t,e,n){return Ws(Vw(t,e),jw(t,e),n.innerSoutheast(),Zs(),ol(t,{right:0,bottom:3}),"layout-inner-se")}
var Ww=function(t,e,n){return Ws(Pw(t),jw(t,e),n.innerSouthwest(),Js(),ol(t,{left:1,bottom:3}),"layout-inner-sw")}
var qw=function(t,e,n){return Ws(Vw(t,e),Fw(t),n.innerNortheast(),Ys(),ol(t,{right:0,top:2}),"layout-inner-ne")}
var Gw=function(t,e,n){return Ws(Pw(t),Fw(t),n.innerNorthwest(),Ks(),ol(t,{left:1,top:2}),"layout-inner-nw")}
var $w=function(t,e,n){return Ws(Nw(t,e),Fw(t),n.innerNorth(),Qs(),ol(t,{top:2}),"layout-inner-n")}
var Xw=function(t,e,n){return Ws(Nw(t,e),jw(t,e),n.innerSouth(),tl(),ol(t,{bottom:3}),"layout-inner-s")}
var Kw=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Yw=function(t){var e=Qy(t.action)
var n=t.dom.tag
var r=function(e){return Nt(t.dom,"attributes").bind((function(t){return Nt(t,e)}))}
var o=function(){if("button"===n){var t=r("type").getOr("button")
var e=r("role").map((function(t){return{role:t}})).getOr({})
return _({type:t},e)}var o=r("role").getOr("button")
return{role:o}}
return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Zm.augment(t.buttonBehaviours,[Ay.config({}),vy.config({mode:"execution",useSpace:true,useEnter:true})]),domModification:{attributes:o()},eventOrder:t.eventOrder}}
var Jw=ih({name:"Button",factory:Yw,configFields:[Pn("uid",void 0),yn("dom"),Pn("components",[]),Zm.field("buttonBehaviours",[Ay,vy]),Mn("action"),Mn("role"),Pn("eventOrder",{})]})
var Zw=function(t){var e=rh(t)&&Ft(t,"uid")?t.uid:qi("memento")
var n=function(t){return t.getSystem().getByUid(e).getOrDie()}
var r=function(t){return t.getSystem().getByUid(e).toOptional()}
var o=function(){return _(_({},t),{uid:e})}
return{get:n,getOpt:r,asSpec:o}}
var Qw=function(t){return H.from(t()["temporary-placeholder"]).getOr("!not found!")}
var tx=function(t,e){return H.from(e()[t.toLowerCase()]).getOrThunk((function(){return Qw(e)}))}
var ex=function(t,e,n){return H.from(e()[t.toLowerCase()]).or(n).getOrThunk((function(){return Qw(e)}))}
var nx=function(t,e){return vt(t,(function(t){return H.from(e()[t.toLowerCase()])})).getOrThunk((function(){return Qw(e)}))}
var rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"}
var ox=function(t){var e=Zw({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Nl([xy.config({})])})
var n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}}
var r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}}
var o=Zw({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Nl([xy.config({})])})
var a=function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){xy.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))}
var i=function(t,n){if(t.getSystem().isConnected()){var r=e.get(t)
xy.set(r,[hc(n)])}}
var u={updateProgress:a,updateText:i}
var c=tt([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return H.from(rx[t])})).toArray()])
var s=Zw(Jw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}}))
var l=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(c,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Nl([xy.config({})])}]
return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},behaviours:Nl([Ay.config({}),Sy("notification-events",[wa(zo(),(function(t){s.getOpt(t).each(Ay.focus)}))])]),components:l.concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[s.asSpec()]:[]),apis:u}}
var ax=ih({name:"Notification",factory:ox,configFields:[Mn("level"),yn("progress"),yn("icon"),yn("onAction"),yn("text"),yn("iconProvider"),yn("translationProvider"),Un("closeButton",true)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}})
function ix(t,e,n){var r=e.backstage
var o=function(t){switch(t){case"bc-bc":return Xw
case"tc-tc":return $w
case"tc-bc":return bl
case"bc-tc":default:return yl}}
var a=function(t){q(t,(function(t){return t.moveTo(0,0)}))}
var i=function(t){if(t.length>0){ct(t).each((function(t){return t.moveRel(null,"banner")}))
q(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")}))}}
var u=function(t){a(t)
i(t)}
var c=function(t,a){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0)
var u=function(){a()
Lw.hide(s)}
var c=yc(ax.sketch({text:t.text,level:V(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:true===t.progressBar,icon:H.from(t.icon),closeButton:!i,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate}))
var s=yc(Lw.sketch(_({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})))
n.add(s)
t.timeout>0&&Kw.setTimeout((function(){u()}),t.timeout)
return{close:u,moveTo:function(t,e){Lw.showAt(s,{anchor:"makeshift",x:t,y:e},wc(c))},moveRel:function(t,n){if("banner"!==n){var r=o(n)
var a={anchor:"node",root:qu(),node:H.some(er.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}}
Lw.showAt(s,a,wc(c))}else Lw.showAt(s,e.backstage.shared.anchors.banner(),wc(c))},text:function(t){ax.updateText(c,t)},settings:t,getEl:function(){return c.element.dom},progressBar:{value:function(t){ax.updateProgress(c,t)}}}}
var s=function(t){t.close()}
var l=function(t){return t.settings}
return{open:c,close:s,reposition:u,getArgs:l}}var ux=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null===n&&(n=setTimeout((function(){t.apply(null,r)
n=null}),e))}
return{cancel:r,throttle:o}}
var cx=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker")
var lx=function(t,e){return t.isBlock(e)||V(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}
var vx=function(t,e,n,r,o){var a=sx(t,(function(e){return lx(t,e)}))
return H.from(a.backwards(e,n,r,o))}
var fx="[data-mce-autocompleter]"
var dx=function(t,e){return mx(er.fromDom(t.selection.getNode())).getOrThunk((function(){var n=er.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc())
vi(n,er.fromDom(e.extractContents()))
e.insertNode(n.dom)
qa(n).each((function(t){return t.dom.normalize()}))
Xf(n).map((function(e){t.selection.setCursorLocation(e.dom,Wf(e))}))
return n}))}
var mx=function(t){return ms(t,fx)}
var gx=function(t){return t.collapsed&&3===t.startContainer.nodeType}
var hx=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}
var px=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)}
var bx=function(t,e){return t.substring(e.length)}
var yx=function(t,e,n){var r
for(r=e-1;r>=0;r--){var o=t.charAt(r)
if(px(o))return H.none()
if(o===n)break}return H.some(r)}
var wx=function(t,e,n,r){void 0===r&&(r=0)
if(!gx(e))return H.none()
var o=function(t,e,r){return yx(r,e,n).getOr(e)}
var a=t.getParent(e.startContainer,t.isBlock)||t.getRoot()
return vx(t,e.startContainer,e.startOffset,o,a).bind((function(t){var o=e.cloneRange()
o.setStart(t.container,t.offset)
o.setEnd(e.endContainer,e.endOffset)
if(o.collapsed)return H.none()
var a=hx(o)
var i=a.lastIndexOf(n)
return 0!==i||bx(a,n).length<r?H.none():H.some({text:bx(a,n),range:o,triggerChar:n})}))}
var xx=function(t,e,n,r){void 0===r&&(r=0)
return mx(er.fromDom(e.startContainer)).fold((function(){return wx(t,e,n,r)}),(function(e){var r=t.createRng()
r.selectNode(e.dom)
var o=hx(r)
return H.some({range:r,text:bx(o,n),triggerChar:n})}))}
var Cx=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle)
e.on("remove",t.onKeypress.cancel)
var n=function(t,e){va(t,Mo(),{raw:e})}
e.on("keydown",(function(e){var r=function(){return t.getView().bind(Ph.getHighlighted)}
8===e.which&&t.onKeypress.throttle(e)
if(t.isActive()){27===e.which&&t.cancelIfNecessary()
if(t.isMenuOpen())if(13===e.which){r().each(fa)
e.preventDefault()}else if(40===e.which){r().fold((function(){t.getView().each(Ph.highlightFirst)}),(function(t){n(t,e)}))
e.preventDefault()
e.stopImmediatePropagation()}else 37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e)
e.preventDefault()
e.stopImmediatePropagation()}))
else 13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary()}}))
e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&mx(er.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))}
var Sx={setup:Cx}
var Ox=tinymce.util.Tools.resolve("tinymce.util.Promise")
var kx=function(t,e){return{container:t,offset:e}}
var Tx=function(t){return t.nodeType===Qr}
var _x=function(t){return t.nodeType===Zr}
var zx=function(t){if(Tx(t))return kx(t,t.data.length)
var e=t.childNodes
return e.length>0?zx(e[e.length-1]):kx(t,e.length)}
var Ex=function(t,e){var n=t.childNodes
return n.length>0&&e<n.length?Ex(n[e],0):n.length>0&&_x(t)&&n.length===e?zx(n[n.length-1]):kx(t,e)}
var Mx=function(t,e){return vx(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1)
return!px(e)})).isSome()}
var Dx=function(t){return function(e){var n=Ex(e.startContainer,e.startOffset)
return!Mx(t,n)}}
var Ax=function(t,e,n){return vt(n.triggerChars,(function(n){return xx(t,e,n)}))}
var Rx=function(t,e){var n=e()
var r=t.selection.getRng()
return Ax(t.dom,r,n).bind((function(n){return Hx(t,e,n)}))}
var Hx=function(t,e,n,r){void 0===r&&(r={})
var o=e()
var a=t.selection.getRng()
var i=a.startContainer.nodeValue
var u=X(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return Dx(t.dom)}))(n.range,i,n.text)}))
if(0===u.length)return H.none()
var c=Ox.all(W(u,(function(t){var e=t.fetch(n.text,t.maxResults,r)
return e.then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}}))})))
return H.some({lookupData:c,context:n})}
var Bx=Pe([Cn("type"),Rn("text")])
var Ix=function(t){return nn("separatormenuitem",Bx,t)}
var Lx=Pe([Pn("type","autocompleteitem"),Pn("active",false),Pn("disabled",false),Pn("meta",{}),Cn("value"),Rn("text"),Rn("icon")])
var Px=Pe([Cn("type"),Cn("ch"),Vn("minChars",1),Pn("columns",1),Vn("maxResults",10),Hn("matches"),kn("fetch"),kn("onAction"),Gn("highlightOn",[],dn)])
var Nx=function(t){return nn("Autocompleter.Separator",Bx,t)}
var Vx=function(t){return nn("Autocompleter.Item",Lx,t)}
var Fx=function(t){return nn("Autocompleter",Px,t)}
var jx=[Un("disabled",false),Rn("tooltip"),Rn("icon"),Rn("text"),Wn("onSetup",(function(){return g}))]
var Ux=Pe([Cn("type"),kn("onAction")].concat(jx))
var Wx=function(t){return nn("toolbarbutton",Ux,t)}
var qx=[Un("active",false)].concat(jx)
var Gx=Pe(qx.concat([Cn("type"),kn("onAction")]))
var $x=function(t){return nn("ToggleButton",Gx,t)}
var Xx=[Wn("predicate",O),jn("scope","node",["node","editor"]),jn("position","selection",["node","selection","line"])]
var Kx=jx.concat([Pn("type","contextformbutton"),Pn("primary",false),kn("onAction"),Xn("original",w)])
var Yx=qx.concat([Pn("type","contextformbutton"),Pn("primary",false),kn("onAction"),Xn("original",w)])
var Jx=jx.concat([Pn("type","contextformbutton")])
var Zx=qx.concat([Pn("type","contextformtogglebutton")])
var Qx=cn("type",{contextformbutton:Kx,contextformtogglebutton:Yx})
var tC=Pe([Pn("type","contextform"),Wn("initValue",(function(){return""})),Rn("label"),En("commands",Qx),Dn("launch",cn("type",{contextformbutton:Jx,contextformtogglebutton:Zx}))].concat(Xx))
var eC=function(t){return nn("ContextForm",tC,t)}
var nC=Pe([Pn("type","contexttoolbar"),Cn("items")].concat(Xx))
var rC=function(t){return nn("ContextToolbar",nC,t)}
var oC=function(t){var e={}
q(t,(function(t){e[t]={}}))
return zt(e)}
var aC=function(t){var e=t.ui.registry.getAll().popups
var n=Dt(e,(function(t){return Fx(t).fold((function(t){throw new Error(an(t))}),(function(t){return t}))}))
var r=oC(It(n,(function(t){return t.ch})))
var o=Pt(n)
var a=function(t){return X(o,(function(e){return e.ch===t}))}
return{dataset:n,triggerChars:r,lookupByChar:a}}
var iC;(function(t){t[t["CLOSE_ON_EXECUTE"]=0]="CLOSE_ON_EXECUTE"
t[t["BUBBLE_TO_SANDBOX"]=1]="BUBBLE_TO_SANDBOX"})(iC||(iC={}))
var uC=iC
var cC="tox-menu-nav__js"
var sC="tox-collection__item"
var lC="tox-swatch"
var vC={normal:cC,color:lC}
var fC="tox-collection__item--enabled"
var dC="tox-collection__group-heading"
var mC="tox-collection__item-icon"
var gC="tox-collection__item-label"
var hC="tox-collection__item-accessory"
var pC="tox-collection__item-caret"
var bC="tox-collection__item-checkmark"
var yC="tox-collection__item--active"
var wC="tox-collection__item-icon-rtl"
var xC="tox-collection__item-container"
var CC="tox-collection__item-container--column"
var SC="tox-collection__item-container--row"
var OC="tox-collection__item-container--align-right"
var kC="tox-collection__item-container--align-left"
var TC="tox-collection__item-container--valign-top"
var _C="tox-collection__item-container--valign-middle"
var zC="tox-collection__item-container--valign-bottom"
var EC=function(t){return Nt(vC,t).getOr(cC)}
var MC=function(t){return"color"===t?"tox-swatches":"tox-menu"}
var DC=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:MC(t),tieredMenu:"tox-tiered-menu"}}
var AC=function(t){var e=DC(t)
return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:EC(t)}}
var RC=function(t,e,n){var r=DC(n)
return{tag:"div",classes:tt([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}}
var HC=[Cw.parts.items({})]
var BC=function(t,e,n){var r=DC(n)
var o={tag:"div",classes:tt([[r.tieredMenu]])}
return{dom:o,markers:AC(n)}}
var IC=function(t,e){return function(n){var r=U(n,e)
return W(r,(function(e){return{dom:t,components:e}}))}}
var LC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Cw.parts.items({preprocess:"auto"!==t?IC({tag:"div",classes:["tox-swatches__row"]},t):w})]}]}}
var PC=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Cw.parts.items({preprocess:IC({tag:"div",classes:["tox-collection__group"]},t)})]}}
var NC=function(t,e){var n=[]
var r=[]
q(t,(function(t,o){if(e(t,o)){r.length>0&&n.push(r)
r=[]
Vt(t.dom,"innerHtml")&&r.push(t)}else r.push(t)}))
r.length>0&&n.push(r)
return W(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))}
var VC=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[Cw.parts.items({preprocess:function(n){return"auto"!==t&&t>1?IC({tag:"div",classes:["tox-collection__group"]},t)(n):NC(n,(function(t,n){return"separator"===e[n].type}))}})]}}
var FC=function(t,e){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Cw.parts.items({preprocess:function(e){return NC(e,(function(e,n){return"separator"===t[n].type}))}})]}}
var jC=function(t){return F(t,(function(t){return"icon"in t&&void 0!==t.icon}))}
var UC=function(t){console.error(an(t))
console.log(t)
return H.none()}
var WC=function(t,e,n,r,o){var a=FC(n)
return{value:t,dom:a.dom,components:a.components,items:n}}
var qC=function(t,e,n,r,o){if("color"===o){var a=LC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&"auto"===r){a=VC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o&&1===r){a=VC(1,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("normal"===o){a=VC(r,n)
return{value:t,dom:a.dom,components:a.components,items:n}}if("listpreview"===o&&"auto"!==r){a=PC(r)
return{value:t,dom:a.dom,components:a.components,items:n}}return{value:t,dom:RC(e,r,o),components:HC,items:n}}
var GC=[Cn("type"),Cn("src"),Rn("alt"),Gn("classes",[],dn)]
var $C=Pe(GC)
var XC=[Cn("type"),Cn("text"),Rn("name"),Gn("classes",["tox-collection__item-label"],dn)]
var KC=Pe(XC)
var YC=Ze((function(){return un("type",{cardimage:$C,cardtext:KC,cardcontainer:JC})}))
var JC=Pe([Cn("type"),Fn("direction","horizontal"),Fn("align","left"),Fn("valign","middle"),En("items",YC)])
var ZC=[Un("disabled",false),Rn("text"),Rn("shortcut"),Ge("value","value",ne((function(){return Li("menuitem-value")})),ln()),Pn("meta",{})]
var QC=Pe([Cn("type"),Rn("label"),En("items",YC),Wn("onSetup",(function(){return g})),Wn("onAction",g)].concat(ZC))
var tS=function(t){return nn("cardmenuitem",QC,t)}
var eS=Pe([Cn("type"),Un("active",false),Rn("icon")].concat(ZC))
var nS=function(t){return nn("choicemenuitem",eS,t)}
var rS=["inserttable","colorswatch"]
var oS=Pe([Cn("type"),Sn("fancytype",rS),Wn("onAction",g)])
var aS=function(t){return nn("fancymenuitem",oS,t)}
var iS=Pe([Cn("type"),Wn("onSetup",(function(){return g})),Wn("onAction",g),Rn("icon")].concat(ZC))
var uS=function(t){return nn("menuitem",iS,t)}
var cS=Pe([Cn("type"),kn("getSubmenuItems"),Wn("onSetup",(function(){return g})),Rn("icon")].concat(ZC))
var sS=function(t){return nn("nestedmenuitem",cS,t)}
var lS=Pe([Cn("type"),Rn("icon"),Un("active",false),Wn("onSetup",(function(){return g})),kn("onAction")].concat(ZC))
var vS=function(t){return nn("togglemenuitem",lS,t)}
var fS=function(t,e,n){var r=Yf(t.element,"."+n)
if(r.length>0){var o=Q(r,(function(t){var n=t.dom.getBoundingClientRect().top
var o=r[0].dom.getBoundingClientRect().top
return Math.abs(n-o)>e})).getOr(r.length)
return H.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return H.none()}
var dS=function(t,e){return Nl([Sy(t,e)])}
var mS=function(t){return dS(Li("unnamed-events"),t)}
var gS={namedEvents:dS,unnamedEvents:mS}
var hS=Li("tooltip.exclusive")
var pS=Li("tooltip.show")
var bS=Li("tooltip.hide")
var yS=function(t,e,n){t.getSystem().broadcastOn([hS],{})}
var wS=function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&xy.set(t,r)}))}
var xS=Object.freeze({__proto__:null,hideAllExclusive:yS,setComponents:wS})
var CS=function(t,e){var n=function(n){e.getTooltip().each((function(r){Fd(r)
t.onHide(n,r)
e.clearTooltip()}))
e.clearTimer()}
var r=function(n){if(!e.isShowing()){yS(n)
var r=t.lazySink(n).getOrDie()
var o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ha("normal"===t.mode?[wa(_o(),(function(t){la(n,pS)})),wa(ko(),(function(t){la(n,bS)}))]:[]),behaviours:Nl([xy.config({})])})
e.setTooltip(o)
Pd(r,o)
t.onShow(n,o)
Ad.position(r,t.anchor(n),o)}}
return ha(tt([[wa(pS,(function(n){e.resetTimer((function(){r(n)}),t.delay)})),wa(bS,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),wa(jo(),(function(t,e){var r=e
r.universal||V(r.channels,hS)&&n(t)})),Da((function(t){n(t)}))],"normal"===t.mode?[wa(zo(),(function(t){la(t,pS)})),wa(Vo(),(function(t){la(t,bS)})),wa(_o(),(function(t){la(t,pS)})),wa(ko(),(function(t){la(t,bS)}))]:[wa(ca(),(function(t,e){la(t,pS)})),wa(sa(),(function(t){la(t,bS)}))]]))}
var SS=Object.freeze({__proto__:null,events:CS})
var OS=[yn("lazySink"),yn("tooltipDom"),Pn("exclusive",true),Pn("tooltipComponents",[]),Pn("delay",300),jn("mode","normal",["normal","follow-highlight"]),Pn("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:y([yl,bl,ml,hl,gl,pl]),onRtl:y([yl,bl,ml,hl,gl,pl])}}})),Ls("onHide"),Ls("onShow")]
var kS=function(){var t=Kn(H.none())
var e=Kn(H.none())
var n=function(){return e.get()}
var r=function(t){e.set(H.some(t))}
var o=function(){e.set(H.none())}
var a=function(){t.get().each((function(t){clearTimeout(t)}))}
var i=function(e,n){a()
t.set(H.some(setTimeout((function(){e()}),n)))}
var u=function(){return e.get().isSome()}
var c=y("not-implemented")
return ou({getTooltip:n,isShowing:u,setTooltip:r,clearTooltip:o,clearTimer:a,resetTimer:i,readState:c})}
var TS=Object.freeze({__proto__:null,init:kS})
var _S=Fl({fields:OS,name:"tooltipping",active:SS,state:TS,apis:xS})
var zS=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}
var ES=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var MS=tinymce.util.Tools.resolve("tinymce.util.I18n")
var DS=["input","button","textarea","select"]
var AS=function(t,e,n){var r=e.disabled()?VS:FS
r(t,e)}
var RS=function(t,e){return true===e.useNative&&V(DS,Ha(t.element))}
var HS=function(t){return _i(t.element,"disabled")}
var BS=function(t){Si(t.element,"disabled","disabled")}
var IS=function(t){zi(t.element,"disabled")}
var LS=function(t){return"true"===ki(t.element,"aria-disabled")}
var PS=function(t){Si(t.element,"aria-disabled","true")}
var NS=function(t){Si(t.element,"aria-disabled","false")}
var VS=function(t,e,n){e.disableClass.each((function(e){Lu(t.element,e)}))
var r=RS(t,e)?BS:PS
r(t)
e.onDisabled(t)}
var FS=function(t,e,n){e.disableClass.each((function(e){Nu(t.element,e)}))
var r=RS(t,e)?IS:NS
r(t)
e.onEnabled(t)}
var jS=function(t,e){return RS(t,e)?HS(t):LS(t)}
var US=function(t,e,n,r){var o=r?VS:FS
o(t,e)}
var WS=Object.freeze({__proto__:null,enable:FS,disable:VS,isDisabled:jS,onLoad:AS,set:US})
var qS=function(t,e){return su({classes:e.disabled()?e.disableClass.toArray():[]})}
var GS=function(t,e){return ha([pa(Uo(),(function(e,n){return jS(e,t)})),Rl(t,e,AS)])}
var $S=Object.freeze({__proto__:null,exhibit:qS,events:GS})
var XS=[Wn("disabled",O),Pn("useNative",true),Mn("disableClass"),Ls("onDisabled"),Ls("onEnabled")]
var KS=Fl({fields:XS,name:"disabling",active:$S,apis:WS})
var YS=tinymce.util.Tools.resolve("tinymce.EditorManager")
var JS=function(t){var e=t.getParam("skin")
var n=t.getParam("skin_url")
if(false!==e){var r=e||"oxide"
n=n?t.documentBaseURI.toAbsolute(n):YS.baseURL+"/skins/ui/"+r}return n}
var ZS=function(t){return t.getParam("readonly",false,"boolean")}
var QS=function(t){return false===t.getParam("skin")}
var tO=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))}
var eO=function(t){return t.getParam("width",ES.DOM.getStyle(t.getElement(),"width"))}
var nO=function(t){return H.from(t.getParam("min_width")).filter(d)}
var rO=function(t){return H.from(t.getParam("min_height")).filter(d)}
var oO=function(t){return H.from(t.getParam("max_width")).filter(d)}
var aO=function(t){return H.from(t.getParam("max_height")).filter(d)}
var iO=function(t){return H.from(t.getParam("style_formats")).filter(u)}
var uO=function(t){return t.getParam("style_formats_merge",false,"boolean")}
var cO=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")}
var sO=function(t){return t.getParam("removed_menuitems","")}
var lO=function(t){return false!==t.getParam("menubar",true,"boolean")}
var vO=function(t){var e=t.getParam("toolbar",true)
var n=true===e
var r=a(e)
var o=u(e)&&e.length>0
return!dO(t)&&(o||r||n)}
var fO=function(t){var e=j(9,(function(e){return t.getParam("toolbar"+(e+1),false,"string")}))
var n=X(e,(function(t){return"string"===typeof t}))
return n.length>0?H.some(n):H.none()}
var dO=function(t){return fO(t).fold((function(){var e=t.getParam("toolbar",[],"string[]")
return e.length>0}),k)}
var mO;(function(t){t["default"]="wrap"
t["floating"]="floating"
t["sliding"]="sliding"
t["scrolling"]="scrolling"})(mO||(mO={}))
var gO=function(t){return t.getParam("toolbar_mode","","string")}
var hO;(function(t){t["auto"]="auto"
t["top"]="top"
t["bottom"]="bottom"})(hO||(hO={}))
var pO=function(t){return t.getParam("toolbar_groups",{},"object")}
var bO=function(t){return t.getParam("toolbar_location",hO.auto,"string")}
var yO=function(t){return bO(t)===hO.bottom}
var wO=function(t){return t.getParam("fixed_toolbar_container","","string")}
var xO=function(t){return t.getParam("fixed_toolbar_container_target")}
var CO=function(t){return t.getParam("toolbar_persist",false,"boolean")}
var SO=function(t){if(!t.inline)return H.none()
var e=wO(t)
if(e.length>0)return ds(qu(),e)
var n=xO(t)
if(v(n))return H.some(er.fromDom(n))
return H.none()}
var OO=function(t){return t.inline&&SO(t).isSome()}
var kO=function(t){var e=SO(t)
return e.getOrThunk((function(){return ni(ei(er.fromDom(t.getElement())))}))}
var TO=function(t){return t.inline&&!lO(t)&&!vO(t)&&!dO(t)}
var _O=function(t){var e=t.getParam("toolbar_sticky",false,"boolean")
return(e||t.inline)&&!OO(t)&&!TO(t)}
var zO=function(t){return t.getParam("draggable_modal",false,"boolean")}
var EO=function(t){var e=t.getParam("menu")
return e?Dt(e,(function(t){return _(_({},t),{items:t.items})})):{}}
var MO=function(t){return t.getParam("menubar")}
var DO=function(t){return t.getParam("toolbar",true)}
var AO=function(t){return t.getParam("file_picker_callback")}
var RO=function(t){return t.getParam("file_picker_types")}
var HO=function(t){return t.getParam("file_browser_callback_types")}
var BO=function(t){return false===t.getParam("typeahead_urls")}
var IO=function(t){return t.getParam("anchor_top","#top")}
var LO=function(t){return t.getParam("anchor_bottom","#bottom")}
var PO=function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function")
return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e}
var NO="silver.readonly"
var VO=Pe([On("readonly")])
var FO=function(t,e){var n=t.outerContainer
var r=n.element
if(e){t.mothership.broadcastOn([dm()],{target:r})
t.uiMothership.broadcastOn([dm()],{target:r})}t.mothership.broadcastOn([NO],{readonly:e})
t.uiMothership.broadcastOn([NO],{readonly:e})}
var jO=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&FO(e,true)}))
t.on("SwitchMode",(function(){return FO(e,t.mode.isReadOnly())}))
ZS(t)&&t.setMode("readonly")}
var UO=function(){var t
return ql.config({channels:(t={},t[NO]={schema:VO,onReceive:function(t,e){KS.set(t,e.readonly)}},t)})}
var WO=function(t){return KS.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})}
var qO=function(t){return KS.config({disabled:t})}
var GO=function(t){return KS.config({disabled:t,disableClass:"tox-tbtn--disabled"})}
var $O=function(t){return KS.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:false})}
var XO={item:WO,button:qO,splitButton:GO,toolbarButton:$O}
var KO=function(t,e){var n=t.getApi(e)
return function(t){t(n)}}
var YO=function(t,e){return Ma((function(n){var r=KO(t,n)
r((function(n){var r=t.onSetup(n)
f(r)&&e.set(r)}))}))}
var JO=function(t,e){return Da((function(n){return KO(t,n)(e.get())}))}
var ZO
var QO=function(t,e){return Ra((function(n,r){KO(t,n)(t.onAction)
if(!t.triggersSubmenu&&e===uC.CLOSE_ON_EXECUTE){n.getSystem().isConnected()&&la(n,$o())
r.stop()}}))}
var tk=(ZO={},ZO[Uo()]=["disabling","alloy.base.behaviour","toggling","item-events"],ZO)
var ek=function(t){return et(t,(function(t){return t.toArray()}))}
var nk=function(t,e,n,r){var o=Kn(g)
return{type:"item",dom:e.dom,components:ek(e.optComponents),data:t.data,eventOrder:tk,hasSubmenu:t.triggersSubmenu,itemBehaviours:Nl([Sy("item-events",[QO(t,n),YO(t,o),JO(t,o)]),XO.item((function(){return t.disabled||r.isDisabled()})),UO(),xy.config({})].concat(t.itemBehaviours))}}
var rk=function(t){return{value:t.value,meta:_({text:t.text.getOr("")},t.meta)}}
var ok=tinymce.util.Tools.resolve("tinymce.Env")
var ak=function(t){var e={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}
var n={meta:"Ctrl",access:"Shift+Alt"}
var r=ok.mac?e:n
var o=t.split("+")
var a=W(o,(function(t){var e=t.toLowerCase().trim()
return Vt(r,e)?r[e]:t}))
return ok.mac?a.join(""):a.join("+")}
var ik=function(t){return{dom:{tag:"div",classes:[mC],innerHtml:t}}}
var uk=function(t){return{dom:{tag:"div",classes:[gC]},components:[hc(MS.translate(t))]}}
var ck=function(t,e){return{dom:{tag:"div",classes:e,innerHtml:t}}}
var sk=function(t,e){return{dom:{tag:"div",classes:[gC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[hc(MS.translate(e))]}]}}
var lk=function(t){return{dom:{tag:"div",classes:[hC],innerHtml:ak(t)}}}
var vk=function(t){return{dom:{tag:"div",classes:[bC],innerHtml:tx("checkmark",t)}}}
var fk=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-right",t)}}}
var dk=function(t){return{dom:{tag:"div",classes:[pC],innerHtml:tx("chevron-down",t)}}}
var mk=function(t,e){var n="vertical"===t.direction?CC:SC
var r="left"===t.align?kC:OC
var o=function(){switch(t.valign){case"top":return TC
case"middle":return _C
case"bottom":return zC}}
return{dom:{tag:"div",classes:[xC,n,r,o()]},components:e}}
var gk=function(t,e,n){return{dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}}
var hk=function(t,e,n,r){var o="custom"
var a="remove"
var i=function(){var i=lC
var u=n.getOr("")
var c=t.map((function(t){return{title:r.translate(t)}})).getOr({})
var s={tag:"div",attributes:c,classes:[i]}
return _(_({},s),e===o?{tag:"button",classes:E(s.classes,["tox-swatches__picker-btn"]),innerHtml:u}:e===a?{classes:E(s.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:_(_({},s.attributes),{"data-mce-color":e}),styles:{"background-color":e}})}
return{dom:i(),optComponents:[]}}
var pk=function(t,e){var n=e.map((function(t){return{attributes:{title:MS.translate(t)}}})).getOr({})
return _({tag:"div",classes:[cC,sC].concat(t?[wC]:[])},n)}
var bk=function(t,e,n,r,o){var a=n?e.or(H.some("")).map(ik):H.none()
var i=t.checkMark
var u=t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return H.some(ck(t,[gC]))}))
var c={dom:pk(o,t.ariaLabel),optComponents:[a,u,t.shortcutContent.map(lk),i,t.caret]}
return c}
var yk=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"]
var wk=["list-bull-circle","list-bull-default","list-bull-square"]
var xk=function(t,e,n,r){void 0===r&&(r=H.none())
var o=function(t){return t.map((function(t){return MS.isRtl()&&V(yk,t)?t+"-rtl":t}))}
var a=MS.isRtl()&&t.iconContent.exists((function(t){return V(wk,t)}))
var i=o(t.iconContent).map((function(t){return ex(t,e.icons,r)}))
var u=H.from(t.meta).fold((function(){return uk}),(function(t){return Vt(t,"style")?x(sk,t.style):uk}))
return"color"===t.presets?hk(t.ariaLabel,t.value,i,e):bk(t,i,n,u,a)}
var Ck=function(t,e){return Nt(t,"tooltipWorker").map((function(t){return[_S.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:zv}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){_S.setComponents(e,[pc({element:er.fromDom(t)})])}))}})]})).getOr([])}
var Sk=function(t){return ES.DOM.encode(t)}
var Ok=function(t,e){var n=MS.translate(t)
var r=Sk(n)
if(e.length>0){var o=new RegExp(zS(e),"gi")
return r.replace(o,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return r}
var kk=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=xk({presets:r,textContent:H.none(),htmlContent:n?t.text.map((function(t){return Ok(t,e)})):H.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:H.none(),checkMark:H.none(),caret:H.none(),value:t.value},i.providers,u,t.icon)
return nk({data:rk(t),disabled:t.disabled,getApi:y({}),onAction:function(e){return o(t.value,t.meta)},onSetup:y(g),triggersSubmenu:false,itemBehaviours:Ck(t.meta,i)},c,a,i.providers)}
var Tk=function(t,e){return W(t,(function(t){switch(t.type){case"cardcontainer":return mk(t,Tk(t.items,e))
case"cardimage":return gk(t.src,t.classes,t.alt)
case"cardtext":var n=t.name.exists((function(t){return V(e.cardText.highlightOn,t)}))
var r=n?H.from(e.cardText.matchText).getOr(""):""
return ck(Ok(t.text,r),t.classes)}}))}
var _k=function(t,e,n,r){var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){KS.set(t,e)
q(Yf(t.element,"*"),(function(n){t.getSystem().getByDom(n).each((function(t){t.hasConfigured(KS)&&KS.set(t,e)}))}))}}}
var a={dom:pk(false,t.label),optComponents:[H.some({dom:{tag:"div",classes:[xC,SC]},components:Tk(t.items,r)})]}
return nk({data:rk(_({text:H.none()},t)),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:H.from(r.itemBehaviours).getOr([])},a,e,n.providers)}
var zk=function(t,e,n,r,o,a,i,u){void 0===u&&(u=true)
var c=function(t){return{setActive:function(e){Jy.set(t,e)},isActive:function(){return Jy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var s=xk({presets:n,textContent:e?t.text:H.none(),htmlContent:H.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:H.none(),checkMark:e?H.some(vk(i.icons)):H.none(),caret:H.none(),value:t.value},i,u)
return Xt(nk({data:rk(t),disabled:t.disabled,getApi:c,onAction:function(e){return r(t.value)},onSetup:function(t){t.setActive(o)
return g},triggersSubmenu:false,itemBehaviours:[]},s,a,i),{toggling:{toggleClass:fC,toggleOnExecute:false,selected:t.active}})}
var Ek=Bg(lw(),vw())
var Mk=function(t){return{value:t}}
var Dk=/^#?([a-f\d])([a-f\d])([a-f\d])$/i
var Ak=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i
var Rk=function(t){return Dk.test(t)||Ak.test(t)}
var Hk=function(t){var e=t.value.replace(Dk,(function(t,e,n,r){return e+e+n+n+r+r}))
return{value:e}}
var Bk=function(t){var e=Hk(t)
var n=Ak.exec(e.value)
return null===n?["FFFFFF","FF","FF","FF"]:n}
var Ik=function(t){var e=t.toString(16)
return(1===e.length?"0"+e:e).toUpperCase()}
var Lk=function(t){var e=Ik(t.red)+Ik(t.green)+Ik(t.blue)
return Mk(e)}
var Pk=Math.min
var Nk=Math.max
var Vk=Math.round
var Fk=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/
var jk=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/
var Uk=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}}
var Wk=function(t){var e=parseInt(t,10)
return e.toString()===t&&e>=0&&e<=255}
var qk=function(t){var e
var n
var r
var o=(t.hue||0)%360
var a=t.saturation/100
var i=t.value/100
a=Nk(0,Pk(a,1))
i=Nk(0,Pk(i,1))
if(0===a){e=n=r=Vk(255*i)
return Uk(e,n,r,1)}var u=o/60
var c=i*a
var s=c*(1-Math.abs(u%2-1))
var l=i-c
switch(Math.floor(u)){case 0:e=c
n=s
r=0
break
case 1:e=s
n=c
r=0
break
case 2:e=0
n=c
r=s
break
case 3:e=0
n=s
r=c
break
case 4:e=s
n=0
r=c
break
case 5:e=c
n=0
r=s
break
default:e=n=r=0}e=Vk(255*(e+l))
n=Vk(255*(n+l))
r=Vk(255*(r+l))
return Uk(e,n,r,1)}
var Gk=function(t){var e=Bk(t)
var n=parseInt(e[1],16)
var r=parseInt(e[2],16)
var o=parseInt(e[3],16)
return Uk(n,r,o,1)}
var $k=function(t,e,n,r){var o=parseInt(t,10)
var a=parseInt(e,10)
var i=parseInt(n,10)
var u=parseFloat(r)
return Uk(o,a,i,u)}
var Xk=function(t){if("transparent"===t)return H.some(Uk(0,0,0,0))
var e=Fk.exec(t)
if(null!==e)return H.some($k(e[1],e[2],e[3],"1"))
var n=jk.exec(t)
if(null!==n)return H.some($k(n[1],n[2],n[3],n[4]))
return H.none()}
var Kk=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}
var Yk=Uk(255,0,0,1)
var Jk=function(t){return t.fire("SkinLoaded")}
var Zk=function(t,e){return t.fire("SkinLoadError",e)}
var Qk=function(t){return t.fire("ResizeEditor")}
var tT=function(t,e){return t.fire("ResizeContent",e)}
var eT=function(t,e){return t.fire("ScrollContent",e)}
var nT=function(t,e){return t.fire("TextColorChange",e)}
var rT=tinymce.util.Tools.resolve("tinymce.util.LocalStorage")
var oT="tinymce-custom-colors"
function aT(t){void 0===t&&(t=10)
var e=rT.getItem(oT)
var n=a(e)?JSON.parse(e):[]
var r=function(e){var n=t-e.length
return n<0?e.slice(0,t):e}
var o=r(n)
var i=function(e){N(o,e).each(u)
o.unshift(e)
o.length>t&&o.pop()
rT.setItem(oT,JSON.stringify(o))}
var u=function(t){o.splice(t,1)}
var c=function(){return o.slice(0)}
return{add:i,state:c}}var iT="choiceitem"
var uT=[{type:iT,text:"Light Green",value:"#BFEDD2"},{type:iT,text:"Light Yellow",value:"#FBEEB8"},{type:iT,text:"Light Red",value:"#F8CAC6"},{type:iT,text:"Light Purple",value:"#ECCAFA"},{type:iT,text:"Light Blue",value:"#C2E0F4"},{type:iT,text:"Green",value:"#2DC26B"},{type:iT,text:"Yellow",value:"#F1C40F"},{type:iT,text:"Red",value:"#E03E2D"},{type:iT,text:"Purple",value:"#B96AD9"},{type:iT,text:"Blue",value:"#3598DB"},{type:iT,text:"Dark Turquoise",value:"#169179"},{type:iT,text:"Orange",value:"#E67E23"},{type:iT,text:"Dark Red",value:"#BA372A"},{type:iT,text:"Dark Purple",value:"#843FA1"},{type:iT,text:"Dark Blue",value:"#236FA1"},{type:iT,text:"Light Gray",value:"#ECF0F1"},{type:iT,text:"Medium Gray",value:"#CED4D9"},{type:iT,text:"Gray",value:"#95A5A6"},{type:iT,text:"Dark Gray",value:"#7E8C8D"},{type:iT,text:"Navy Blue",value:"#34495E"},{type:iT,text:"Black",value:"#000000"},{type:iT,text:"White",value:"#ffffff"}]
var cT=aT(10)
var sT=function(t){var e=[]
var n=document.createElement("canvas")
n.height=1
n.width=1
var r=n.getContext("2d")
var o=function(t,e){var n=255
var r=e/255
var o=Math.round(t*r+n*(1-r))
return("0"+o.toString(16)).slice(-2).toUpperCase()}
var a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase()
r.clearRect(0,0,n.width,n.height)
r.fillStyle="#FFFFFF"
r.fillStyle=t
r.fillRect(0,0,1,1)
var e=r.getImageData(0,0,1,1).data
var a=e[0],i=e[1],u=e[2],c=e[3]
return"#"+o(a,c)+o(i,c)+o(u,c)}
for(var i=0;i<t.length;i+=2)e.push({text:t[i+1],value:a(t[i]),type:"choiceitem"})
return e}
var lT=function(t,e){return t.getParam("color_cols",e,"number")}
var vT=function(t){return false!==t.getParam("custom_colors")}
var fT=function(t){return t.getParam("color_map")}
var dT=function(t){var e=fT(t)
return void 0!==e?sT(e):uT}
var mT=function(){return W(cT.state(),(function(t){return{type:iT,text:t,value:t}}))}
var gT=function(t){cT.add(t)}
var hT=function(t,e){var n
t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)}))
return n}
var pT=function(t,e,n){t.undoManager.transact((function(){t.focus()
t.formatter.apply(e,{value:n})
t.nodeChanged()}))}
var bT=function(t,e){t.undoManager.transact((function(){t.focus()
t.formatter.remove(e,{value:null},null,true)
t.nodeChanged()}))}
var yT=function(t){t.addCommand("mceApplyTextcolor",(function(e,n){pT(t,e,n)}))
t.addCommand("mceRemoveTextcolor",(function(e){bT(t,e)}))}
var wT=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))}
var xT=function(t){var e=dT(t)
var n=wT(e.length)
return lT(t,n)}
var CT=function(t){var e="choiceitem"
var n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"}
var r={type:e,text:"Custom color",icon:"color-picker",value:"custom"}
return t?[n,r]:[n]}
var ST=function(t,e,n,r){if("custom"===n){var o=ET(t)
o((function(n){n.each((function(n){gT(n)
t.execCommand("mceApplyTextcolor",e,n)
r(n)}))}),"#000000")}else if("remove"===n){r("")
t.execCommand("mceRemoveTextcolor",e)}else{r(n)
t.execCommand("mceApplyTextcolor",e,n)}}
var OT=function(t,e){return t.concat(mT().concat(CT(e)))}
var kT=function(t,e){return function(n){n(OT(t,e))}}
var TT=function(t,e,n){var r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color"
t.setIconFill(r,n)}
var _T=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){var r=H.from(hT(t,n))
return r.bind((function(t){return Xk(t).map((function(t){var n=Lk(t).value
return mr(e.toLowerCase(),n)}))})).getOr(false)},columns:xT(t),fetch:kT(dT(t),vT(t)),onAction:function(e){null!==o.get()&&ST(t,n,o.get(),g)},onItemAction:function(r,a){ST(t,n,a,(function(n){o.set(n)
nT(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&TT(n,e,o.get())
var r=function(t){t.name===e&&TT(n,t.name,t.color)}
t.on("TextColorChange",r)
return function(){t.off("TextColorChange",r)}}})}
var zT=function(t,e,n,r){t.ui.registry.addNestedMenuItem(e,{text:r,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){ST(t,n,e.value,g)}}]}})}
var ET=function(t){return function(e,n){var r=false
var o=function(n){var o=n.getData()
var a=o.colorpicker
if(r){e(H.from(a))
n.close()}else t.windowManager.alert(t.translate(["Invalid hex color code: {0}",a]))}
var a=function(t,e){"hex-valid"===e.name&&(r=e.value)}
var i={colorpicker:n}
t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:i,onAction:a,onSubmit:o,onClose:g,onCancel:function(){e(H.none())}})}}
var MT=function(t){yT(t)
var e=Kn(null)
var n=Kn(null)
_T(t,"forecolor","forecolor","Text color",e)
_T(t,"backcolor","hilitecolor","Background color",n)
zT(t,"forecolor","forecolor","Text color")
zT(t,"backcolor","hilitecolor","Background color")}
var DT=function(t,e,n,r,o,a,i,u){var c=jC(e)
var s="color"!==o?"normal":"color"
var l=AT(e,n,r,s,a,i,u)
return qC(t,c,l,r,o)}
var AT=function(t,e,n,r,o,a,i){return ch(W(t,(function(u){return"choiceitem"===u.type?nS(u).fold(UC,(function(c){return H.some(zk(c,1===n,r,e,a(u.value),o,i,jC(t)))})):H.none()})))}
var RT=function(t,e){var n=AC(e)
if(1===t)return{mode:"menu",moveOnTab:true}
if("auto"===t)return{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}
var r="color"===e?"tox-swatches__row":"tox-collection__group"
return{mode:"matrix",rowSelector:"."+r}}
var HT=function(t,e){return 1===t?{mode:"menu",moveOnTab:false,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+lC:"."+sC}}}
var BT=function(t,e){var n=OT(e.colorinput.getColors(),e.colorinput.hasCustomColors())
var r=e.colorinput.getColorCols()
var o="color"
var a=DT(Li("menu-value"),n,(function(e){t.onAction({value:e})}),r,o,uC.CLOSE_ON_EXECUTE,O,e.shared.providers)
var i=_(_({},a),{markers:AC(o),movement:RT(r,o)})
return{type:"widget",data:{value:Li("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[Ek.widget(Cw.sketch(i))]}}
var IT=Li("cell-over")
var LT=Li("cell-execute")
var PT=function(t,e,n){var r
var o=function(n){return va(n,IT,{row:t,col:e})}
var a=function(n){return va(n,LT,{row:t,col:e})}
var i=function(t,e){e.stop()
a(t)}
return yc({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Nl([Sy("insert-table-picker-cell",[wa(_o(),Ay.focus),wa(Uo(),a),wa(Ho(),i),wa(qo(),i)]),Jy.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:false}),Ay.config({onFocus:o})])})}
var NT=function(t,e,n){var r=[]
for(var o=0;o<e;o++){var a=[]
for(var i=0;i<n;i++)a.push(PT(o,i,t))
r.push(a)}return r}
var VT=function(t,e,n,r,o){for(var a=0;a<r;a++)for(var i=0;i<o;i++)Jy.set(t[a][i],a<=e&&i<=n)}
var FT=function(t){return et(t,(function(t){return W(t,wc)}))}
var jT=function(t,e){return hc(e+1+"x"+(t+1))}
var UT=function(t){var e=10
var n=10
var r=Li("size-label")
var o=NT(r,e,n)
var a=Zw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[hc("0x0")],behaviours:Nl([xy.config({})])})
return{type:"widget",data:{value:Li("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:true,components:[Ek.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:FT(o).concat(a.asSpec()),behaviours:Nl([Sy("insert-table-picker",[Ta(IT,(function(t,r,i){var u=i.event.row
var c=i.event.col
VT(o,u,c,e,n)
xy.set(a.get(t),[jT(u,c)])})),Ta(LT,(function(e,n,r){t.onAction({numRows:r.event.row+1,numColumns:r.event.col+1})
la(e,$o())}))]),vy.config({initSize:{numRows:e,numColumns:n},mode:"flatgrid",selector:'[role="button"]'})])})]}}
var WT={inserttable:UT,colorswatch:BT}
var qT=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?H.some(t[e]):H.none()}
var GT=function(t,e){return qT(WT,t.fancytype).map((function(n){return n(t,e)}))}
var $T=function(t,e,n,r,o){void 0===r&&(r=true)
void 0===o&&(o=false)
var a=o?dk(n.icons):fk(n.icons)
var i=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var u=xk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:H.none(),ariaLabel:t.text,caret:H.some(a),checkMark:H.none(),shortcutContent:t.shortcut},n,r)
return nk({data:rk(t),getApi:i,disabled:t.disabled,onAction:g,onSetup:t.onSetup,triggersSubmenu:true,itemBehaviours:[]},u,e,n)}
var XT=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var a=xk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:H.none(),ariaLabel:t.text,caret:H.none(),checkMark:H.none(),shortcutContent:t.shortcut},n,r)
return nk({data:rk(t),getApi:o,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n)}
var KT=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}))
return{type:"separator",dom:_({tag:"div",classes:[sC,dC]},e),components:[]}}
var YT=function(t,e,n,r){void 0===r&&(r=true)
var o=function(t){return{setActive:function(e){Jy.set(t,e)},isActive:function(){return Jy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var a=xk({iconContent:t.icon,textContent:t.text,htmlContent:H.none(),ariaLabel:t.text,checkMark:H.some(vk(n.icons)),caret:H.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r)
return Xt(nk({data:rk(t),disabled:t.disabled,getApi:o,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:false,itemBehaviours:[]},a,e,n),{toggling:{toggleClass:fC,toggleOnExecute:false,selected:t.active}})}
var JT=kk
var ZT=KT
var QT=XT
var t_=$T
var e_=YT
var n_=GT
var r_=_k
var o_;(function(t){t[t["ContentFocus"]=0]="ContentFocus"
t[t["UiFocus"]=1]="UiFocus"})(o_||(o_={}))
var a_=function(t,e,n,r,o){var a=n.shared.providers
var i=function(t){return o?_(_({},t),{shortcut:H.none(),icon:t.text.isSome()?H.none():t.icon}):t}
switch(t.type){case"menuitem":return uS(t).fold(UC,(function(t){return H.some(QT(i(t),e,a,r))}))
case"nestedmenuitem":return sS(t).fold(UC,(function(t){return H.some(t_(i(t),e,a,r,o))}))
case"togglemenuitem":return vS(t).fold(UC,(function(t){return H.some(e_(i(t),e,a,r))}))
case"separator":return Ix(t).fold(UC,(function(t){return H.some(ZT(t))}))
case"fancymenuitem":return aS(t).fold(UC,(function(t){return n_(i(t),n)}))
default:console.error("Unknown item in general menu",t)
return H.none()}}
var i_=function(t,e,n,r,o,a,i){var u=1===r
var c=!u||jC(t)
return ch(W(t,(function(t){switch(t.type){case"separator":return Nx(t).fold(UC,(function(t){return H.some(ZT(t))}))
case"cardmenuitem":return tS(t).fold(UC,(function(t){return H.some(r_(_(_({},t),{onAction:function(e){t.onAction(e)
n(t.value,t.meta)}}),o,a,{itemBehaviours:Ck(t.meta,a),cardText:{matchText:e,highlightOn:i}}))}))
case"autocompleteitem":default:return Vx(t).fold(UC,(function(t){return H.some(JT(t,e,u,"normal",n,o,a,c))}))}})))}
var u_=function(t,e,n,r,o){var a=jC(e)
var i=ch(W(e,(function(t){var e=function(t){return o?!t.hasOwnProperty("text"):a}
var i=function(t){return a_(t,n,r,e(t),o)}
return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?i(_(_({},t),{disabled:true})):i(t)})))
var u=o?WC:qC
return u(t,a,i,1,"normal")}
var c_=function(t){return Hw.singleData(t.value,t)}
var s_=function(t,e,n,r){var o=n===o_.ContentFocus?up():ip()
var a=RT(e,r)
var i=AC(r)
return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:i.selectedItem,item:i.item},movement:a,fakeFocus:n===o_.ContentFocus,focusManager:o,menuBehaviours:gS.unnamedEvents("auto"!==e?[]:[Ma((function(t,e){fS(t,4,i.item).each((function(e){var n=e.numColumns,r=e.numRows
vy.setGridSize(t,r,n)}))}))])}}
var l_=function(t,e){var n=Kn(H.none())
var r=Kn(false)
var o=yc(Lw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Nl([Sy("dismissAutocompleter",[wa(na(),(function(){return c()}))])]),lazySink:e.getSink}))
var a=function(){return Lw.isOpen(o)}
var i=function(){return n.get().isSome()}
var u=function(){i()&&Lw.hide(o)}
var c=function(){if(i()){var e=n.get().map((function(t){return t.element}))
mx(e.getOr(er.fromDom(t.selection.getNode()))).each(pi)
u()
n.set(H.none())
r.set(false)}}
var s=Yt((function(){return aC(t)}))
var l=function(n,o){var a=vt(o,(function(t){return H.from(t.columns)})).getOr(1)
return et(o,(function(o){var i=o.items
return i_(i,o.matchText,(function(e,a){var i=t.selection.getRng()
xx(t.dom,i,n).fold((function(){return console.error("Lost context. Cursor probably moved")}),(function(t){var n=t.range
var i={hide:function(){c()},reload:function(t){u()
m(t)}}
r.set(true)
o.onAction(i,n,e,a)
r.set(false)}))}),a,uC.BUBBLE_TO_SANDBOX,e,o.highlightOn)}))}
var v=function(e){if(!i()){var o=dx(t,e.range)
n.set(H.some({triggerChar:e.triggerChar,element:o,matchLength:e.text.length}))
r.set(false)}}
var f=function(e,n,r,a){e.matchLength=n.text.length
var i=vt(r,(function(t){return H.from(t.columns)})).getOr(1)
Lw.showAt(o,{anchor:"node",root:er.fromDom(t.getBody()),node:H.from(e.element)},Cw.sketch(s_(qC("autocompleter-value",true,a,i,"normal"),i,o_.ContentFocus,"normal")))
Lw.getContent(o).each(Ph.highlightFirst)}
var d=function(e){return n.get().map((function(n){return xx(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return Hx(t,s,n,e)}))})).getOrThunk((function(){return Rx(t,s)}))}
var m=function(t){d(t).fold(c,(function(t){v(t.context)
t.lookupData.then((function(e){n.get().map((function(n){var r=t.context
if(n.triggerChar===r.triggerChar){var o=l(r.triggerChar,e)
o.length>0?f(n,r,e,o):r.text.length-n.matchLength>=10?c():u()}}))}))}))}
var g=cx((function(t){if(27===t.which)return
m()}),50)
var h={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:i,isProcessingAction:r.get,getView:function(){return Lw.getContent(o)}}
false===t.hasPlugin("rtc")&&Sx.setup(h,t)}
var v_={register:l_}
var f_=k
var d_=function(t,e,n){return Fc(t,e,f_,n)}
var m_=function(t,e,n){return jc(t,e,f_,n)}
var g_=Pc
var h_=function(t,e,n){return ms(t,e,n).isSome()}
var p_=function(t,e){var n=null
var r=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
var o=function(){if(null!==n){clearTimeout(n)
n=null}}
return{cancel:o,schedule:r}}
var b_=5
var y_=400
var w_=function(t){var e=t.raw
if(void 0===e.touches||1!==e.touches.length)return H.none()
return H.some(e.touches[0])}
var x_=function(t,e){var n=Math.abs(t.clientX-e.x)
var r=Math.abs(t.clientY-e.y)
return n>b_||r>b_}
var C_=function(t){var e=Kn(H.none())
var n=Kn(false)
var r=p_((function(e){t.triggerEvent(Go(),e)
n.set(true)}),y_)
var o=function(t){w_(t).each((function(o){r.cancel()
var a={x:o.clientX,y:o.clientY,target:t.target}
r.schedule(t)
n.set(false)
e.set(H.some(a))}))
return H.none()}
var a=function(t){r.cancel()
w_(t).each((function(t){e.get().each((function(n){x_(t,n)&&e.set(H.none())}))}))
return H.none()}
var i=function(o){r.cancel()
var a=function(t){return oo(t.target,o.target)}
return e.get().filter(a).map((function(e){if(n.get()){o.prevent()
return false}return t.triggerEvent(qo(),o)}))}
var u=le([{key:yo(),value:o},{key:wo(),value:a},{key:xo(),value:i}])
var c=function(t,e){return Nt(u,e).bind((function(e){return e(t)}))}
return{fireIfReady:c}}
var S_=function(t){var e=t.raw
return e.which===Nh[0]&&!V(["input","textarea"],Ha(t.target))&&!h_(t.target,'[contenteditable="true"]')}
var O_=function(){return $r().browser.isFirefox()}
var k_=Le([kn("triggerEvent"),Pn("stopBackspace",true)])
var T_=function(t,e){return O_()?m_(t,"focus",e):d_(t,"focusin",e)}
var __=function(t,e){return O_()?m_(t,"blur",e):d_(t,"focusout",e)}
var z_=function(t,e){var n=on("Getting GUI events settings",k_,e)
var r=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"]
var o=C_(n)
var a=W(r.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return d_(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()}))
var r=n.triggerEvent(e,t)
r&&t.kill()}))}))
var i=Kn(H.none())
var u=d_(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()}))
var e=n.triggerEvent("paste",t)
e&&t.kill()
i.set(H.some(setTimeout((function(){n.triggerEvent(Fo(),t)}),0)))}))
var c=d_(t,"keydown",(function(t){var e=n.triggerEvent("keydown",t)
e?t.kill():true===n.stopBackspace&&S_(t)&&t.prevent()}))
var s=T_(t,(function(t){var e=n.triggerEvent("focusin",t)
e&&t.kill()}))
var l=Kn(H.none())
var v=__(t,(function(t){var e=n.triggerEvent("focusout",t)
e&&t.kill()
l.set(H.some(setTimeout((function(){n.triggerEvent(Vo(),t)}),0)))}))
var f=function(){q(a,(function(t){t.unbind()}))
c.unbind()
s.unbind()
v.unbind()
u.unbind()
i.get().each(clearTimeout)
l.get().each(clearTimeout)}
return{unbind:f}}
var E_=function(t,e){var n=Nt(t,"target").getOr(e)
return Kn(n)}
var M_=function(t,e){var n=Kn(false)
var r=Kn(false)
var o=function(){n.set(true)}
var a=function(){r.set(true)}
return{stop:o,cut:a,isStopped:n.get,isCut:r.get,event:t,setSource:e.set,getSource:e.get}}
var D_=function(t){var e=Kn(false)
var n=function(){e.set(true)}
return{stop:n,cut:g,isStopped:e.get,isCut:O,event:t,setSource:S("Cannot set source of a broadcasted event"),getSource:S("Cannot get source of a broadcasted event")}}
var A_=Ut.generate([{stopped:[]},{resume:["element"]},{complete:[]}])
var R_=function(t,e,n,r,o,a){var i=t(e,r)
var u=M_(n,o)
return i.fold((function(){a.logEventNoHandlers(e,r)
return A_.complete()}),(function(t){var n=t.descHandler
var r=hu(n)
r(u)
if(u.isStopped()){a.logEventStopped(e,t.element,n.purpose)
return A_.stopped()}if(u.isCut()){a.logEventCut(e,t.element,n.purpose)
return A_.complete()}return qa(t.element).fold((function(){a.logNoParent(e,t.element,n.purpose)
return A_.complete()}),(function(r){a.logEventResponse(e,t.element,n.purpose)
return A_.resume(r)}))}))}
var H_=function(t,e,n,r,o,a){return R_(t,e,n,r,o,a).fold(k,(function(r){return H_(t,e,n,r,o,a)}),O)}
var B_=function(t,e,n,r,o){var a=E_(n,r)
return R_(t,e,n,r,a,o)}
var I_=function(t,e,n){var r=D_(e)
q(t,(function(t){var e=t.descHandler
var n=hu(e)
n(r)}))
return r.isStopped()}
var L_=function(t,e,n,r){return P_(t,e,n,n.target,r)}
var P_=function(t,e,n,r,o){var a=E_(n,r)
return H_(t,e,n,r,a,o)}
var N_=function(t,e){return{element:t,descHandler:e}}
var V_=function(t,e){return{id:t,descHandler:e}}
var F_=function(){var t={}
var e=function(e,n,r){Mt(r,(function(r,o){var a=void 0!==t[o]?t[o]:{}
a[n]=gu(r,e)
t[o]=a}))}
var n=function(t,e){return Wi(e).fold((function(){return H.none()}),(function(n){return t.bind((function(t){return Nt(t,n)})).map((function(t){return N_(e,t)}))}))}
var r=function(e){return Nt(t,e).map((function(t){return It(t,(function(t,e){return V_(e,t)}))})).getOr([])}
var o=function(e,r,o){var a=Nt(t,r)
return lo(o,(function(t){return n(a,t)}),e)}
var a=function(e){Mt(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))}
return{registerId:e,unregisterId:a,filterByType:r,find:o}}
var j_=function(){var t=F_()
var e={}
var n=function(t){var e=t.element
return Wi(e).fold((function(){return ji("uid-",t.element)}),(function(t){return t}))}
var r=function(t,n){var r=e[n]
if(r!==t)throw new Error('The tagId "'+n+'" is already used by: '+Ai(r.element)+"\nCannot use it for: "+Ai(t.element)+"\nThe conflicting element is"+(Wu(r.element)?" ":" not ")+"already in the DOM")
a(t)}
var o=function(o){var a=n(o)
Ft(e,a)&&r(o,a)
var i=[o]
t.registerId(i,a,o.events)
e[a]=o}
var a=function(n){Wi(n.element).each((function(n){delete e[n]
t.unregisterId(n)}))}
var i=function(e){return t.filterByType(e)}
var u=function(e,n,r){return t.find(e,n,r)}
var c=function(t){return Nt(e,t)}
return{find:u,filter:i,register:o,unregister:a,getById:c}}
var U_=function(t){var e=t.dom,n=e.attributes,r=z(e,["attributes"])
return{uid:t.uid,dom:_({tag:"div",attributes:_({role:"presentation"},n)},r),components:t.components,behaviours:Ym(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}}
var W_=ih({name:"Container",factory:U_,configFields:[Pn("components",[]),Km("containerBehaviours",[]),Pn("events",{}),Pn("domModification",{}),Pn("eventOrder",{})]})
var q_=function(t){var e=function(e){return qa(t.element).fold(k,(function(t){return oo(e,t)}))}
var n=j_()
var r=function(t,r){return n.find(e,t,r)}
var o=z_(t.element,{triggerEvent:function(t,e){return _s(t,e.target,(function(n){return L_(r,t,e,n)}))}})
var a={debugInfo:y("real"),triggerEvent:function(t,e,n){_s(t,e,(function(o){return P_(r,t,n,e,o)}))},triggerFocus:function(t,e){Wi(t).fold((function(){Kl(t)}),(function(n){_s(No(),t,(function(n){B_(r,No(),{originator:e,kill:g,prevent:g,target:t},t,n)
return false}))}))},triggerEscape:function(t,e){a.triggerEvent("keydown",t.element,e.event)},getByUid:function(t){return h(t)},getByDom:function(t){return p(t)},build:yc,addToGui:function(t){c(t)},removeFromGui:function(t){s(t)},addToWorld:function(t){i(t)},removeFromWorld:function(t){u(t)},broadcast:function(t){f(t)},broadcastOn:function(t,e){d(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:k}
var i=function(t){t.connect(a)
if(!Pa(t.element)){n.register(t)
q(t.components(),i)
a.triggerEvent(Ko(),t.element,{target:t.element})}}
var u=function(t){if(!Pa(t.element)){q(t.components(),u)
n.unregister(t)}t.disconnect()}
var c=function(e){Pd(t,e)}
var s=function(t){Fd(t)}
var l=function(){o.unbind()
hi(t.element)}
var v=function(t){var e=n.filter(jo())
q(e,(function(e){var n=e.descHandler
var r=hu(n)
r(t)}))}
var f=function(t){v({universal:true,data:t})}
var d=function(t,e){v({universal:false,channels:t,data:e})}
var m=function(t,e){var r=n.filter(t)
return I_(r,e)}
var h=function(t){return n.getById(t).fold((function(){return gt.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),gt.value)}
var p=function(t){var e=Wi(t).getOr("not found")
return h(e)}
i(t)
return{root:t,element:t.element,destroy:l,add:c,remove:s,getByUid:h,getByDom:p,addToWorld:i,removeFromWorld:u,broadcast:f,broadcastOn:d,broadcastEvent:m}}
var G_=function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:W(t.items,e.interpreter)}}
var $_=y([Pn("prefix","form-field"),Km("fieldBehaviours",[bh,Xm])])
var X_=y([Eg({schema:[yn("dom")],name:"label"}),Eg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),_g({factory:{sketch:function(t){var e=ce(t,["factory"])
return t.factory.sketch(e)}},schema:[yn("factory")],name:"field"})])
var K_=function(t,e,n,r){var o=Jm(t.fieldBehaviours,[bh.config({find:function(e){return jg(e,t,"field")}}),Xm.config({store:{mode:"manual",getValue:function(t){return bh.getCurrent(t).bind(Xm.getValue)},setValue:function(t,e){bh.getCurrent(t).each((function(t){Xm.setValue(t,e)}))}}})])
var a=ha([Ma((function(e,n){var r=Wg(e,t,["label","field","aria-descriptor"])
r.field().each((function(e){var n=Li(t.prefix)
r.label().each((function(t){Si(t.element,"for",n)
Si(e.element,"id",n)}))
r["aria-descriptor"]().each((function(n){var r=Li(t.prefix)
Si(n.element,"id",r)
Si(e.element,"aria-describedby",r)}))}))}))])
var i={getField:function(e){return jg(e,t,"field")},getLabel:function(e){return jg(e,t,"label")}}
return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:a,apis:i}}
var Y_=uh({name:"FormField",configFields:$_(),partFields:X_(),factory:K_,apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}})
var J_=function(t,e){return su({attributes:le([{key:e.tabAttr,value:"true"}])})}
var Z_=Object.freeze({__proto__:null,exhibit:J_})
var Q_=[Pn("tabAttr","data-alloy-tabstop")]
var tz=Fl({fields:Q_,name:"tabstopping",active:Z_})
var ez=tinymce.util.Tools.resolve("tinymce.html.Entities")
var nz=function(t,e,n,r){var o=oz(t,e,n,r)
return Y_.sketch(o)}
var rz=function(t,e){return nz(t,e,[],[])}
var oz=function(t,e,n,r){return{dom:iz(n),components:t.toArray().concat([e]),fieldBehaviours:Nl(r)}}
var az=function(){return iz([])}
var iz=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}}
var uz=function(t,e){return Y_.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})}
var cz=Li("form-component-change")
var sz=Li("form-close")
var lz=Li("form-cancel")
var vz=Li("form-action")
var fz=Li("form-submit")
var dz=Li("form-block")
var mz=Li("form-unblock")
var gz=Li("form-tabchange")
var hz=Li("form-resize")
var pz=function(t,e){var n
var r=t.label.map((function(t){return uz(t,e)}))
var o=function(t){return function(e,n){ms(n.event.target,"[data-collection-item-value]").each((function(r){t(e,n,r,ki(r,"data-collection-item-value"))}))}}
var a=function(n,r){var o=W(r,(function(n){var r=MS.translate(n.text)
var o=1===t.columns?'<div class="tox-collection__item-label">'+r+"</div>":""
var a='<div class="tox-collection__item-icon">'+n.icon+"</div>"
var i={_:" "," - ":" ","-":" "}
var u=r.replace(/\_| \- |\-/g,(function(t){return i[t]}))
var c=e.isDisabled()?" tox-collection__item--state-disabled":""
return'<div class="tox-collection__item'+c+'" tabindex="-1" data-collection-item-value="'+ez.encodeAllRaw(n.value)+'" title="'+u+'" aria-label="'+u+'">'+a+o+"</div>"}))
var a="auto"!==t.columns&&t.columns>1?U(o,t.columns):[o]
var i=W(a,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}))
wi(n.element,i.join(""))}
var i=o((function(n,r,o,a){r.stop()
e.isDisabled()||va(n,vz,{name:t.name,value:a})}))
var u=[wa(_o(),o((function(t,e,n){Kl(n)}))),wa(Ho(),i),wa(qo(),i),wa(zo(),o((function(t,e,n){ds(t.element,"."+yC).each((function(t){Nu(t,yC)}))
Lu(n,yC)}))),wa(Eo(),o((function(t){ds(t.element,"."+yC).each((function(t){Nu(t,yC)}))}))),Ra(o((function(e,n,r,o){va(e,vz,{name:t.name,value:o})})))]
var c=function(t,e){return W(Yf(t.element,".tox-collection__item"),e)}
var s=Y_.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:w},behaviours:Nl([KS.config({disabled:e.isDisabled,onDisabled:function(t){c(t,(function(t){Lu(t,"tox-collection__item--state-disabled")
Si(t,"aria-disabled",true)}))},onEnabled:function(t){c(t,(function(t){Nu(t,"tox-collection__item--state-disabled")
zi(t,"aria-disabled")}))}}),UO(),xy.config({}),Xm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(e,n){a(e,n)
"auto"===t.columns&&fS(e,5,"tox-collection__item").each((function(t){var n=t.numRows,r=t.numColumns
vy.setGridSize(e,n,r)}))
la(e,hz)}}),tz.config({}),vy.config(HT(t.columns,"normal")),Sy("collection-events",u)]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","collection-events"],n)})
var l=["tox-form__group--collection"]
return nz(r,s,l,[])}
var bz=y([Mn("data"),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("tag","input"),Pn("inputClasses",[]),Ls("onSetValue"),Pn("styles",{}),Pn("eventOrder",{}),Km("inputBehaviours",[Xm,Ay]),Pn("selectOnFocus",true)])
var yz=function(t){return Nl([Ay.config({onFocus:t.selectOnFocus?function(t){var e=t.element
var n=ac(e)
e.dom.setSelectionRange(0,n.length)}:g})])}
var wz=function(t){return _(_({},yz(t)),Jm(t.inputBehaviours,[Xm.config({store:_(_({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return ac(t.element)},setValue:function(t,e){var n=ac(t.element)
n!==e&&ic(t.element,e)}}),onSetValue:t.onSetValue})]))}
var xz=function(t){return{tag:t.tag,attributes:_({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}}
var Cz=function(t,e){return{uid:t.uid,dom:xz(t),components:[],behaviours:wz(t),eventOrder:t.eventOrder}}
var Sz=ih({name:"Input",configFields:bz(),factory:Cz})
var Oz={},kz={exports:Oz};(function(e,n,r,o){(function(o){if("object"===typeof n&&"undefined"!==typeof r)r.exports=o()
else if("function"===typeof e&&e.amd)e([],o)
else{var a
a="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:this
a.EphoxContactWrapper=o()}})((function(){return function(){function t(e,n,r){function a(u,c){if(!n[u]){if(!e[u]){var s="function"==typeof o&&o
if(!c&&s)return s(u,!0)
if(i)return i(u,!0)
var l=new Error("Cannot find module '"+u+"'")
throw l.code="MODULE_NOT_FOUND",l}var v=n[u]={exports:{}}
e[u][0].call(v.exports,(function(t){var n=e[u][1][t]
return a(n||t)}),v,v.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof o&&o,u=0;u<r.length;u++)a(r[u])
return a}return t}()({1:[function(t,e,n){var r=e.exports={}
var o
var a
function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{o="function"===typeof setTimeout?setTimeout:i}catch(t){o=i}try{a="function"===typeof clearTimeout?clearTimeout:u}catch(t){a=u}})()
function c(t){if(o===setTimeout)return setTimeout(t,0)
if((o===i||!o)&&setTimeout){o=setTimeout
return setTimeout(t,0)}try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function s(t){if(a===clearTimeout)return clearTimeout(t)
if((a===u||!a)&&clearTimeout){a=clearTimeout
return clearTimeout(t)}try{return a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}var l=[]
var v=false
var f
var d=-1
function m(){if(!v||!f)return
v=false
f.length?l=f.concat(l):d=-1
l.length&&g()}function g(){if(v)return
var t=c(m)
v=true
var e=l.length
while(e){f=l
l=[]
while(++d<e)f&&f[d].run()
d=-1
e=l.length}f=null
v=false
s(t)}r.nextTick=function(t){var e=new Array(arguments.length-1)
if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
l.push(new h(t,e))
1!==l.length||v||c(g)}
function h(t,e){this.fun=t
this.array=e}h.prototype.run=function(){this.fun.apply(null,this.array)}
r.title="browser"
r.browser=true
r.env={}
r.argv=[]
r.version=""
r.versions={}
function p(){}r.on=p
r.addListener=p
r.once=p
r.off=p
r.removeListener=p
r.removeAllListeners=p
r.emit=p
r.prependListener=p
r.prependOnceListener=p
r.listeners=function(t){return[]}
r.binding=function(t){throw new Error("process.binding is not supported")}
r.cwd=function(){return"/"}
r.chdir=function(t){throw new Error("process.chdir is not supported")}
r.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){(function(n){var r=setTimeout
function o(){}function a(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=0
this._handled=false
this._value=void 0
this._deferreds=[]
f(t,this)}function u(t,e){while(3===t._state)t=t._value
if(0===t._state){t._deferreds.push(e)
return}t._handled=true
i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected
if(null===n){(1===t._state?c:s)(e.promise,t._value)
return}var r
try{r=n(t._value)}catch(t){s(e.promise,t)
return}c(e.promise,r)}))}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.")
if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then
if(e instanceof i){t._state=3
t._value=e
l(t)
return}if("function"===typeof n){f(a(n,e),t)
return}}t._state=1
t._value=e
l(t)}catch(e){s(t,e)}}function s(t,e){t._state=2
t._value=e
l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}))
for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e])
t._deferreds=null}function v(t,e,n){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.promise=n}function f(t,e){var n=false
try{t((function(t){if(n)return
n=true
c(e,t)}),(function(t){if(n)return
n=true
s(e,t)}))}catch(t){if(n)return
n=true
s(e,t)}}i.prototype["catch"]=function(t){return this.then(null,t)}
i.prototype.then=function(t,e){var n=new this.constructor(o)
u(this,new v(t,e,n))
return n}
i.all=function(t){var e=Array.prototype.slice.call(t)
return new i((function(t,n){if(0===e.length)return t([])
var r=e.length
function o(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),n)
return}}e[a]=i
0===--r&&t(e)}catch(t){n(t)}}for(var a=0;a<e.length;a++)o(a,e[a])}))}
i.resolve=function(t){if(t&&"object"===typeof t&&t.constructor===i)return t
return new i((function(e){e(t)}))}
i.reject=function(t){return new i((function(e,n){n(t)}))}
i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))}
i._immediateFn="function"===typeof t?function(e){t(e)}:function(t){r(t,0)}
i._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)}
i._setImmediateFn=function(t){i._immediateFn=t}
i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t}
"undefined"!==typeof e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)})(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick
var a=Function.prototype.apply
var i=Array.prototype.slice
var u={}
var c=0
n.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)}
n.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)}
n.clearTimeout=n.clearInterval=function(t){t.close()}
function s(t,e){this._id=t
this._clearFn=e}s.prototype.unref=s.prototype.ref=function(){}
s.prototype.close=function(){this._clearFn.call(window,this._id)}
n.enroll=function(t,e){clearTimeout(t._idleTimeoutId)
t._idleTimeout=e}
n.unenroll=function(t){clearTimeout(t._idleTimeoutId)
t._idleTimeout=-1}
n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId)
var e=t._idleTimeout
e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))}
n.setImmediate="function"===typeof e?e:function(t){var e=c++
var r=!(arguments.length<2)&&i.call(arguments,1)
u[e]=true
o((function(){if(u[e]){r?t.apply(null,r):t.call(null)
n.clearImmediate(e)}}))
return e}
n.clearImmediate="function"===typeof r?r:function(t){delete u[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill")
var o="undefined"!==typeof window?window:Function("return this;")()
e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))})(void 0,Oz,kz,void 0)
var Tz=kz.exports.boltExport
var _z=function(t){var e=H.none()
var n=[]
var r=function(t){return _z((function(e){o((function(n){e(t(n))}))}))}
var o=function(t){i()?c(t):n.push(t)}
var a=function(t){if(!i()){e=H.some(t)
u(n)
n=[]}}
var i=function(){return e.isSome()}
var u=function(t){q(t,c)}
var c=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))}
t(a)
return{get:o,map:r,isReady:i}}
var zz=function(t){return _z((function(e){e(t)}))}
var Ez={nu:_z,pure:zz}
var Mz=function(t){setTimeout((function(){throw t}),0)}
var Dz=function(t){var e=function(e){t().then(e,Mz)}
var n=function(e){return Dz((function(){return t().then(e)}))}
var r=function(e){return Dz((function(){return t().then((function(t){return e(t).toPromise()}))}))}
var o=function(e){return Dz((function(){return t().then((function(){return e.toPromise()}))}))}
var a=function(){return Ez.nu(e)}
var i=function(){var e=null
return Dz((function(){null===e&&(e=t())
return e}))}
var u=t
return{map:n,bind:r,anonBind:o,toLazy:a,toCached:i,toPromise:u,get:e}}
var Az=function(t){return Dz((function(){return new Tz(t)}))}
var Rz=function(t){return Dz((function(){return Tz.resolve(t)}))}
var Hz={nu:Az,pure:Rz}
var Bz=["input","textarea"]
var Iz=function(t){var e=Ha(t)
return V(Bz,e)}
var Lz=function(t,e){var n=e.getRoot(t).getOr(t.element)
Nu(n,e.invalidClass)
e.notify.each((function(e){Iz(t.element)&&Si(t.element,"aria-invalid",false)
e.getContainer(t).each((function(t){wi(t,e.validHtml)}))
e.onValid(t)}))}
var Pz=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element)
Lu(o,e.invalidClass)
e.notify.each((function(e){Iz(t.element)&&Si(t.element,"aria-invalid",true)
e.getContainer(t).each((function(t){wi(t,r)}))
e.onInvalid(t,r)}))}
var Nz=function(t,e,n){return e.validator.fold((function(){return Hz.pure(gt.value(true))}),(function(e){return e.validate(t)}))}
var Vz=function(t,e,n){e.notify.each((function(e){e.onValidate(t)}))
return Nz(t,e).map((function(r){return t.getSystem().isConnected()?r.fold((function(r){Pz(t,e,n,r)
return gt.error(r)}),(function(n){Lz(t,e)
return gt.value(n)})):gt.error("No longer in system")}))}
var Fz=function(t,e){var n=e.getRoot(t).getOr(t.element)
return Vu(n,e.invalidClass)}
var jz=Object.freeze({__proto__:null,markValid:Lz,markInvalid:Pz,query:Nz,run:Vz,isInvalid:Fz})
var Uz=function(t,e){return t.validator.map((function(n){return ha([wa(n.onEvent,(function(n){Vz(n,t,e).get(w)}))].concat(n.validateOnLoad?[Ma((function(n){Vz(n,t,e).get(g)}))]:[]))})).getOr({})}
var Wz=Object.freeze({__proto__:null,events:Uz})
var qz=[yn("invalidClass"),Pn("getRoot",H.none),In("notify",[Pn("aria","alert"),Pn("getContainer",H.none),Pn("validHtml",""),Ls("onValid"),Ls("onInvalid"),Ls("onValidate")]),In("validator",[yn("validate"),Pn("onEvent","input"),Pn("validateOnLoad",true)])]
var Gz=Fl({fields:qz,name:"invalidating",active:Wz,apis:jz,extra:{validation:function(t){return function(e){var n=Xm.getValue(e)
return Hz.pure(t(n))}}}})
var $z=function(t,e,n,r){return n.getOrCreate(t,e,r)}
var Xz=Object.freeze({__proto__:null,getCoupled:$z})
var Kz=[wn("others",tn(gt.value,ln()))]
var Yz=function(){var t={}
var e=function(e,n,r){var o=zt(n.others)
if(o)return Nt(t,r).getOrThunk((function(){var o=Nt(n.others,r).getOrDie("No information found for coupled component: "+r)
var a=o(e)
var i=e.getSystem().build(a)
t[r]=i
return i}))
throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}
var n=y({})
return ou({readState:n,getOrCreate:e})}
var Jz=Object.freeze({__proto__:null,init:Yz})
var Zz=Fl({fields:Kz,name:"coupling",apis:Xz,state:Jz})
var Qz=y("sink")
var tE=y(Eg({name:Qz(),overrides:y({dom:{tag:"div"},behaviours:Nl([Ad.config({useFixed:k})]),events:ha([_a(Mo()),_a(So()),_a(Ho())])})}))
var eE;(function(t){t[t["HighlightFirst"]=0]="HighlightFirst"
t[t["HighlightNone"]=1]="HighlightNone"})(eE||(eE={}))
var nE=function(t,e){var n=t.getHotspot(e).getOr(e)
var r="hotspot"
var o=t.getAnchorOverrides()
return t.layouts.fold((function(){return{anchor:r,hotspot:n,overrides:o}}),(function(t){return{anchor:r,hotspot:n,overrides:o,layouts:t}}))}
var rE=function(t,e,n){var r=t.fetch
return r(n).map(e)}
var oE=function(t,e,n,r,o,a,i){var u=rE(t,e,r)
var c=sE(r,t)
return u.map((function(t){return t.bind((function(t){return H.from(Hw.sketch(_(_({},a.menu()),{uid:qi(""),data:t,highlightImmediately:i===eE.HighlightFirst,onOpenMenu:function(t,e){var r=c().getOrDie()
Ad.position(r,n,e)
fm.decloak(o)},onOpenSubmenu:function(t,e,n){var r=c().getOrDie()
Ad.position(r,{anchor:"submenu",item:e},n)
fm.decloak(o)},onRepositionMenu:function(t,e,r){var o=c().getOrDie()
Ad.position(o,n,e)
q(r,(function(t){Ad.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){Ay.focus(r)
fm.close(o)
return H.some(true)}})))}))}))}
var aE=function(t,e,n,r,o,a,i){var u=nE(t,n)
var c=oE(t,e,u,n,r,o,i)
return c.map((function(t){t.fold((function(){fm.isOpen(r)&&fm.close(r)}),(function(t){fm.cloak(r)
fm.open(r,t)
a(r)}))
return r}))}
var iE=function(t,e,n,r,o,a,i){fm.close(r)
return Hz.pure(r)}
var uE=function(t,e,n,r,o,a){var i=Zz.getCoupled(n,"sandbox")
var u=fm.isOpen(i)
var c=u?iE:aE
return c(t,e,n,i,r,o,a)}
var cE=function(t,e,n){var r=bh.getCurrent(e).getOr(e)
var o=Hc(t.element)
n?Ku(r.element,"min-width",o+"px"):Rc(r.element,o)}
var sE=function(t,e){return t.getSystem().getByUid(e.uid+"-"+Qz()).map((function(t){return function(){return gt.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return gt.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))}
var lE=function(t){fm.getState(t).each((function(t){Hw.repositionMenus(t)}))}
var vE=function(t,e,n){var r=hs()
var o=function(o,a){var i=nE(t,e)
r.link(e.element)
t.matchWidth&&cE(i.hotspot,a,t.useMinWidth)
t.onOpen(i,o,a)
void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,a)}
var a=function(t,o){r.unlink(e.element)
void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)}
var i=sE(e,t)
return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:Zm.augment(t.sandboxBehaviours,[Xm.config({store:{mode:"memory",initialValue:e}}),fm.config({onOpen:o,onClose:a,isPartOf:function(t,n,r){return bs(n,r)||bs(e,r)},getAttachPoint:function(){return i().getOrDie()}}),bh.config({find:function(t){return fm.getState(t).bind((function(t){return bh.getCurrent(t)}))}}),ql.config({channels:_(_({},pm({isExtraPart:O})),ym({doReposition:lE}))})])}}
var fE=function(t){var e=Zz.getCoupled(t,"sandbox")
lE(e)}
var dE=function(){return[Pn("sandboxClasses",[]),Zm.field("sandboxBehaviours",[bh,ql,fm,Xm])]}
var mE=y([yn("dom"),yn("fetch"),Ls("onOpen"),Ps("onExecute"),Pn("getHotspot",H.some),Pn("getAnchorOverrides",y({})),Fv(),Km("dropdownBehaviours",[Jy,Zz,vy,Ay]),yn("toggleClass"),Pn("eventOrder",{}),Mn("lazySink"),Pn("matchWidth",false),Pn("useMinWidth",false),Mn("role")].concat(dE()))
var gE=y([zg({schema:[Hs()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),tE()])
var hE=function(t,e,n,r){var o
var a=function(e){return Nt(t.dom,"attributes").bind((function(t){return Nt(t,e)}))}
var i=function(t){fm.getState(t).each((function(t){Hw.highlightPrimary(t)}))}
var u=function(e){var n=i
uE(t,(function(t){return t}),e,r,n,eE.HighlightFirst).get(g)}
var c={expand:function(e){Jy.isOn(e)||uE(t,(function(t){return t}),e,r,g,eE.HighlightNone).get(g)},open:function(e){Jy.isOn(e)||uE(t,(function(t){return t}),e,r,g,eE.HighlightFirst).get(g)},isOpen:Jy.isOn,close:function(e){Jy.isOn(e)&&uE(t,(function(t){return t}),e,r,g,eE.HighlightFirst).get(g)},repositionMenus:function(t){Jy.isOn(t)&&fE(t)}}
var s=function(t,e){fa(t)
return H.some(true)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.dropdownBehaviours,[Jy.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Zz.config({others:{sandbox:function(e){return vE(t,e,{onOpen:function(){return Jy.on(e)},onClose:function(){return Jy.off(e)}})}}}),vy.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t,e){if(pE.isOpen(t)){var n=Zz.getCoupled(t,"sandbox")
i(n)}else pE.open(t)
return H.some(true)},onEscape:function(t,e){if(pE.isOpen(t)){pE.close(t)
return H.some(true)}return H.none()}}),Ay.config({})]),events:Qy(H.some(u)),eventOrder:_(_({},t.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:c,domModification:{attributes:_(_({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:a("type").getOr("button")}:{})}}}
var pE=uh({name:"Dropdown",configFields:mE(),partFields:gE(),factory:hE,apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var bE=function(){return su({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}
var yE=function(){return ha([pa(Io(),k)])}
var wE=Object.freeze({__proto__:null,events:yE,exhibit:bE})
var xE=Fl({fields:[],name:"unselecting",active:wE})
var CE=function(t,e){return pE.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Nl([XO.button(e.providers.isDisabled),UO(),xE.config({}),tz.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return Hz.nu((function(e){return t.fetch(e)})).map((function(r){return H.from(c_(Xt(DT(Li("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,uC.CLOSE_ON_EXECUTE,O,e.providers),{movement:RT(t.columns,t.presets)})))}))},parts:{menu:BC(false,1,t.presets)}})}
var SE=Li("color-input-change")
var OE=Li("color-swatch-change")
var kE=Li("color-picker-cancel")
var TE=function(t,e,n){var r=Y_.parts.field({factory:Sz,inputClasses:["tox-textfield"],onSetValue:function(t){return Gz.run(t).get(g)},inputBehaviours:Nl([KS.config({disabled:e.providers.isDisabled}),UO(),tz.config({}),Gz.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return qa(t.element)},notify:{onValid:function(t){var e=Xm.getValue(t)
va(t,SE,{color:e})}},validator:{validateOnLoad:false,validate:function(t){var e=Xm.getValue(t)
if(0===e.length)return Hz.pure(gt.value(true))
var n=er.fromTag("span")
Ku(n,"background-color",e)
var r=tc(n,"background-color").fold((function(){return gt.error("blah")}),(function(t){return gt.value(e)}))
return Hz.pure(r)}}})]),selectOnFocus:false})
var o=t.label.map((function(t){return uz(t,e.providers)}))
var a=function(t,e){va(t,OE,{value:e})}
var i=function(t,e){u.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return la(t,kE)}),(function(e){a(t,e)
gT(e)}))}),"#ffffff"):a(t,"remove"===e?"":e)}))}
var u=Zw(CE({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[gl,ml,yl]},onLtr:function(){return[ml,gl,yl]}},components:[],fetch:kT(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:i},e))
return Y_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Nl([Sy("form-field-events",[wa(SE,(function(e,n){u.getOpt(e).each((function(t){Ku(t.element,"background-color",n.event.color)}))
va(e,cz,{name:t.name})})),wa(OE,(function(t,e){Y_.getField(t).each((function(n){Xm.setValue(n,e.event.value)
bh.getCurrent(t).each(Ay.focus)}))})),wa(kE,(function(t,e){Y_.getField(t).each((function(e){bh.getCurrent(t).each(Ay.focus)}))}))])])})}
var _E=Eg({schema:[yn("dom")],name:"label"})
var zE=function(t){return Eg({name:t+"-edge",overrides:function(e){var n=e.model.manager.edgeActions[t]
return n.fold((function(){return{}}),(function(t){return{events:ha([xa(yo(),(function(e,n,r){return t(e,r)}),[e]),xa(So(),(function(e,n,r){return t(e,r)}),[e]),xa(Oo(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})}
var EE=zE("top-left")
var ME=zE("top")
var DE=zE("top-right")
var AE=zE("right")
var RE=zE("bottom-right")
var HE=zE("bottom")
var BE=zE("bottom-left")
var IE=zE("left")
var LE=_g({name:"thumb",defaults:y({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ha([ka(yo(),t,"spectrum"),ka(wo(),t,"spectrum"),ka(xo(),t,"spectrum"),ka(So(),t,"spectrum"),ka(Oo(),t,"spectrum"),ka(To(),t,"spectrum")])}}})
var PE=_g({schema:[Xn("mouseIsDown",(function(){return Kn(false)}))],name:"spectrum",overrides:function(t){var e=t.model
var n=e.manager
var r=function(e,r){return n.getValueFromEvent(r).map((function(r){return n.setValueFrom(e,t,r)}))}
return{behaviours:Nl([vy.config({mode:"special",onLeft:function(e){return n.onLeft(e,t)},onRight:function(e){return n.onRight(e,t)},onUp:function(e){return n.onUp(e,t)},onDown:function(e){return n.onDown(e,t)}}),Ay.config({})]),events:ha([wa(yo(),r),wa(wo(),r),wa(So(),r),wa(Oo(),(function(e,n){t.mouseIsDown.get()&&r(e,n)}))])}}})
var NE=[_E,IE,AE,ME,HE,EE,DE,BE,RE,LE,PE]
var VE="slider.change.value"
var FE=y(VE)
var jE=function(t){return-1!==t.type.indexOf("touch")}
var UE=function(t){var e=t.event.raw
if(jE(e)){var n=e
return void 0!==n.touches&&1===n.touches.length?H.some(n.touches[0]).map((function(t){return _c(t.clientX,t.clientY)})):H.none()}var r=e
return void 0!==r.clientX?H.some(r).map((function(t){return _c(t.clientX,t.clientY)})):H.none()}
var WE="top",qE="right",GE="bottom",$E="left"
var XE=function(t){return t.model.minX}
var KE=function(t){return t.model.minY}
var YE=function(t){return t.model.minX-1}
var JE=function(t){return t.model.minY-1}
var ZE=function(t){return t.model.maxX}
var QE=function(t){return t.model.maxY}
var tM=function(t){return t.model.maxX+1}
var eM=function(t){return t.model.maxY+1}
var nM=function(t,e,n){return e(t)-n(t)}
var rM=function(t){return nM(t,ZE,XE)}
var oM=function(t){return nM(t,QE,KE)}
var aM=function(t){return rM(t)/2}
var iM=function(t){return oM(t)/2}
var uM=function(t){return t.stepSize}
var cM=function(t){return t.snapToGrid}
var sM=function(t){return t.snapStart}
var lM=function(t){return t.rounded}
var vM=function(t,e){return void 0!==t[e+"-edge"]}
var fM=function(t){return vM(t,$E)}
var dM=function(t){return vM(t,qE)}
var mM=function(t){return vM(t,WE)}
var gM=function(t){return vM(t,GE)}
var hM=function(t){return t.model.value.get()}
var pM=function(t){return{x:t}}
var bM=function(t){return{y:t}}
var yM=function(t,e){return{x:t,y:e}}
var wM=function(t,e){va(t,FE(),{value:e})}
var xM=function(t,e){wM(t,yM(YE(e),JE(e)))}
var CM=function(t,e){wM(t,bM(JE(e)))}
var SM=function(t,e){wM(t,yM(aM(e),JE(e)))}
var OM=function(t,e){wM(t,yM(tM(e),JE(e)))}
var kM=function(t,e){wM(t,pM(tM(e)))}
var TM=function(t,e){wM(t,yM(tM(e),iM(e)))}
var _M=function(t,e){wM(t,yM(tM(e),eM(e)))}
var zM=function(t,e){wM(t,bM(eM(e)))}
var EM=function(t,e){wM(t,yM(aM(e),eM(e)))}
var MM=function(t,e){wM(t,yM(YE(e),eM(e)))}
var DM=function(t,e){wM(t,pM(YE(e)))}
var AM=function(t,e){wM(t,yM(YE(e),iM(e)))}
var RM=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)}
var HM=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)}
var BM=function(t,e,n){return Math.max(e,Math.min(n,t))}
var IM=function(t,e,n,r,o){return o.fold((function(){var o=t-e
var a=Math.round(o/r)*r
return BM(e+a,e-1,n+1)}),(function(e){var o=(t-e)%r
var a=Math.round(o/r)
var i=Math.floor((t-e)/r)
var u=Math.floor((n-e)/r)
var c=Math.min(u,i+a)
var s=e+c*r
return Math.max(e,s)}))}
var LM=function(t,e,n){return Math.min(n,Math.max(t,e))-e}
var PM=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.step,i=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,v=t.minBound,f=t.maxBound,d=t.screenRange
var m=s?e-1:e
var g=l?n+1:n
if(o<v)return m
if(o>f)return g
var h=LM(o,v,f)
var p=BM(h/d*r+e,m,g)
return i&&p>=e&&p<=n?IM(p,e,n,a,u):c?Math.round(p):p}
var NM=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,a=t.hasMinEdge,i=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge
return o<e?a?0:s:o>n?i?u:l:(o-e)/r*c}
var VM="top",FM="right",jM="bottom",UM="left",WM="width",qM="height"
var GM=function(t){return t.element.dom.getBoundingClientRect()}
var $M=function(t,e){return t[e]}
var XM=function(t){var e=GM(t)
return $M(e,UM)}
var KM=function(t){var e=GM(t)
return $M(e,FM)}
var YM=function(t){var e=GM(t)
return $M(e,VM)}
var JM=function(t){var e=GM(t)
return $M(e,jM)}
var ZM=function(t){var e=GM(t)
return $M(e,WM)}
var QM=function(t){var e=GM(t)
return $M(e,qM)}
var tD=function(t,e,n){return(t+e)/2-n}
var eD=function(t,e){var n=GM(t)
var r=GM(e)
var o=$M(n,UM)
var a=$M(n,FM)
var i=$M(r,UM)
return tD(o,a,i)}
var nD=function(t,e){var n=GM(t)
var r=GM(e)
var o=$M(n,VM)
var a=$M(n,jM)
var i=$M(r,VM)
return tD(o,a,i)}
var rD=function(t,e){va(t,FE(),{value:e})}
var oD=function(t){return{x:t}}
var aD=function(t,e,n){var r={min:XE(e),max:ZE(e),range:rM(e),value:n,step:uM(e),snap:cM(e),snapStart:sM(e),rounded:lM(e),hasMinEdge:fM(e),hasMaxEdge:dM(e),minBound:XM(t),maxBound:KM(t),screenRange:ZM(t)}
return PM(r)}
var iD=function(t,e,n){var r=aD(t,e,n)
var o=oD(r)
rD(t,o)
return r}
var uD=function(t,e){var n=XE(e)
rD(t,oD(n))}
var cD=function(t,e){var n=ZE(e)
rD(t,oD(n))}
var sD=function(t,e,n){var r=t>0?HM:RM
var o=r(hM(n).x,XE(n),ZE(n),uM(n))
rD(e,oD(o))
return H.some(o)}
var lD=function(t){return function(e,n){return sD(t,e,n).map(k)}}
var vD=function(t){var e=UE(t)
return e.map((function(t){return t.left}))}
var fD=function(t,e,n,r,o){var a=0
var i=ZM(t)
var u=r.bind((function(e){return H.some(eD(e,t))})).getOr(a)
var c=o.bind((function(e){return H.some(eD(e,t))})).getOr(i)
var s={min:XE(e),max:ZE(e),range:rM(e),value:n,hasMinEdge:fM(e),hasMaxEdge:dM(e),minBound:XM(t),minOffset:a,maxBound:KM(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return NM(s)}
var dD=function(t,e,n,r,o,a){var i=fD(e,a,n,r,o)
return XM(e)-XM(t)+i}
var mD=function(t,e,n,r){var o=hM(n)
var a=dD(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=Hc(e.element)/2
Ku(e.element,"left",a-i+"px")}
var gD=lD(-1)
var hD=lD(1)
var pD=H.none
var bD=H.none
var yD={"top-left":H.none(),top:H.none(),"top-right":H.none(),right:H.some(kM),"bottom-right":H.none(),bottom:H.none(),"bottom-left":H.none(),left:H.some(DM)}
var wD=Object.freeze({__proto__:null,setValueFrom:iD,setToMin:uD,setToMax:cD,findValueOfOffset:aD,getValueFromEvent:vD,findPositionOfValue:dD,setPositionFromValue:mD,onLeft:gD,onRight:hD,onUp:pD,onDown:bD,edgeActions:yD})
var xD=function(t,e){va(t,FE(),{value:e})}
var CD=function(t){return{y:t}}
var SD=function(t,e,n){var r={min:KE(e),max:QE(e),range:oM(e),value:n,step:uM(e),snap:cM(e),snapStart:sM(e),rounded:lM(e),hasMinEdge:mM(e),hasMaxEdge:gM(e),minBound:YM(t),maxBound:JM(t),screenRange:QM(t)}
return PM(r)}
var OD=function(t,e,n){var r=SD(t,e,n)
var o=CD(r)
xD(t,o)
return r}
var kD=function(t,e){var n=KE(e)
xD(t,CD(n))}
var TD=function(t,e){var n=QE(e)
xD(t,CD(n))}
var _D=function(t,e,n){var r=t>0?HM:RM
var o=r(hM(n).y,KE(n),QE(n),uM(n))
xD(e,CD(o))
return H.some(o)}
var zD=function(t){return function(e,n){return _D(t,e,n).map(k)}}
var ED=function(t){var e=UE(t)
return e.map((function(t){return t.top}))}
var MD=function(t,e,n,r,o){var a=0
var i=QM(t)
var u=r.bind((function(e){return H.some(nD(e,t))})).getOr(a)
var c=o.bind((function(e){return H.some(nD(e,t))})).getOr(i)
var s={min:KE(e),max:QE(e),range:oM(e),value:n,hasMinEdge:mM(e),hasMaxEdge:gM(e),minBound:YM(t),minOffset:a,maxBound:JM(t),maxOffset:i,centerMinEdge:u,centerMaxEdge:c}
return NM(s)}
var DD=function(t,e,n,r,o,a){var i=MD(e,a,n,r,o)
return YM(e)-YM(t)+i}
var AD=function(t,e,n,r){var o=hM(n)
var a=DD(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var i=Sc(e.element)/2
Ku(e.element,"top",a-i+"px")}
var RD=H.none
var HD=H.none
var BD=zD(-1)
var ID=zD(1)
var LD={"top-left":H.none(),top:H.some(CM),"top-right":H.none(),right:H.none(),"bottom-right":H.none(),bottom:H.some(zM),"bottom-left":H.none(),left:H.none()}
var PD=Object.freeze({__proto__:null,setValueFrom:OD,setToMin:kD,setToMax:TD,findValueOfOffset:SD,getValueFromEvent:ED,findPositionOfValue:DD,setPositionFromValue:AD,onLeft:RD,onRight:HD,onUp:BD,onDown:ID,edgeActions:LD})
var ND=function(t,e){va(t,FE(),{value:e})}
var VD=function(t,e){return{x:t,y:e}}
var FD=function(t,e,n){var r=aD(t,e,n.left)
var o=SD(t,e,n.top)
var a=VD(r,o)
ND(t,a)
return a}
var jD=function(t,e,n,r){var o=t>0?HM:RM
var a=e?hM(r).x:o(hM(r).x,XE(r),ZE(r),uM(r))
var i=e?o(hM(r).y,KE(r),QE(r),uM(r)):hM(r).y
ND(n,VD(a,i))
return H.some(a)}
var UD=function(t,e){return function(n,r){return jD(t,e,n,r).map(k)}}
var WD=function(t,e){var n=XE(e)
var r=KE(e)
ND(t,VD(n,r))}
var qD=function(t,e){var n=ZE(e)
var r=QE(e)
ND(t,VD(n,r))}
var GD=function(t){return UE(t)}
var $D=function(t,e,n,r){var o=hM(n)
var a=dD(t,r.getSpectrum(t),o.x,r.getLeftEdge(t),r.getRightEdge(t),n)
var i=DD(t,r.getSpectrum(t),o.y,r.getTopEdge(t),r.getBottomEdge(t),n)
var u=Hc(e.element)/2
var c=Sc(e.element)/2
Ku(e.element,"left",a-u+"px")
Ku(e.element,"top",i-c+"px")}
var XD=UD(-1,false)
var KD=UD(1,false)
var YD=UD(-1,true)
var JD=UD(1,true)
var ZD={"top-left":H.some(xM),top:H.some(SM),"top-right":H.some(OM),right:H.some(TM),"bottom-right":H.some(_M),bottom:H.some(EM),"bottom-left":H.some(MM),left:H.some(AM)}
var QD=Object.freeze({__proto__:null,setValueFrom:FD,setToMin:WD,setToMax:qD,getValueFromEvent:GD,setPositionFromValue:$D,onLeft:XD,onRight:KD,onUp:YD,onDown:JD,edgeActions:ZD})
var tA=[Pn("stepSize",1),Pn("onChange",g),Pn("onChoose",g),Pn("onInit",g),Pn("onDragStart",g),Pn("onDragEnd",g),Pn("snapToGrid",false),Pn("rounded",true),Mn("snapStart"),wn("model",cn("mode",{x:[Pn("minX",0),Pn("maxX",100),Xn("value",(function(t){return Kn(t.mode.minX)})),yn("getInitialValue"),Fs("manager",wD)],y:[Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return Kn(t.mode.minY)})),yn("getInitialValue"),Fs("manager",PD)],xy:[Pn("minX",0),Pn("maxX",100),Pn("minY",0),Pn("maxY",100),Xn("value",(function(t){return Kn({x:t.mode.minX,y:t.mode.minY})})),yn("getInitialValue"),Fs("manager",QD)]})),Km("sliderBehaviours",[vy,Xm]),Xn("mouseIsDown",(function(){return Kn(false)}))]
var eA=function(t,e,n,r){var o
var a=function(e){return Ug(e,t,"thumb")}
var i=function(e){return Ug(e,t,"spectrum")}
var u=function(e){return jg(e,t,"left-edge")}
var c=function(e){return jg(e,t,"right-edge")}
var s=function(e){return jg(e,t,"top-edge")}
var l=function(e){return jg(e,t,"bottom-edge")}
var v=t.model
var f=v.manager
var d=function(e,n){f.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:c,getTopEdge:s,getBottomEdge:l,getSpectrum:i})}
var m=function(t,e){v.value.set(e)
var n=a(t)
d(t,n)}
var g=function(e,n){m(e,n)
var r=a(e)
t.onChange(e,r,n)
return H.some(true)}
var h=function(e){f.setToMin(e,t)}
var p=function(e){f.setToMax(e,t)}
var b=function(e){var n=function(){jg(e,t,"thumb").each((function(n){var r=v.value.get()
t.onChoose(e,n,r)}))}
var r=t.mouseIsDown.get()
t.mouseIsDown.set(false)
r&&n()}
var y=function(e,n){n.stop()
t.mouseIsDown.set(true)
t.onDragStart(e,a(e))}
var w=function(e,n){n.stop()
t.onDragEnd(e,a(e))
b(e)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.sliderBehaviours,[vy.config({mode:"special",focusIn:function(e){return jg(e,t,"spectrum").map(vy.focusIn).map(k)}}),Xm.config({store:{mode:"manual",getValue:function(t){return v.value.get()}}}),ql.config({channels:(o={},o[gm()]={onReceive:b},o)})]),events:ha([wa(FE(),(function(t,e){g(t,e.event.value)})),Ma((function(e,n){var r=v.getInitialValue()
v.value.set(r)
var o=a(e)
d(e,o)
var u=i(e)
t.onInit(e,o,u,v.value.get())})),wa(yo(),y),wa(xo(),w),wa(So(),y),wa(To(),w)]),apis:{resetToMin:h,resetToMax:p,setValue:m,refresh:d},domModification:{styles:{position:"relative"}}}}
var nA=uh({name:"Slider",configFields:tA,partFields:NE,factory:eA,apis:{setValue:function(t,e,n){t.setValue(e,n)},resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}})
var rA=function(t,e,n){return{hue:t,saturation:e,value:n}}
var oA=function(t){var e=0
var n=0
var r=0
var o=t.red/255
var a=t.green/255
var i=t.blue/255
var u=Math.min(o,Math.min(a,i))
var c=Math.max(o,Math.max(a,i))
if(u===c){r=u
return rA(0,0,100*r)}var s=o===u?a-i:i===u?o-a:i-o
e=o===u?3:i===u?1:5
e=60*(e-s/(c-u))
n=(c-u)/c
r=c
return rA(Math.round(e),Math.round(100*n),Math.round(100*r))}
var aA=function(t){return oA(Gk(t))}
var iA=function(t){return Lk(qk(t))}
var uA=Li("rgb-hex-update")
var cA=Li("slider-update")
var sA=Li("palette-update")
var lA=function(t,e){var n=nA.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}})
var r=nA.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}})
return nA.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:false,model:{mode:"y",getInitialValue:y({y:0})},components:[n,r],sliderBehaviours:Nl([Ay.config({})]),onChange:function(t,e,n){va(t,cA,{value:n})}})}
var vA="form"
var fA=[Km("formBehaviours",[Xm])]
var dA=function(t){return"<alloy.field."+t+">"}
var mA=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Lg(vA,dA(e),n)}
return{field:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=W(r,(function(t){return _g({name:t,pname:dA(t)})}))
return th(vA,fA,o,hA,n)}
var gA=function(t,e){return t.fold((function(){return gt.error(e)}),gt.value)}
var hA=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.formBehaviours,[Xm.config({store:{mode:"manual",getValue:function(e){var n=qg(e,t)
return Dt(n,(function(t,e){return t().bind((function(t){var n=bh.getCurrent(t)
return gA(n,new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+Ai(t.element)))})).map(Xm.getValue)}))},setValue:function(e,n){Mt(n,(function(n,r){jg(e,t,r).each((function(t){bh.getCurrent(t).each((function(t){Xm.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return jg(e,t,n).bind(bh.getCurrent)}}}}
var pA={getField:nu((function(t,e,n){return t.getField(e,n)})),sketch:mA}
var bA=Li("valid-input")
var yA=Li("invalid-input")
var wA=Li("validating-input")
var xA="colorcustom.rgb."
var CA=function(t,e,n,r){var o=function(n,r){return Gz.config({invalidClass:e("invalid"),notify:{onValidate:function(t){va(t,wA,{type:n})},onValid:function(t){va(t,bA,{type:n,value:Xm.getValue(t)})},onInvalid:function(t){va(t,yA,{type:n,value:Xm.getValue(t)})}},validator:{validate:function(e){var n=Xm.getValue(e)
var o=r(n)?gt.value(true):gt.error(t("aria.input.invalid"))
return Hz.pure(o)},validateOnLoad:false}})}
var a=function(n,r,a,i,u){var c=t(xA+"range")
var s=Y_.parts.label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":i}}})
var l=Y_.parts.field({data:u,factory:Sz,inputAttributes:_({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:Nl([o(r,n),tz.config({})]),onSetValue:function(t){if(Gz.isInvalid(t)){var e=Gz.run(t)
e.get(g)}}})
var v=[s,l]
var f="hex"!==r?[Y_.parts["aria-descriptor"]({text:c})]:[]
var d=v.concat(f)
return{dom:{tag:"div",attributes:{role:"presentation"}},components:d}}
var i=function(t,e){var n=Lk(e)
pA.getField(t,"hex").each((function(e){Ay.isFocused(e)||Xm.setValue(t,{hex:n.value})}))
return n}
var u=function(t,e){var n=e.red
var r=e.green
var o=e.blue
Xm.setValue(t,{red:n,green:r,blue:o})}
var c=Zw({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}})
var s=function(t,e){c.getOpt(t).each((function(t){Ku(t.element,"background-color","#"+e.value)}))}
var l=function(){var o={red:Kn(H.some(255)),green:Kn(H.some(255)),blue:Kn(H.some(255)),hex:Kn(H.some("ffffff"))}
var l=function(t,e){var n=Gk(e)
u(t,n)
m(n)}
var v=function(t){return o[t].get()}
var f=function(t,e){o[t].set(e)}
var d=function(){return v("red").bind((function(t){return v("green").bind((function(e){return v("blue").map((function(n){return Uk(t,e,n,1)}))}))}))}
var m=function(t){var e=t.red
var n=t.green
var r=t.blue
f("red",H.some(e))
f("green",H.some(n))
f("blue",H.some(r))}
var g=function(t,e){var n=e.event
"hex"!==n.type?f(n.type,H.none()):r(t)}
var h=function(t,e){n(t)
var r=Mk(e)
f("hex",H.some(e))
var o=Gk(r)
u(t,o)
m(o)
va(t,uA,{hex:r})
s(t,r)}
var p=function(t,e,n){var r=parseInt(n,10)
f(e,H.some(r))
d().each((function(e){var n=i(t,e)
va(t,uA,{hex:n})
s(t,n)}))}
var b=function(t){return"hex"===t.type}
var y=function(t,e){var n=e.event
b(n)?h(t,n.value):p(t,n.type,n.value)}
var w=function(e){return{label:t(xA+e+".label"),description:t(xA+e+".description")}}
var x=w("red")
var C=w("green")
var S=w("blue")
var O=w("hex")
return Xt(pA.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",Y_.sketch(a(Wk,"red",x.label,x.description,255))),n.field("green",Y_.sketch(a(Wk,"green",C.label,C.description,255))),n.field("blue",Y_.sketch(a(Wk,"blue",S.label,S.description,255))),n.field("hex",Y_.sketch(a(Rk,"hex",O.label,O.description,"ffffff"))),c.asSpec()],formBehaviours:Nl([Gz.config({invalidClass:e("form-invalid")}),Sy("rgb-form-events",[wa(bA,y),wa(yA,g),wa(wA,g)])])}})),{apis:{updateHex:function(t,e){Xm.setValue(t,{hex:e.value})
l(t,e)
s(t,e)}}})}
var v=ih({factory:l,name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})
return v}
var SA=function(t,e){var n=nA.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}})
var r=nA.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}})
var o=function(t,e){var n=t.width,r=t.height
var o=t.getContext("2d")
if(null===o)return
o.fillStyle=e
o.fillRect(0,0,n,r)
var a=o.createLinearGradient(0,0,n,0)
a.addColorStop(0,"rgba(255,255,255,1)")
a.addColorStop(1,"rgba(255,255,255,0)")
o.fillStyle=a
o.fillRect(0,0,n,r)
var i=o.createLinearGradient(0,0,0,r)
i.addColorStop(0,"rgba(0,0,0,0)")
i.addColorStop(1,"rgba(0,0,0,1)")
o.fillStyle=i
o.fillRect(0,0,n,r)}
var a=function(t,e){var n=t.components()[0].element.dom
var r=rA(e,100,100)
var a=qk(r)
o(n,Kk(a))}
var i=function(t,e){var n=oA(Gk(e))
nA.setValue(t,{x:n.saturation,y:100-n.value})}
var u=function(t){var a=y({x:0,y:0})
var i=function(t,e,n){va(t,sA,{value:n})}
var u=function(t,e,n,r){o(n.element.dom,Kk(Yk))}
var c=Nl([bh.config({find:H.some}),Ay.config({})])
return nA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:false,components:[n,r],onChange:i,onInit:u,sliderBehaviours:c})}
var c=ih({factory:u,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(t,e,n){a(e,n)},setThumb:function(t,e,n){i(e,n)}},extraApis:{}})
return c}
var OA=function(t,e){var n=function(n){var r=CA(t,e,n.onValidHex,n.onInvalidHex)
var o=SA(t,e)
var a=function(t){return(100-t)/100*360}
var i=function(t){return 100-t/360*100}
var u={paletteRgba:Kn(Yk),paletteHue:Kn(0)}
var c=Zw(lA(t,e))
var s=Zw(o.sketch({}))
var l=Zw(r.sketch({}))
var v=function(t,e,n){s.getOpt(t).each((function(t){o.setHue(t,n)}))}
var f=function(t,e){l.getOpt(t).each((function(t){r.updateHex(t,e)}))}
var d=function(t,e,n){c.getOpt(t).each((function(t){nA.setValue(t,{y:i(n)})}))}
var m=function(t,e){s.getOpt(t).each((function(t){o.setThumb(t,e)}))}
var g=function(t,e){var n=Gk(t)
u.paletteRgba.set(n)
u.paletteHue.set(e)}
var h=function(t,e,n,r){g(e,n)
q(r,(function(r){r(t,e,n)}))}
var p=function(){var t=[f]
return function(e,n){var r=n.event.value
var o=u.paletteHue.get()
var a=rA(o,r.x,100-r.y)
var i=iA(a)
h(e,i,o,t)}}
var b=function(){var t=[v,f]
return function(e,n){var r=a(n.event.value.y)
var o=u.paletteRgba.get()
var i=oA(o)
var c=rA(r,i.saturation,i.value)
var s=iA(c)
h(e,s,r,t)}}
var y=function(){var t=[v,d,m]
return function(e,n){var r=n.event.hex
var o=aA(r)
h(e,r,o.hue,t)}}
return{uid:n.uid,dom:n.dom,components:[s.asSpec(),c.asSpec(),l.asSpec()],behaviours:Nl([Sy("colour-picker-events",[wa(uA,y()),wa(sA,p()),wa(cA,b())]),bh.config({find:function(t){return l.getOpt(t)}}),vy.config({mode:"acyclic"})])}}
var r=ih({name:"ColourPicker",configFields:[yn("dom"),Pn("onValidHex",g),Pn("onInvalidHex",g)],factory:n})
return r}
var kA=function(){return bh.config({find:H.some})}
var TA=function(t){return bh.config({find:t.getOpt})}
var _A=function(t){return bh.config({find:function(e){return Ya(e.element,t).bind((function(t){return e.getSystem().getByDom(t).toOptional()}))}})}
var zA={self:kA,memento:TA,childAt:_A}
var EA={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"}
var MA=function(t){return EA[t]}
var DA=function(t){return MA(t)}
var AA=function(t){var e=function(t){return"tox-"+t}
var n=OA(DA,e)
var r=function(t){va(t,vz,{name:"hex-valid",value:true})}
var o=function(t){va(t,vz,{name:"hex-valid",value:false})}
var a=Zw(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:r,onInvalidHex:o}))
return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(t){var e=a.get(t)
var n=bh.getCurrent(e)
var r=n.bind((function(t){var e=Xm.getValue(t)
return e.hex}))
return r.map((function(t){return"#"+t})).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/
var r=n.exec(e)
var o=a.get(t)
var i=bh.getCurrent(o)
i.fold((function(){console.log("Can not find form")}),(function(t){Xm.setValue(t,{hex:H.from(r[1]).getOr("")})
pA.getField(t,"hex").each((function(t){la(t,Ao())}))}))}}}),zA.self()])}}
var RA=tinymce.util.Tools.resolve("tinymce.Resource")
var HA=function(t){return Object.prototype.hasOwnProperty.call(t,"init")}
var BA=function(t){var e=Kn(H.none())
var n=Zw({dom:{tag:t.tag}})
var r=Kn(H.none())
return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Nl([Sy("custom-editor-events",[Ma((function(o){n.getOpt(o).each((function(n){(HA(t)?t.init(n.element.dom):RA.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element.dom,t.settings)}))).then((function(t){r.get().each((function(e){t.setValue(e)}))
r.set(H.none())
e.set(H.some(t))}))}))}))]),Xm.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(H.some(n))}),(function(t){return t.setValue(n)}))}}}),zA.self()]),components:[n.asSpec()]}}
var IA=tinymce.util.Tools.resolve("tinymce.util.Tools")
var LA=Pe([Pn("preprocess",w),Pn("postprocess",w)])
var PA=function(t,e){var n=on("RepresentingConfigs.memento processors",LA,e)
return Xm.config({store:{mode:"manual",getValue:function(e){var r=t.get(e)
var o=Xm.getValue(r)
return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r)
var a=t.get(e)
Xm.setValue(a,o)}}})}
var NA=function(t,e,n){return Xm.config(Xt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))}
var VA=function(t,e,n){return NA(t,(function(t){return e(t.element)}),(function(t,e){return n(t.element,e)}))}
var FA=function(t){return VA(t,ac,ic)}
var jA=function(t){return VA(t,yi,wi)}
var UA=function(t){return Xm.config({store:{mode:"memory",initialValue:t}})}
var WA={memento:PA,withElement:VA,withComp:NA,domValue:FA,domHtml:jA,memory:UA}
var qA="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
var GA=function(t,e){var n=IA.explode(e.getSetting("images_file_types",qA,"string"))
var r=function(t){return F(n,(function(e){return gr(t.name.toLowerCase(),"."+e.toLowerCase())}))}
return X(lt(t),r)}
var $A=function(t,e){var n=function(t,e){e.stop()}
var r=function(t){return function(e,n){q(t,(function(t){t(e,n)}))}}
var o=function(t,e){if(!KS.isDisabled(t)){var n=e.event.raw
i(t,n.dataTransfer.files)}}
var a=function(t,e){var n=e.event.raw.target
i(t,n.files)}
var i=function(n,r){Xm.setValue(n,GA(r,e))
va(n,cz,{name:t.name})}
var u=Zw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Nl([Sy("input-file-events",[_a(Ho()),_a(qo())])])})
var c=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Nl([WA.memory([]),zA.self(),KS.config({}),Jy.config({toggleClass:"dragenter",toggleOnExecute:false}),Sy("dropzone-events",[wa("dragenter",r([n,Jy.toggle])),wa("dragleave",r([n,Jy.toggle])),wa("dragover",n),wa("drop",r([n,o])),wa(Ro(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Jw.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(t){var e=u.get(t)
e.element.dom.click()},buttonBehaviours:Nl([tz.config({}),XO.button(e.isDisabled),UO()])})]}]}}
var s=t.label.map((function(t){return uz(t,e)}))
var l=Y_.parts.field({factory:{sketch:c}})
return nz(s,l,["tox-form__group--stretched"],[])}
var XA=function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:W(t.items,e.interpreter)}}
var KA=Li("alloy-fake-before-tabstop")
var YA=Li("alloy-fake-after-tabstop")
var JA=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Nl([Ay.config({ignore:true}),tz.config({})])}}
var ZA=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[JA([KA]),t,JA([YA])],behaviours:Nl([zA.childAt(1)])}}
var QA=function(t,e){va(t,Mo(),{raw:{which:9,shiftKey:e}})}
var tR=function(t,e){var n=e.element
Vu(n,KA)?QA(t,true):Vu(n,YA)&&QA(t,false)}
var eR=function(t){return h_(t,["."+KA,"."+YA].join(","),O)}
var nR=!($r().browser.isIE()||$r().browser.isEdge())
var rR=function(t){var e=Kn("")
return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)Si(n.element,"srcdoc",r)
else{Si(n.element,"src","javascript:''")
var o=n.element.dom.contentWindow.document
o.open()
o.write(r)
o.close()}e.set(r)}}}
var oR=function(t,e){var n=nR&&t.sandboxed
var r=_(_({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{})
var o=rR(n)
var a=t.label.map((function(t){return uz(t,e)}))
var i=function(t){return ZA({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Nl([tz.config({}),Ay.config({}),WA.withComp(H.none(),o.getValue,o.setValue)])})}
var u=Y_.parts.field({factory:{sketch:i}})
return nz(a,u,["tox-form__group--stretched"],[])}
var aR=function(t,e){return cR(document.createElement("canvas"),t,e)}
var iR=function(t){var e=aR(t.width,t.height)
var n=uR(e)
n.drawImage(t,0,0)
return e}
var uR=function(t){return t.getContext("2d")}
var cR=function(t,e,n){t.width=e
t.height=n
return t}
var sR=function(t){return t.naturalWidth||t.width}
var lR=function(t){return t.naturalHeight||t.height}
var vR=function(){var t=function(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new")
if("function"!==typeof t)throw new TypeError("not a function")
this._state=null
this._value=null
this._deferreds=[]
l(t,r(i,this),r(u,this))}
var e=window
var n=t.immediateFn||"function"===typeof e.setImmediate&&e.setImmediate||function(t){return setTimeout(t,1)}
var r=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t.apply(e,n)}}
var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}
function a(t){var e=this
if(null===this._state){this._deferreds.push(t)
return}n((function(){var n=e._state?t.onFulfilled:t.onRejected
if(null===n){(e._state?t.resolve:t.reject)(e._value)
return}var r
try{r=n(e._value)}catch(e){t.reject(e)
return}t.resolve(r)}))}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.")
if(t&&("object"===typeof t||"function"===typeof t)){var e=t.then
if("function"===typeof e){l(r(e,t),r(i,this),r(u,this))
return}}this._state=true
this._value=t
c.call(this)}catch(t){u.call(this,t)}}function u(t){this._state=false
this._value=t
c.call(this)}function c(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t]
a.call(this,n)}this._deferreds=[]}function s(t,e,n,r){this.onFulfilled="function"===typeof t?t:null
this.onRejected="function"===typeof e?e:null
this.resolve=n
this.reject=r}var l=function(t,e,n){var r=false
try{t((function(t){if(r)return
r=true
e(t)}),(function(t){if(r)return
r=true
n(t)}))}catch(t){if(r)return
r=true
n(t)}}
t.prototype.catch=function(t){return this.then(null,t)}
t.prototype.then=function(e,n){var r=this
return new t((function(t,o){a.call(r,new s(e,n,t,o))}))}
t.all=function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e)
return new t((function(t,e){if(0===r.length)return t([])
var n=r.length
var o=function(a,i){try{if(i&&("object"===typeof i||"function"===typeof i)){var u=i.then
if("function"===typeof u){u.call(i,(function(t){o(a,t)}),e)
return}}r[a]=i
0===--n&&t(r)}catch(t){e(t)}}
for(var a=0;a<r.length;a++)o(a,r[a])}))}
t.resolve=function(e){if(e&&"object"===typeof e&&e.constructor===t)return e
return new t((function(t){t(e)}))}
t.reject=function(e){return new t((function(t,n){n(e)}))}
t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){var a=o[r]
a.then(t,n)}}))}
return t}
var fR=window.Promise?window.Promise:vR()
var dR=function(t){return new fR((function(e,n){var r=URL.createObjectURL(t)
var o=new Image
var a=function(){o.removeEventListener("load",i)
o.removeEventListener("error",u)}
var i=function(){a()
e(o)}
var u=function(){a()
n("Unable to load data of type "+t.type+": "+r)}
o.addEventListener("load",i)
o.addEventListener("error",u)
o.src=r
o.complete&&setTimeout(i,0)}))}
var mR=function(t){var e=t.split(",")
var n=/data:([^;]+)/.exec(e[0])
if(!n)return H.none()
var r=n[1]
var o=e[1]
var a=1024
var i=atob(o)
var u=i.length
var c=Math.ceil(u/a)
var s=new Array(c)
for(var l=0;l<c;++l){var v=l*a
var f=Math.min(v+a,u)
var d=new Array(f-v)
for(var m=v,g=0;m<f;++g,++m)d[g]=i[m].charCodeAt(0)
s[l]=new Uint8Array(d)}return H.some(new Blob(s,{type:r}))}
var gR=function(t){return new fR((function(e,n){mR(t).fold((function(){n("uri is not base64: "+t)}),e)}))}
var hR=function(t,e,n){e=e||"image/png"
return f(HTMLCanvasElement.prototype.toBlob)?new fR((function(r,o){t.toBlob((function(t){t?r(t):o()}),e,n)})):gR(t.toDataURL(e,n))}
var pR=function(t,e,n){e=e||"image/png"
return t.toDataURL(e,n)}
var bR=function(t){return dR(t).then((function(t){wR(t)
var e=aR(sR(t),lR(t))
var n=uR(e)
n.drawImage(t,0,0)
return e}))}
var yR=function(t){return new fR((function(e){var n=new FileReader
n.onloadend=function(){e(n.result)}
n.readAsDataURL(t)}))}
var wR=function(t){URL.revokeObjectURL(t.src)}
var xR=function(t,e,n){var r=e.type
var o=y(r)
var a=function(){return fR.resolve(e)}
var i=y(n)
var u=function(){return n.split(",")[1]}
var c=function(e,n){return t.then((function(t){return hR(t,e,n)}))}
var s=function(e,n){return t.then((function(t){return pR(t,e,n)}))}
var l=function(t,e){return s(t,e).then((function(t){return t.split(",")[1]}))}
var v=function(){return t.then(iR)}
return{getType:o,toBlob:a,toDataURL:i,toBase64:u,toAdjustedBlob:c,toAdjustedDataURL:s,toAdjustedBase64:l,toCanvas:v}}
var CR=function(t){return yR(t).then((function(e){return xR(bR(t),t,e)}))}
var SR=function(t,e){return hR(t,e).then((function(e){return xR(fR.resolve(t),e,t.toDataURL())}))}
var OR=function(t){return CR(t)}
var kR=function(t,e,n){var r="string"===typeof t?parseFloat(t):t
r>n?r=n:r<e&&(r=e)
return r}
var TR=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}
var _R=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10]
var zR=function(t,e){var n=[]
var r=new Array(25)
var o
for(var a=0;a<5;a++){for(var i=0;i<5;i++)n[i]=e[i+5*a]
for(i=0;i<5;i++){o=0
for(var u=0;u<5;u++)o+=t[i+5*u]*n[u]
r[i+5*a]=o}}return r}
var ER=function(t,e){var n
e=kR(e,-1,1)
e*=100
if(e<0)n=127+e/100*127
else{n=e%1
n=0===n?_R[e]:_R[Math.floor(e)]*(1-n)+_R[Math.floor(e)+1]*n
n=127*n+127}return zR(t,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}
var MR=function(t,e){e=kR(255*e,-255,255)
return zR(t,[1,0,0,0,e,0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])}
var DR=function(t,e,n,r){e=kR(e,0,2)
n=kR(n,0,2)
r=kR(r,0,2)
return zR(t,[e,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}
var AR=function(t,e){return t.toCanvas().then((function(n){return RR(n,t.getType(),e)}))}
var RR=function(t,e,n){var r=uR(t)
var o=function(t,e){var n,r,o,a
var i=t.data,u=e[0],c=e[1],s=e[2],l=e[3],v=e[4],f=e[5],d=e[6],m=e[7],g=e[8],h=e[9],p=e[10],b=e[11],y=e[12],w=e[13],x=e[14],C=e[15],S=e[16],O=e[17],k=e[18],T=e[19]
for(var _=0;_<i.length;_+=4){n=i[_]
r=i[_+1]
o=i[_+2]
a=i[_+3]
i[_]=n*u+r*c+o*s+a*l+v
i[_+1]=n*f+r*d+o*m+a*g+h
i[_+2]=n*p+r*b+o*y+a*w+x
i[_+3]=n*C+r*S+o*O+a*k+T}return t}
var a=o(r.getImageData(0,0,t.width,t.height),n)
r.putImageData(a,0,0)
return SR(t,e)}
var HR=function(t,e){return t.toCanvas().then((function(n){return BR(n,t.getType(),e)}))}
var BR=function(t,e,n){var r=uR(t)
var o=function(t,e,n){var r=function(t,e,n){t>n?t=n:t<e&&(t=e)
return t}
var o=Math.round(Math.sqrt(n.length))
var a=Math.floor(o/2)
var i=t.data
var u=e.data
var c=t.width
var s=t.height
for(var l=0;l<s;l++)for(var v=0;v<c;v++){var f=0
var d=0
var m=0
for(var g=0;g<o;g++)for(var h=0;h<o;h++){var p=r(v+h-a,0,c-1)
var b=r(l+g-a,0,s-1)
var y=4*(b*c+p)
var w=n[g*o+h]
f+=i[y]*w
d+=i[y+1]*w
m+=i[y+2]*w}var x=4*(l*c+v)
u[x]=r(f,0,255)
u[x+1]=r(d,0,255)
u[x+2]=r(m,0,255)}return e}
var a=r.getImageData(0,0,t.width,t.height)
var i=r.getImageData(0,0,t.width,t.height)
i=o(a,i,n)
r.putImageData(i,0,0)
return SR(t,e)}
var IR=function(t){var e=function(e,n,r){var o=uR(e)
var a=new Array(256)
var i=function(t,e){var n=t.data
for(var r=0;r<n.length;r+=4){n[r]=e[n[r]]
n[r+1]=e[n[r+1]]
n[r+2]=e[n[r+2]]}return t}
for(var u=0;u<a.length;u++)a[u]=t(u,r)
var c=i(o.getImageData(0,0,e.width,e.height),a)
o.putImageData(c,0,0)
return SR(e,n)}
return function(t,n){return t.toCanvas().then((function(r){return e(r,t.getType(),n)}))}}
var LR=function(t){return function(e,n){return AR(e,t(TR(),n))}}
var PR=function(t){return function(e){return AR(e,t)}}
var NR=function(t){return function(e){return HR(e,t)}}
var VR=PR([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1])
var FR=LR(MR)
var jR=LR(ER)
var UR=function(t,e,n,r){return AR(t,DR(TR(),e,n,r))}
var WR=NR([0,-1,0,-1,5,-1,0,-1,0])
var qR=IR((function(t,e){return 255*Math.pow(t/255,1-e)}))
var GR=function(t,e,n){var r=sR(t)
var o=lR(t)
var a=e/r
var i=n/o
var u=false
if(a<.5||a>2){a=a<.5?.5:2
u=true}if(i<.5||i>2){i=i<.5?.5:2
u=true}var c=$R(t,a,i)
return u?c.then((function(t){return GR(t,e,n)})):c}
var $R=function(t,e,n){return new fR((function(r){var o=sR(t)
var a=lR(t)
var i=Math.floor(o*e)
var u=Math.floor(a*n)
var c=aR(i,u)
var s=uR(c)
s.drawImage(t,0,0,o,a,0,0,i,u)
r(c)}))}
var XR=function(t,e){void 0===e&&(e=2)
var n=Math.pow(10,e)
var r=Math.round(t*n)
return Math.ceil(r/n)}
var KR=function(t,e){return t.toCanvas().then((function(n){return YR(n,t.getType(),e)}))}
var YR=function(t,e,n){var r=n<0?360+n:n
var o=r*Math.PI/180
var a=t.width
var i=t.height
var u=Math.sin(o)
var c=Math.cos(o)
var s=XR(Math.abs(a*c)+Math.abs(i*u))
var l=XR(Math.abs(a*u)+Math.abs(i*c))
var v=aR(s,l)
var f=uR(v)
f.translate(s/2,l/2)
f.rotate(o)
f.drawImage(t,-a/2,-i/2)
return SR(v,e)}
var JR=function(t,e){return t.toCanvas().then((function(n){return ZR(n,t.getType(),e)}))}
var ZR=function(t,e,n){var r=aR(t.width,t.height)
var o=uR(r)
if("v"===n){o.scale(1,-1)
o.drawImage(t,0,-r.height)}else{o.scale(-1,1)
o.drawImage(t,-r.width,0)}return SR(r,e)}
var QR=function(t,e,n,r,o){return t.toCanvas().then((function(a){return tH(a,t.getType(),e,n,r,o)}))}
var tH=function(t,e,n,r,o,a){var i=aR(o,a)
var u=uR(i)
u.drawImage(t,-n,-r)
return SR(i,e)}
var eH=function(t,e,n){return t.toCanvas().then((function(r){return GR(r,e,n).then((function(e){return SR(e,t.getType())}))}))}
var nH=function(t){return VR(t)}
var rH=function(t){return WR(t)}
var oH=function(t,e){return qR(t,e)}
var aH=function(t,e,n,r){return UR(t,e,n,r)}
var iH=function(t,e){return FR(t,e)}
var uH=function(t,e){return jR(t,e)}
var cH=function(t,e){return JR(t,e)}
var sH=function(t,e,n,r,o){return QR(t,e,n,r,o)}
var lH=function(t,e,n){return eH(t,e,n)}
var vH=function(t,e){return KR(t,e)}
var fH=function(t,e){return _({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)}
var dH=function(t,e){return fH(tx(t,e),{})}
var mH=function(t,e){return fH(tx(t,e),{behaviours:Nl([xy.config({})])})}
var gH=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Nl([xy.config({})])}}
var hH
var pH=Li("toolbar.button.execute")
var bH=function(t){return Ra((function(e,n){KO(t,e)((function(n){va(e,pH,{buttonApi:n})
t.onAction(n)}))}))}
var yH=(hH={},hH[Uo()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],hH)
var wH=Li("update-menu-text")
var xH=Li("update-menu-icon")
var CH=function(t,e,n){var r=Kn(g)
var o=t.text.map((function(t){return Zw(gH(t,e,n.providers))}))
var a=t.icon.map((function(t){return Zw(mH(t,n.providers.icons))}))
var i=function(t,e){var n=Xm.getValue(t)
Ay.focus(n)
va(n,"keydown",{raw:e.event.raw})
pE.close(n)
return H.some(true)}
var u=t.role.fold((function(){return{}}),(function(t){return{role:t}}))
var c=t.tooltip.fold((function(){return{}}),(function(t){var e=n.providers.translate(t)
return{title:e,"aria-label":e}}))
var s=Zw(pE.sketch(_(_(_({},t.uid?{uid:t.uid}:{}),u),{dom:{tag:"button",classes:[e,e+"--select"].concat(W(t.classes,(function(t){return e+"--"+t}))),attributes:_({},c)},components:ek([a.map((function(t){return t.asSpec()})),o.map((function(t){return t.asSpec()})),H.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:tx("chevron-down",n.providers.icons)}})]),matchWidth:true,useMinWidth:true,dropdownBehaviours:Nl(E(t.dropdownBehaviours,[XO.button((function(){return t.disabled||n.providers.isDisabled()})),UO(),xE.config({}),xy.config({}),Sy("dropdown-events",[YO(t,r),JO(t,r)]),Sy("menubutton-update-display-text",[wa(wH,(function(t,e){o.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[hc(n.providers.translate(e.event.text))])}))})),wa(xH,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){xy.set(t,[mH(e.event.icon,n.providers.icons)])}))}))])])),eventOrder:Xt(yH,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Nl([vy.config({mode:"special",onLeft:i,onRight:i})]),lazySink:n.getSink,toggleClass:e+"--active",parts:{menu:BC(false,t.columns,t.presets)},fetch:function(e){return Hz.nu(x(t.fetch,e))}})))
return s.asSpec()}
var SH=function(t){return a(t)}
var OH=function(t){return"separator"===t.type}
var kH=function(t){return Vt(t,"getSubmenuItems")}
var TH={type:"separator"}
var _H=function(t,e){var n=Y(t,(function(t,n){return SH(n)?""===n?t:"|"===n?t.length>0&&!OH(t[t.length-1])?t.concat([TH]):t:Vt(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[])
n.length>0&&OH(n[n.length-1])&&n.pop()
return n}
var zH=function(t,e){var n=t.getSubmenuItems()
var r=DH(n,e)
var o=Xt(r.menus,se(t.value,r.items))
var a=Xt(r.expansions,se(t.value,t.value))
return{item:t,menus:o,expansions:a}}
var EH=function(t,e){return kH(t)?zH(t,e):{item:t,menus:{},expansions:{}}}
var MH=function(t){if(OH(t))return t
var e=Nt(t,"value").getOrThunk((function(){return Li("generated-menu-item")}))
return Xt({value:e},t)}
var DH=function(t,e){var n=_H(a(t)?t.split(" "):t,e)
return K(n,(function(t,n){var r=MH(n)
var o=EH(r,e)
return{menus:Xt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Xt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})}
var AH=function(t,e,n,r){var o=Li("primary-menu")
var a=DH(t,n.shared.providers.menuItems())
if(0===a.items.length)return H.none()
var i=u_(o,a.items,e,n,r)
var u=Dt(a.menus,(function(t,r){return u_(r,t,e,n,false)}))
var c=Xt(u,se(o,i))
return H.from(Hw.tieredData(o,c,a.expansions))}
var RH=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)},setActive:function(e){var n=t.element
if(e){Lu(n,"tox-tbtn--enabled")
Si(n,"aria-pressed",true)}else{Nu(n,"tox-tbtn--enabled")
zi(n,"aria-pressed")}},isActive:function(){return Vu(t.element,"tox-tbtn--enabled")}}}
var HH=function(t,e,n,r){return CH({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e,r){t.fetch((function(t){r(AH(t,uC.CLOSE_ON_EXECUTE,n,false))}))},onSetup:t.onSetup,getApi:RH,columns:1,presets:"normal",classes:[],dropdownBehaviours:[tz.config({})]},e,n.shared)}
var BH=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive()
r.setActive(o)
t.storage.set(o)
n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){Kl(e.element)
va(e,vz,{name:t.name,value:t.storage.get()})}))}))}}
var o=function(t){return function(e){e.setActive(t.storage.get())}}
return function(e){e(W(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}))
return _(_({type:t.type,active:false},e),{onAction:r(t),onSetup:o(t)})})))}}
var IH=function(t,e,n,r,o,a){void 0===n&&(n=[])
var i=e.fold((function(){return{}}),(function(t){return{action:t}}))
var u=_({buttonBehaviours:Nl([XO.button((function(){return t.disabled||a.isDisabled()})),UO(),tz.config({}),Sy("button press",[ya("click"),ya("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},i)
var c=Xt(u,{dom:r})
return Xt(c,{components:o})}
var LH=function(t,e,n,r){void 0===r&&(r=[])
var o=t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})
var a={tag:"button",classes:["tox-tbtn"],attributes:o}
var i=t.icon.map((function(t){return dH(t,n.icons)}))
var u=ek([i])
return IH(t,e,r,a,u,n)}
var PH=function(t,e,n,r){void 0===r&&(r=[])
var o=LH(t,H.some(e),n,r)
return Jw.sketch(o)}
var NH=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=n.translate(t.text)
var i=t.icon?t.icon.map((function(t){return dH(t,n.icons)})):H.none()
var u=i.isSome()?ek([i]):[]
var c=i.isSome()?{}:{innerHtml:a}
var s=E(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],i.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o)
var l=_(_({tag:"button",classes:s},c),{attributes:{title:a}})
return IH(t,e,r,l,u,n)}
var VH=function(t,e,n,r,o){void 0===r&&(r=[])
void 0===o&&(o=[])
var a=NH(t,H.some(e),n,r,o)
return Jw.sketch(a)}
var FH=function(t,e){return function(n){"custom"===e?va(n,vz,{name:t,value:{}}):"submit"===e?la(n,fz):"cancel"===e?la(n,lz):console.error("Unknown button type: ",e)}}
var jH=function(t,e){return"menu"===e}
var UH=function(t,e){return"custom"===e||"cancel"===e||"submit"===e}
var WH=function(t,e,n){if(jH(t,e)){var r=function(){return i}
var o=t
var a=_(_({},t),{onSetup:function(e){e.setDisabled(t.disabled)
return g},fetch:BH(o.items,r,n)})
var i=Zw(HH(a,"tox-tbtn",n,H.none()))
return i.asSpec()}if(UH(t,e)){var u=FH(t.name,e)
var c=_(_({},t),{borderless:false})
return VH(c,u,n.shared.providers,[])}console.error("Unknown footer button type: ",e)}
var qH=function(t,e){var n=FH(t.name,"custom")
return rz(H.none(),Y_.parts.field(_({factory:Jw},NH(t,H.some(n),e,[WA.memory(""),zA.self()]))))}
var GH=y([Pn("field1Name","field1"),Pn("field2Name","field2"),Ns("onLockedChange"),Bs(["lockClass"]),Pn("locked",false),Zm.field("coupledFieldBehaviours",[bh,Xm])])
var $H=function(t,e,n){return jg(t,e,n).bind(bh.getCurrent)}
var XH=function(t,e){return _g({factory:Y_,name:t,overrides:function(t){return{fieldBehaviours:Nl([Sy("coupled-input-behaviour",[wa(Ao(),(function(n){$H(n,t,e).each((function(e){jg(n,t,"lock").each((function(r){Jy.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})}
var KH=y([XH("field1","field2"),XH("field2","field1"),_g({factory:Jw,schema:[yn("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Nl([Jy.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})])
var YH=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Zm.augment(t.coupledFieldBehaviours,[bh.config({find:H.some}),Xm.config({store:{mode:"manual",getValue:function(e){var n
var r=$g(e,t,["field1","field2"])
return n={},n[t.field1Name]=Xm.getValue(r.field1()),n[t.field2Name]=Xm.getValue(r.field2()),n},setValue:function(e,n){var r=$g(e,t,["field1","field2"])
Ft(n,t.field1Name)&&Xm.setValue(r.field1(),n[t.field1Name])
Ft(n,t.field2Name)&&Xm.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return jg(e,t,"field1")},getField2:function(e){return jg(e,t,"field2")},getLock:function(e){return jg(e,t,"lock")}}}}
var JH=uh({name:"FormCoupledInputs",configFields:GH(),partFields:KH(),factory:YH,apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}})
var ZH=function(t){var e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4}
var n=function(t){return t in e?e[t]:1}
var r=t.value.toFixed(n(t.unit));-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,""))
return r+t.unit}
var QH=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/
var n=e.exec(t)
if(null!==n){var r=parseFloat(n[1])
var o=n[2]
return gt.value({value:r,unit:o})}return gt.error(t)}
var tB=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1}
var r=function(t){return Object.prototype.hasOwnProperty.call(n,t)}
return t.unit===e?H.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?H.some(t.value):H.some(t.value/n[t.unit]*n[e]):H.none()}
var eB=function(t){return H.none()}
var nB=function(t,e){return function(n){return tB(n,e).map((function(n){return{value:n*t,unit:e}}))}}
var rB=function(t,e){var n=QH(t).toOptional()
var r=QH(e).toOptional()
return lh(n,r,(function(t,e){return tB(t,e.unit).map((function(t){return e.value/t})).map((function(t){return nB(t,e.unit)})).getOr(eB)})).getOr(eB)}
var oB=function(t,e){var n=eB
var r=Li("ratio-event")
var o=JH.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:tx("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:tx("unlock",e.icons)}}],buttonBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),UO(),tz.config({})])})
var a=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}}
var i=function(n){return Y_.parts.field({factory:Sz,inputClasses:["tox-textfield"],inputBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),UO(),tz.config({}),Sy("size-input-events",[wa(zo(),(function(t,e){va(t,r,{isField1:n})})),wa(Ro(),(function(e,n){va(e,cz,{name:t.name})}))])]),selectOnFocus:false})}
var u=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}}
var c=JH.parts.field1(a([Y_.parts.label(u("Width")),i(true)]))
var s=JH.parts.field2(a([Y_.parts.label(u("Height")),i(false)]))
return JH.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[c,s,a([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:true,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){QH(Xm.getValue(t)).each((function(t){n(t).each((function(t){Xm.setValue(e,ZH(t))}))}))},coupledFieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){JH.getField1(t).bind(Y_.getField).each(KS.disable)
JH.getField2(t).bind(Y_.getField).each(KS.disable)
JH.getLock(t).each(KS.disable)},onEnabled:function(t){JH.getField1(t).bind(Y_.getField).each(KS.enable)
JH.getField2(t).bind(Y_.getField).each(KS.enable)
JH.getLock(t).each(KS.enable)}}),UO(),Sy("size-input-events2",[wa(r,(function(t,e){var r=e.event.isField1
var o=r?JH.getField1(t):JH.getField2(t)
var a=r?JH.getField2(t):JH.getField1(t)
var i=o.map(Xm.getValue).getOr("")
var u=a.map(Xm.getValue).getOr("")
n=rB(i,u)}))])])})}
var aB=y(Li("undo"))
var iB=y(Li("redo"))
var uB=y(Li("zoom"))
var cB=y(Li("back"))
var sB=y(Li("apply"))
var lB=y(Li("swap"))
var vB=y(Li("transform"))
var fB=y(Li("temp-transform"))
var dB=y(Li("transform-apply"))
var mB={undo:aB,redo:iB,zoom:uB,back:cB,apply:sB,swap:lB,transform:vB,tempTransform:fB,transformApply:dB}
var gB=y("save-state")
var hB=y("disable")
var pB=y("enable")
var bB={formActionEvent:vz,saveState:gB,disable:hB,enable:pB}
var yB=function(t,e){var n=function(t,n,r,o){return Zw(VH({name:t,text:t,disabled:r,primary:o,icon:H.none(),borderless:false},n,e))}
var r=function(t,n,r,o){return Zw(PH({name:t,icon:H.some(t),tooltip:H.some(n),disabled:o,primary:false,borderless:false},r,e))}
var o=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(KS)&&KS.disable(n)}))}
var a=function(t,e){t.map((function(t){var n=t.get(e)
n.hasConfigured(KS)&&KS.enable(n)}))}
var i={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]}
var u=g
var c=function(t,e,n){va(t,e,n)}
var s=function(t){return la(t,bB.disable())}
var l=function(t){return la(t,bB.enable())}
var v=function(t,e){s(t)
c(t,mB.transform(),{transform:e})
l(t)}
var f=function(t,e){s(t)
c(t,mB.tempTransform(),{transform:e})
l(t)}
var d=function(t){return function(){it.getOpt(t).each((function(t){xy.set(t,[ot])}))}}
var m=function(t,e){s(t)
c(t,mB.transformApply(),{transform:e,swap:d(t)})
l(t)}
var h=function(){return n("Back",(function(t){return c(t,mB.back(),{swap:d(t)})}),false,false)}
var p=function(){return Zw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Nl([KS.config({})])})}
var b=function(){return n("Apply",(function(t){return c(t,mB.apply(),{swap:d(t)})}),true,true)}
var w=function(){return function(e){var n=t.getRect()
return sH(e,n.x,n.y,n.w,n.h)}}
var x=[h(),p(),n("Apply",(function(e){var n=w()
m(e,n)
t.hideCrop()}),false,true)]
var C=W_.sketch({dom:i,components:x.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-crop-buttons-events",[wa(bB.disable(),(function(t,e){o(x,t)})),wa(bB.enable(),(function(t,e){a(x,t)}))])])})
var S=Zw(oB({name:"size",label:H.none(),constrain:true,disabled:false},e))
var O=function(t,e){return function(n){return lH(n,t,e)}}
var k=[h(),p(),S,p(),n("Apply",(function(t){S.getOpt(t).each((function(e){var n=Xm.getValue(e)
var r=parseInt(n.width,10)
var o=parseInt(n.height,10)
var a=O(r,o)
m(t,a)}))}),false,true)]
var T=W_.sketch({dom:i,components:k.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-resize-buttons-events",[wa(bB.disable(),(function(t,e){o(k,t)})),wa(bB.enable(),(function(t,e){a(k,t)}))])])})
var _=function(t,e){return function(n){return t(n,e)}}
var z=_(cH,"h")
var E=_(cH,"v")
var M=_(vH,-90)
var D=_(vH,90)
var A=function(t,e){f(t,e)}
var R=[h(),p(),r("flip-horizontally","Flip horizontally",(function(t){A(t,z)}),false),r("flip-vertically","Flip vertically",(function(t){A(t,E)}),false),r("rotate-left","Rotate counterclockwise",(function(t){A(t,M)}),false),r("rotate-right","Rotate clockwise",(function(t){A(t,D)}),false),p(),b()]
var B=W_.sketch({dom:i,components:R.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-fliprotate-buttons-events",[wa(bB.disable(),(function(t,e){o(R,t)})),wa(bB.enable(),(function(t,e){a(R,t)}))])])})
var I=function(t,n,r,o,a){var i=nA.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})
var u=nA.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}})
var c=nA.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}})
return Zw(nA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:y({x:o})},components:[i,u,c],sliderBehaviours:Nl([Ay.config({})]),onChoose:n}))}
var L=function(t,e,n,r,o){var a=function(t,n,r){var o=_(e,r.x/100)
v(t,o)}
return I(t,a,n,r,o)}
var P=function(t,e,n,r,o){return[h(),L(t,e,n,r,o),b()]}
var N=function(t,e,n,r,u){var c=P(t,e,n,r,u)
return W_.sketch({dom:i,components:c.map((function(t){return t.asSpec()})),containerBehaviours:Nl([Sy("image-tools-filter-panel-buttons-events",[wa(bB.disable(),(function(t,e){o(c,t)})),wa(bB.enable(),(function(t,e){a(c,t)}))])])})}
var V=[h(),p(),b()]
var F=W_.sketch({dom:i,components:V.map((function(t){return t.asSpec()}))})
var j=N("Brightness",iH,-100,0,100)
var U=N("Contrast",uH,-100,0,100)
var W=N("Gamma",oH,-100,0,100)
var q=function(t,e,n){return function(r){return aH(r,t,e,n)}}
var G=function(t){var e=function(t,e,n){var r=$.getOpt(t)
var o=K.getOpt(t)
var a=X.getOpt(t)
r.each((function(e){o.each((function(n){a.each((function(r){var o=Xm.getValue(e).x/100
var a=Xm.getValue(r).x/100
var i=Xm.getValue(n).x/100
var u=q(o,a,i)
v(t,u)}))}))}))}
return I(t,e,0,100,200)}
var $=G("R")
var X=G("G")
var K=G("B")
var Y=[h(),$,X,K,b()]
var J=W_.sketch({dom:i,components:Y.map((function(t){return t.asSpec()}))})
var Z=function(t,e,n){return function(r){var o=function(){it.getOpt(r).each((function(e){xy.set(e,[t])
n(e)}))}
c(r,mB.swap(),{transform:e,swap:o})}}
var Q=function(e){t.showCrop()}
var tt=function(e){S.getOpt(e).each((function(e){var n=t.getMeasurements()
var r=n.width
var o=n.height
Xm.setValue(e,{width:r,height:o})}))}
var et=H.some(rH)
var nt=H.some(nH)
var rt=[r("crop","Crop",Z(C,H.none(),Q),false),r("resize","Resize",Z(T,H.none(),tt),false),r("orientation","Orientation",Z(B,H.none(),u),false),r("brightness","Brightness",Z(j,H.none(),u),false),r("sharpen","Sharpen",Z(F,et,u),false),r("contrast","Contrast",Z(U,H.none(),u),false),r("color-levels","Color levels",Z(J,H.none(),u),false),r("gamma","Gamma",Z(W,H.none(),u),false),r("invert","Invert",Z(F,nt,u),false)]
var ot=W_.sketch({dom:i,components:rt.map((function(t){return t.asSpec()}))})
var at=W_.sketch({dom:{tag:"div"},components:[ot],containerBehaviours:Nl([xy.config({})])})
var it=Zw(at)
var ut=function(t){return it.getOpt(t).map((function(t){var e=t.components()[0]
return e.components()[e.components().length-1]}))}
return{memContainer:it,getApplyButton:ut}}
var wB=tinymce.util.Tools.resolve("tinymce.geom.Rect")
var xB=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var CB=tinymce.util.Tools.resolve("tinymce.util.Observable")
var SB=tinymce.util.Tools.resolve("tinymce.util.VK")
var OB=function(t){var e=Math.max
var n=t.documentElement
var r=t.body
var o=e(n.scrollWidth,r.scrollWidth)
var a=e(n.clientWidth,r.clientWidth)
var i=e(n.offsetWidth,r.offsetWidth)
var u=e(n.scrollHeight,r.scrollHeight)
var c=e(n.clientHeight,r.clientHeight)
var s=e(n.offsetHeight,r.offsetHeight)
return{width:o<i?a:o,height:u<s?c:u}}
var kB=function(t){var e,n
if(t.changedTouches){e="screenX screenY pageX pageY clientX clientY".split(" ")
for(n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}}
function TB(t,e){var n
var r=e.document||document
var o
var a,i
var u=r.getElementById(e.handle||t)
var c=function(t){var c=OB(r)
var v
kB(t)
t.preventDefault()
o=t.button
var f=u
a=t.screenX
i=t.screenY
v=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor
n=xB("<div></div>").css({position:"absolute",top:0,left:0,width:c.width,height:c.height,zIndex:2147483647,opacity:1e-4,cursor:v}).appendTo(r.body)
xB(r).on("mousemove touchmove",s).on("mouseup touchend",l)
e.start(t)}
var s=function(t){kB(t)
if(t.button!==o)return l(t)
t.deltaX=t.screenX-a
t.deltaY=t.screenY-i
t.preventDefault()
e.drag(t)}
var l=function(t){kB(t)
xB(r).off("mousemove touchmove",s).off("mouseup touchend",l)
n.remove()
e.stop&&e.stop(t)}
var v=function(){xB(u).off()}
xB(u).on("mousedown touchstart",c)
return{destroy:v}}var _B=0
var zB=function(t,e,n,r,o){var a
var i="tox-"
var u=i+"crid-"+_B++
var c=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}]
var s=["top","right","bottom","left"]
var l=function(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}}
var v=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}}
var f=function(){return v(n,t)}
var d=function(e,r,o,a){var i,u,c,s,l
i=r.x
u=r.y
c=r.w
s=r.h
i+=o*e.deltaX
u+=a*e.deltaY
c+=o*e.deltaW
s+=a*e.deltaH
c<20&&(c=20)
s<20&&(s=20)
l=t=wB.clamp({x:i,y:u,w:c,h:s},n,"move"===e.name)
l=v(n,l)
C.fire("updateRect",{rect:l})
y(l)}
var m=function(){var e=function(e){var n
return TB(u,{document:r.ownerDocument,handle:u+"-"+e.name,start:function(){n=t},drag:function(t){d(e,n,t.deltaX,t.deltaY)}})}
xB('<div id="'+u+'" class="'+i+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r)
IA.each(s,(function(t){xB("#"+u,r).append('<div id="'+u+"-"+t+'"class="'+i+'croprect-block" style="display: none" data-mce-bogus="all">')}))
IA.each(c,(function(t){xB("#"+u,r).append('<div id="'+u+"-"+t.name+'" class="'+i+"croprect-handle "+i+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')}))
a=IA.map(c,e)
h(t)
xB(r).on("focusin focusout",(function(t){xB(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")}))
xB(r).on("keydown",(function(e){var n
IA.each(c,(function(t){if(e.target.id===u+"-"+t.name){n=t
return false}}))
var r=function(t,e,r,o,a){t.stopPropagation()
t.preventDefault()
d(n,r,o,a)}
switch(e.keyCode){case SB.LEFT:r(e,n,t,-10,0)
break
case SB.RIGHT:r(e,n,t,10,0)
break
case SB.UP:r(e,n,t,0,-10)
break
case SB.DOWN:r(e,n,t,0,10)
break
case SB.ENTER:case SB.SPACEBAR:e.preventDefault()
o()}}))}
var g=function(t){var e=IA.map(c,(function(t){return"#"+u+"-"+t.name})).concat(IA.map(s,(function(t){return"#"+u+"-"+t}))).join(",")
t?xB(e,r).show():xB(e,r).hide()}
var h=function(t){var n=function(t,e){e.h<0&&(e.h=0)
e.w<0&&(e.w=0)
xB("#"+u+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}
IA.each(c,(function(e){xB("#"+u+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})}))
n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y})
n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h})
n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y})
n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h})
n("move",t)}
var p=function(e){t=e
h(t)}
var b=function(n){e=n
h(t)}
var y=function(t){p(l(n,t))}
var w=function(e){n=e
h(t)}
var x=function(){IA.each(a,(function(t){t.destroy()}))
a=[]}
m()
var C=IA.extend({toggleVisibility:g,setClampRect:w,setRect:p,getInnerRect:f,setInnerRect:y,setViewPortRect:b,destroy:x},CB)
return C}
var EB={create:zB}
var MB=function(t){return new Ox((function(e){var n=function(){t.removeEventListener("load",n)
e(t)}
t.complete?e(t):t.addEventListener("load",n)}))}
var DB=function(t){var e=Zw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}})
var n=Kn(1)
var r=Kn(H.none())
var o=Kn({x:0,y:0,w:1,h:1})
var a=Kn({x:0,y:0,w:1,h:1})
var i=function(t,a){m.getOpt(t).each((function(t){var i=n.get()
var u=Hc(t.element)
var c=Sc(t.element)
var s=a.dom.naturalWidth*i
var l=a.dom.naturalHeight*i
var v=Math.max(0,u/2-s/2)
var f=Math.max(0,c/2-l/2)
var d={left:v.toString()+"px",top:f.toString()+"px",width:s.toString()+"px",height:l.toString()+"px",position:"absolute"}
Yu(a,d)
e.getOpt(t).each((function(t){Yu(t.element,d)}))
r.get().each((function(t){var e=o.get()
t.setRect({x:e.x*i+v,y:e.y*i+f,w:e.w*i,h:e.h*i})
t.setClampRect({x:v,y:f,w:s,h:l})
t.setViewPortRect({x:0,y:0,w:u,h:c})}))}))}
var u=function(t,e){m.getOpt(t).each((function(t){var r=Hc(t.element)
var o=Sc(t.element)
var a=e.dom.naturalWidth
var i=e.dom.naturalHeight
var u=Math.min(r/a,o/i)
u>=1?n.set(1):n.set(u)}))}
var c=function(t,e){var n=er.fromTag("img")
Si(n,"src",e)
return MB(n.dom).then((function(){return m.getOpt(t).map((function(t){var e=pc({element:n})
xy.replaceAt(t,1,H.some(e))
var r=a.get()
var c={x:0,y:0,w:n.dom.naturalWidth,h:n.dom.naturalHeight}
a.set(c)
var s=wB.inflate(c,-20,-20)
o.set(s)
r.w===c.w&&r.h===c.h||u(t,n)
i(t,n)
return n}))}))}
var s=function(t,e){var r=n.get()
var o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1)
n.set(o)
m.getOpt(t).each((function(t){var e=t.components()[1].element
i(t,e)}))}
var l=function(){r.get().each((function(t){t.toggleVisibility(true)}))}
var v=function(){r.get().each((function(t){t.toggleVisibility(false)}))}
var f=function(){return o.get()}
var d=W_.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Nl([Sy("image-panel-crop-events",[Ma((function(t){m.getOpt(t).each((function(t){var e=t.element.dom
var a=EB.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,g)
a.toggleVisibility(false)
a.on("updateRect",(function(t){var e=t.rect
var r=n.get()
var a={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)}
o.set(a)}))
r.set(H.some(a))}))}))])])}],containerBehaviours:Nl([xy.config({}),Sy("image-panel-events",[Ma((function(e){c(e,t)}))])])})
var m=Zw(d)
var h=function(){var t=a.get()
return{width:t.w,height:t.h}}
return{memContainer:m,updateSrc:c,zoom:s,showCrop:l,hideCrop:v,getRect:f,getMeasurements:h}}
var AB=function(t,e,n,r,o){return PH({name:t,icon:H.some(e),disabled:n,tooltip:H.some(t),primary:false,borderless:false},r,o)}
var RB=function(t,e){e?KS.enable(t):KS.disable(t)}
var HB=function(t){var e=function(t,e,o){n.getOpt(t).each((function(t){RB(t,e)}))
r.getOpt(t).each((function(t){RB(t,o)}))}
var n=Zw(AB("Undo","undo",true,(function(t){va(t,mB.undo(),{direction:1})}),t))
var r=Zw(AB("Redo","redo",true,(function(t){va(t,mB.redo(),{direction:1})}),t))
var o=W_.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),AB("Zoom in","zoom-in",false,(function(t){va(t,mB.zoom(),{direction:1})}),t),AB("Zoom out","zoom-out",false,(function(t){va(t,mB.zoom(),{direction:-1})}),t)]})
return{container:o,updateButtonUndoStates:e}}
function BB(){var t=[]
var e=-1
var n=function(n){var r=t.splice(++e)
t.push(n)
return{state:n,removed:r}}
var r=function(){if(a())return t[--e]}
var o=function(){if(i())return t[++e]}
var a=function(){return e>0}
var i=function(){return-1!==e&&e<t.length-1}
return{data:t,add:n,undo:r,redo:o,canUndo:a,canRedo:i}}var IB=function(t){var e=Kn(t)
var n=Kn(H.none())
var r=BB()
r.add(t)
var o=function(){return e.get()}
var a=function(t){e.set(t)}
var i=function(){return n.get().fold((function(){return e.get()}),(function(t){return t}))}
var u=function(t){var e=c(t)
v()
n.set(H.some(e))
return e.url}
var c=function(t){return{blob:t,url:URL.createObjectURL(t)}}
var s=function(t){URL.revokeObjectURL(t.url)}
var l=function(t){IA.each(t,s)}
var v=function(){n.get().each(s)
n.set(H.none())}
var f=function(t){var e=c(t)
a(e)
var n=r.add(e).removed
l(n)
return e.url}
var d=function(t){var e=c(t)
n.set(H.some(e))
return e.url}
var m=function(t){return n.get().fold(g,(function(e){f(e.blob)
t()}))}
var h=function(){var t=r.undo()
a(t)
return t.url}
var p=function(){var t=r.redo()
a(t)
return t.url}
var b=function(){var t=r.canUndo()
var e=r.canRedo()
return{undoEnabled:t,redoEnabled:e}}
return{getBlobState:o,setBlobState:a,addBlobState:f,getTempState:i,updateTempState:u,addTempState:d,applyTempState:m,destroyTempState:v,undo:h,redo:p,getHistoryStates:b}}
var LB=function(t,e){var n=IB(t.currentState)
var r=function(t,e){var n=e.event.direction
O.zoom(t,n)}
var o=function(t){var e=n.getHistoryStates()
k.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled)
va(t,bB.formActionEvent,{name:bB.saveState(),value:e.undoEnabled})}
var a=function(t){k.updateButtonUndoStates(t,false,false)}
var i=function(t,e){var r=n.undo()
v(t,r).then((function(e){l(t)
o(t)}))}
var u=function(t,e){var r=n.redo()
v(t,r).then((function(e){l(t)
o(t)}))}
var c=function(t){return t.toBlob()}
var s=function(t){va(t,bB.formActionEvent,{name:bB.disable(),value:{}})}
var l=function(t){T.getApplyButton(t).each((function(t){KS.enable(t)}))
va(t,bB.formActionEvent,{name:bB.enable(),value:{}})}
var v=function(t,e){s(t)
return O.updateSrc(t,e)}
var f=function(t,e,n,r,a){s(t)
return OR(e).then(n).then(c).then(r).then((function(e){return v(t,e).then((function(e){o(t)
a()
l(t)
return e}))})).catch((function(e){console.log(e)
l(t)
return e}))}
var d=function(t,e,r){var o=n.getBlobState().blob
var a=function(t){return n.updateTempState(t)}
f(t,o,e,a,r)}
var m=function(t,e){var r=n.getTempState().blob
var o=function(t){return n.addTempState(t)}
f(t,r,e,o,g)}
var h=function(t,e,r){var o=n.getBlobState().blob
var a=function(e){var r=n.addBlobState(e)
b(t)
return r}
f(t,o,e,a,r)}
var p=function(t,e){var r=function(){b(t)
var n=e.event.swap
n()}
n.applyTempState(r)}
var b=function(t){var e=n.getBlobState().url
n.destroyTempState()
o(t)
return e}
var y=function(t){var e=b(t)
v(t,e).then((function(e){l(t)}))}
var w=function(t,e){y(t)
var n=e.event.swap
n()
O.hideCrop()}
var x=function(t,e){return d(t,e.event.transform,g)}
var C=function(t,e){return m(t,e.event.transform)}
var S=function(t,e){return h(t,e.event.transform,e.event.swap)}
var O=DB(t.currentState.url)
var k=HB(e)
var T=yB(O,e)
var _=function(t,e){a(t)
var n=e.event.transform
var r=e.event.swap
n.fold((function(){r()}),(function(e){d(t,e,r)}))}
return{dom:{tag:"div",attributes:{role:"presentation"}},components:[T.memContainer.asSpec(),O.memContainer.asSpec(),k.container],behaviours:Nl([Xm.config({store:{mode:"manual",getValue:function(){return n.getBlobState()}}}),Sy("image-tools-events",[wa(mB.undo(),i),wa(mB.redo(),u),wa(mB.zoom(),r),wa(mB.back(),w),wa(mB.apply(),p),wa(mB.transform(),x),wa(mB.tempTransform(),C),wa(mB.transformApply(),S),wa(mB.swap(),_)]),zA.self()])}}
var PB=function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}}
var r=W(t.items,e.interpreter)
return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Nl([zA.self(),xy.config({}),WA.domHtml(H.none()),vy.config({mode:"acyclic"})])}}
var NB=function(t){return!Vt(t,"items")}
var VB="data-value"
var FB=function(t,e,n,r){return W(n,(function(n){return NB(n)?{type:"togglemenuitem",text:n.text,value:n.value,active:n.value===r,onAction:function(){Xm.setValue(t,n.value)
va(t,cz,{name:e})
Ay.focus(t)}}:{type:"nestedmenuitem",text:n.text,getSubmenuItems:function(){return FB(t,e,n.items,r)}}}))}
var jB=function(t,e){return vt(t,(function(t){return NB(t)?dh(t.value===e,t):jB(t.items,e)}))}
var UB=function(t,e){var n=e.shared.providers
var r=ct(t.items).filter(NB)
var o=t.label.map((function(t){return uz(t,n)}))
var a=Y_.parts.field({dom:{},factory:{sketch:function(n){return CH({uid:n.uid,text:r.map((function(t){return t.text})),icon:H.none(),tooltip:t.label,role:H.none(),fetch:function(n,r){var o=FB(n,t.name,t.items,Xm.getValue(n))
r(AH(o,uC.CLOSE_ON_EXECUTE,e,false))},onSetup:y(g),getApi:y({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[tz.config({}),Xm.config({store:{mode:"manual",initialValue:r.map((function(t){return t.value})).getOr(""),getValue:function(t){return ki(t.element,VB)},setValue:function(e,n){jB(t.items,n).each((function(t){Si(e.element,VB,t.value)
va(e,wH,{text:t.text})}))}}})]},"tox-listbox",e.shared)}}})
var i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[a]}
return Y_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([o.toArray(),[i]]),fieldBehaviours:Nl([KS.config({disabled:y(t.disabled),onDisabled:function(t){Y_.getField(t).each(KS.disable)},onEnabled:function(t){Y_.getField(t).each(KS.enable)}})])})}
var WB=function(t,e){return{dom:{tag:"div",classes:t.classes},components:W(t.items,e.shared.interpreter)}}
var qB=function(t,e){var n=W(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}}))
var r=t.data.map((function(t){return se("initialValue",t)})).getOr({})
return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Jm(t.selectBehaviours,[Ay.config({}),Xm.config({store:_({mode:"manual",getValue:function(t){return ac(t.element)},setValue:function(e,n){var r=Z(t.options,(function(t){return t.value===n}))
r.isSome()&&ic(e.element,n)}},r)})])}}
var GB=ih({name:"HtmlSelect",configFields:[yn("options"),Km("selectBehaviours",[Ay,Xm]),Pn("selectClasses",[]),Pn("selectAttributes",{}),Mn("data")],factory:qB})
var $B=function(t,e){var n=W(t.items,(function(t){return{text:e.translate(t.text),value:t.value}}))
var r=t.label.map((function(t){return uz(t,e)}))
var o=Y_.parts.field({dom:{},selectAttributes:{size:t.size},options:n,factory:GB,selectBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),tz.config({}),Sy("selectbox-change",[wa(Ro(),(function(e,n){va(e,cz,{name:t.name})}))])])})
var a=t.size>1?H.none():H.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:tx("chevron-down",e.icons)}})
var i={dom:{tag:"div",classes:["tox-selectfield"]},components:tt([[o],a.toArray()])}
return Y_.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:tt([r.toArray(),[i]]),fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){Y_.getField(t).each(KS.disable)},onEnabled:function(t){Y_.getField(t).each(KS.enable)}}),UO()])})}
var XB=function(t,e){var n=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}}
var r=function(t){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:W(t,n)}]}}
var o=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}}
var a=function(t){return{dom:{tag:"tr"},components:W(t,o)}}
var i=function(t){return{dom:{tag:"tbody"},components:W(t,a)}}
return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[r(t.header),i(t.cells)],behaviours:Nl([tz.config({}),Ay.config({})])}}
var KB=function(t,e){var n=t.label.map((function(t){return uz(t,e)}))
var r=[KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),UO(),vy.config({mode:"execution",useEnter:true!==t.multiline,useControlEnter:true===t.multiline,execute:function(t){la(t,fz)
return H.some(true)}}),Sy("textfield-change",[wa(Ao(),(function(e,n){va(e,cz,{name:t.name})})),wa(Fo(),(function(e,n){va(e,cz,{name:t.name})}))]),tz.config({})]
var o=t.validation.map((function(t){return Gz.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-invalid",validator:{validate:function(e){var n=Xm.getValue(e)
var r=t.validator(n)
return Hz.pure(true===r?gt.value(n):gt.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray()
var a=t.placeholder.fold(y({}),(function(t){return{placeholder:e.translate(t)}}))
var i=t.inputMode.fold(y({}),(function(t){return{inputmode:t}}))
var u=_(_({},a),i)
var c=Y_.parts.field({tag:true===t.multiline?"textarea":"input",inputAttributes:u,inputClasses:[t.classname],inputBehaviours:Nl(tt([r,o])),selectOnFocus:false,factory:Sz})
var s=t.flex?["tox-form__group--stretched"]:[]
var l=s.concat(t.maximized?["tox-form-group--maximize"]:[])
var v=[KS.config({disabled:function(){return t.disabled||e.isDisabled()},onDisabled:function(t){Y_.getField(t).each(KS.disable)},onEnabled:function(t){Y_.getField(t).each(KS.enable)}}),UO()]
return nz(n,c,l,v)}
var YB=function(t,e){return KB({name:t.name,multiline:false,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:false,disabled:t.disabled,classname:"tox-textfield",validation:H.none(),maximized:t.maximized},e)}
var JB=function(t,e){return KB({name:t.name,multiline:true,label:t.label,inputMode:H.none(),placeholder:t.placeholder,flex:true,disabled:t.disabled,classname:"tox-textarea",validation:H.none(),maximized:t.maximized},e)}
var ZB=function(t,e){var n=t.stream.streams
var r=n.setup(t,e)
return ha([wa(t.event,r),Da((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[wa(t,(function(){return e.cancel()}))]})).getOr([])))}
var QB=Object.freeze({__proto__:null,events:ZB})
var tI=function(t){var e=Kn(null)
var n=function(){return{timer:null!==e.get()?"set":"unset"}}
var r=function(t){e.set(t)}
var o=function(){var t=e.get()
null!==t&&t.cancel()}
return ou({readState:n,setTimer:r,cancel:o})}
var eI=function(t){return t.stream.streams.state(t)}
var nI=Object.freeze({__proto__:null,throttle:tI,init:eI})
var rI=function(t,e){var n=t.stream
var r=cx(t.onStream,n.delay)
e.setTimer(r)
return function(t,e){r.throttle(t,e)
n.stopEvent&&e.stop()}}
var oI=[wn("stream",cn("mode",{throttle:[yn("delay"),Pn("stopEvent",true),Fs("streams",{setup:rI,state:tI})]})),Pn("event","input"),Mn("cancelEvent"),Ns("onStream")]
var aI=Fl({fields:oI,name:"streaming",active:QB,state:nI})
var iI=function(t,e,n){var r=Xm.getValue(n)
Xm.setValue(e,r)
cI(e)}
var uI=function(t,e){var n=t.element
var r=ac(n)
var o=n.dom
"number"!==ki(n,"type")&&e(o,r)}
var cI=function(t){uI(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))}
var sI=function(t,e){uI(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}
var lI=function(t,e,n){if(t.selectsOver){var r=Xm.getValue(e)
var o=t.getDisplayText(r)
var a=Xm.getValue(n)
var i=t.getDisplayText(a)
return 0===i.indexOf(o)?H.some((function(){iI(t,e,n)
sI(e,o.length)})):H.none()}return H.none()}
var vI=y("alloy.typeahead.itemexecute")
var fI=function(t,e,n,r){var o=function(e,n,o){t.previewing.set(false)
var a=Zz.getCoupled(e,"sandbox")
if(fm.isOpen(a))bh.getCurrent(a).each((function(t){Ph.getHighlighted(t).fold((function(){o(t)}),(function(){ga(a,t.element,"keydown",n)}))}))
else{var u=function(t){bh.getCurrent(t).each(o)}
aE(t,i(e),e,a,r,u,eE.HighlightFirst).get(g)}}
var a=yz(t)
var i=function(t){return function(e){return e.map((function(e){var n=Pt(e.menus)
var r=et(n,(function(t){return X(t.items,(function(t){return"item"===t.type}))}))
var o=Xm.getState(t)
o.update(W(r,(function(t){return t.data})))
return e}))}}
var u=[Ay.config({}),Xm.config({onSetValue:t.onSetValue,store:_({mode:"dataset",getDataKey:function(t){return ac(t.element)},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){ic(e.element,t.model.getDisplayText(n))}},t.initialData.map((function(t){return se("initialValue",t)})).getOr({}))}),aI.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:false},onStream:function(e,n){var o=Zz.getCoupled(e,"sandbox")
var a=Ay.isFocused(e)
if(a&&ac(e.element).length>=t.minChars){var u=bh.getCurrent(o).bind((function(t){return Ph.getHighlighted(t).map(Xm.getValue)}))
t.previewing.set(true)
var c=function(e){bh.getCurrent(o).each((function(e){u.fold((function(){t.model.selectsOver&&Ph.highlightFirst(e)}),(function(t){Ph.highlightBy(e,(function(e){var n=Xm.getValue(e)
return n.value===t.value}))
Ph.getHighlighted(e).orThunk((function(){Ph.highlightFirst(e)
return H.none()}))}))}))}
aE(t,i(e),e,o,r,c,eE.HighlightFirst).get(g)}},cancelEvent:Xo()}),vy.config({mode:"special",onDown:function(t,e){o(t,e,Ph.highlightFirst)
return H.some(true)},onEscape:function(t){var e=Zz.getCoupled(t,"sandbox")
if(fm.isOpen(e)){fm.close(e)
return H.some(true)}return H.none()},onUp:function(t,e){o(t,e,Ph.highlightLast)
return H.some(true)},onEnter:function(e){var n=Zz.getCoupled(e,"sandbox")
var r=fm.isOpen(n)
if(r&&!t.previewing.get())return bh.getCurrent(n).bind((function(t){return Ph.getHighlighted(t)})).map((function(t){va(e,vI(),{item:t})
return true}))
var o=Xm.getValue(e)
la(e,Xo())
t.onExecute(n,e,o)
r&&fm.close(n)
return H.some(true)}}),Jy.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Zz.config({others:{sandbox:function(e){return vE(t,e,{onOpen:function(){return Jy.on(e)},onClose:function(){return Jy.off(e)}})}}}),Sy("typeaheadevents",[Ra((function(e){var n=g
uE(t,i(e),e,r,n,eE.HighlightFirst).get(g)})),wa(vI(),(function(e,n){var r=Zz.getCoupled(e,"sandbox")
iI(t.model,e,n.event.item)
la(e,Xo())
t.onItemExecute(e,r,n.event.item,Xm.getValue(e))
fm.close(r)
cI(e)}))].concat(t.dismissOnBlur?[wa(Vo(),(function(t){var e=Zz.getCoupled(t,"sandbox")
Ql(e.element).isNone()&&fm.close(e)}))]:[]))]
return{uid:t.uid,dom:xz(Xt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:_(_({},a),Jm(t.typeaheadBehaviours,u)),eventOrder:t.eventOrder}}
var dI=y([Mn("lazySink"),yn("fetch"),Pn("minChars",5),Pn("responseTime",1e3),Ls("onOpen"),Pn("getHotspot",H.some),Pn("getAnchorOverrides",y({})),Pn("layouts",H.none()),Pn("eventOrder",{}),$n("model",{},[Pn("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Pn("selectsOver",true),Pn("populateFromBrowse",true)]),Ls("onSetValue"),Ps("onExecute"),Ls("onItemExecute"),Pn("inputClasses",[]),Pn("inputAttributes",{}),Pn("inputStyles",{}),Pn("matchWidth",true),Pn("useMinWidth",false),Pn("dismissOnBlur",true),Bs(["openClass"]),Mn("initialData"),Km("typeaheadBehaviours",[Ay,Xm,aI,vy,Jy,Zz]),Xn("previewing",(function(){return Kn(true)}))].concat(bz()).concat(dE()))
var mI=y([zg({schema:[Hs()],name:"menu",overrides:function(t){return{fakeFocus:true,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){lI(t.model,r,n).fold((function(){return Ph.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&iI(t.model,e,n)}))
t.previewing.set(false)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOptional().map((function(t){va(t,vI(),{item:n})
return true}))},onHover:function(e,n){t.previewing.set(false)
e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&iI(t.model,e,n)}))}}}})])
var gI=uh({name:"Typeahead",configFields:dI(),partFields:mI(),factory:fI})
var hI=function(t){var e=function(){return hI(t.toCached())}
var n=function(e){return hI(t.bind((function(t){return t.fold((function(t){return Hz.pure(gt.error(t))}),(function(t){return e(t)}))})))}
var r=function(e){return hI(t.map((function(t){return t.bind(e)})))}
var o=function(e){return hI(t.map((function(t){return t.map(e)})))}
var a=function(e){return hI(t.map((function(t){return t.mapError(e)})))}
var i=function(e,n){return t.map((function(t){return t.fold(e,n)}))}
var u=function(e,n){return hI(Hz.nu((function(r){var o=false
var a=setTimeout((function(){o=true
r(gt.error(n()))}),e)
t.get((function(t){if(!o){clearTimeout(a)
r(t)}}))})))}
return _(_({},t),{toCached:e,bindFuture:n,bindResult:r,mapResult:o,mapError:a,foldResult:i,withTimeout:u})}
var pI=function(t){return hI(Hz.nu(t))}
var bI=function(t){return hI(Hz.pure(gt.value(t)))}
var yI=function(t){return hI(Hz.pure(gt.error(t)))}
var wI=function(t){return hI(Hz.pure(t))}
var xI=function(t){return hI(t.map(gt.value))}
var CI=function(t){return pI((function(e){t.then((function(t){e(gt.value(t))}),(function(t){e(gt.error(t))}))}))}
var SI={nu:pI,wrap:hI,pure:bI,value:bI,error:yI,fromResult:wI,fromFuture:xI,fromPromise:CI}
var OI={type:"separator"}
var kI=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:g}}
var TI=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:g}}
var _I=function(t){return W(t,kI)}
var zI=function(t,e){return X(e,(function(e){return e.type===t}))}
var EI=function(t,e){return _I(zI(t,e))}
var MI=function(t){return EI("header",t.targets)}
var DI=function(t){return EI("anchor",t.targets)}
var AI=function(t){return H.from(t.anchorTop).map((function(t){return TI("<top>",t)})).toArray()}
var RI=function(t){return H.from(t.anchorBottom).map((function(t){return TI("<bottom>",t)})).toArray()}
var HI=function(t){return W(t,(function(t){return TI(t,t)}))}
var BI=function(t){return Y(t,(function(t,e){var n=0===t.length||0===e.length
return n?t.concat(e):t.concat(OI,e)}),[])}
var II=function(t,e){var n=t.toLowerCase()
return X(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text
return mr(e.toLowerCase(),n)||mr(t.value.toLowerCase(),n)}))}
var LI=function(t,e,n){var r=Xm.getValue(e)
var o=void 0!==r.meta.text?r.meta.text:r.value
var a=n.getLinkInformation()
return a.fold((function(){return[]}),(function(e){var r=II(o,HI(n.getHistory(t)))
return"file"===t?BI([r,II(o,MI(e)),II(o,tt([AI(e),DI(e),RI(e)]))]):r}))}
var PI=Li("aria-invalid")
var NI=function(t,e,n){var r
var o=e.shared.providers
var a=function(e){var r=Xm.getValue(e)
n.addToHistory(r.value,t.filetype)}
var i=Y_.parts.field({factory:gI,dismissOnBlur:true,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":PI,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=LI(t.filetype,r,n)
var a=AH(o,uC.BUBBLE_TO_SANDBOX,e,false)
return Hz.pure(a)},getHotspot:function(t){return d.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(Gz)&&Gz.run(t).get(g)},typeaheadBehaviours:Nl(tt([n.getValidationHandler().map((function(e){return Gz.config({getRoot:function(t){return qa(t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){s.getOpt(t).each((function(t){Si(t.element,"title",o.translate(e))}))}},validator:{validate:function(n){var r=Xm.getValue(n)
return SI.nu((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=gt.error(t.message)
n(e)}else{var r=gt.value(t.message)
n(r)}}))}))},validateOnLoad:false}})})).toArray(),[KS.config({disabled:function(){return t.disabled||o.isDisabled()}}),tz.config({}),Sy("urlinput-events",tt(["file"===t.filetype?[wa(Ao(),(function(e){va(e,cz,{name:t.name})}))]:[],[wa(Ro(),(function(e){va(e,cz,{name:t.name})
a(e)})),wa(Fo(),(function(e){va(e,cz,{name:t.name})
a(e)}))]]))]])),eventOrder:(r={},r[Ao()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(t){return t.value},selectsOver:false,populateFromBrowse:false},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:BC(false,1,"normal")},onExecute:function(t,e,n){va(e,fz,{})},onItemExecute:function(e,n,r,o){a(e)
va(e,cz,{name:t.name})}})
var u=t.label.map((function(t){return uz(t,o)}))
var c=function(t,e,n,r){void 0===n&&(n=t)
void 0===r&&(r=t)
return{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:tx(n,o.icons),attributes:_({title:o.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}}
var s=Zw(c("invalid",H.some(PI),"warning"))
var l=Zw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]})
var v=n.getUrlPicker(t.filetype)
var f=Li("browser.url.event")
var d=Zw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,l.asSpec()],behaviours:Nl([KS.config({disabled:function(){return t.disabled||o.isDisabled()}})])})
var m=Zw(VH({name:t.name,icon:H.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:false,borderless:true},(function(t){return la(t,f)}),o,[],["tox-browse-url"]))
var h=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:tt([[d.asSpec()],v.map((function(){return m.asSpec()})).toArray()])}}
var p=function(e){bh.getCurrent(e).each((function(n){var r=Xm.getValue(n)
var o=_({fieldname:t.name},r)
v.each((function(r){r(o).get((function(r){Xm.setValue(n,r)
va(e,cz,{name:t.name})}))}))}))}
return Y_.sketch({dom:az(),components:u.toArray().concat([h()]),fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||o.isDisabled()},onDisabled:function(t){Y_.getField(t).each(KS.disable)
m.getOpt(t).each(KS.disable)},onEnabled:function(t){Y_.getField(t).each(KS.enable)
m.getOpt(t).each(KS.enable)}}),UO(),Sy("url-input-events",[wa(f,p)])])})}
var VI=function(t,e){return W_.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:tx(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){va(e,vz,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}
var FI=function(t,e){var n=Xm.config({store:{mode:"manual",getValue:function(t){var e=t.element.dom
return e.checked},setValue:function(t,e){var n=t.element.dom
n.checked=e}}})
var r=function(t){t.element.dom.click()
return H.some(true)}
var o=Y_.parts.field({factory:{sketch:w},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Nl([zA.self(),KS.config({disabled:function(){return t.disabled||e.isDisabled()}}),tz.config({}),Ay.config({}),n,vy.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:true}),Sy("checkbox-events",[wa(Ro(),(function(e,n){va(e,cz,{name:t.name})}))])])})
var a=Y_.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Nl([xE.config({})])})
var i=function(t){var n="checked"===t?"selected":"unselected"
return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:tx(n,e.icons)}}}
var u=Zw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[i("checked"),i("unchecked")]})
return Y_.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),a],fieldBehaviours:Nl([KS.config({disabled:function(){return t.disabled||e.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){Y_.getField(t).each(KS.disable)},onEnabled:function(t){Y_.getField(t).each(KS.enable)}}),UO()])})}
var jI=function(t){return"presentation"===t.presets?W_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):W_.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Nl([tz.config({}),Ay.config({})])})}
var UI=function(t){return function(e,n,r){return Nt(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}}
var WI=function(t){return function(e,n,r){var o=Xt(n,{source:"dynamic"})
return UI(t)(e,o,r)}}
var qI={bar:UI((function(t,e){return G_(t,e.shared)})),collection:UI((function(t,e){return pz(t,e.shared.providers)})),alertbanner:UI((function(t,e){return VI(t,e.shared.providers)})),input:UI((function(t,e){return YB(t,e.shared.providers)})),textarea:UI((function(t,e){return JB(t,e.shared.providers)})),label:UI((function(t,e){return PB(t,e.shared)})),iframe:WI((function(t,e){return oR(t,e.shared.providers)})),button:UI((function(t,e){return qH(t,e.shared.providers)})),checkbox:UI((function(t,e){return FI(t,e.shared.providers)})),colorinput:UI((function(t,e){return TE(t,e.shared,e.colorinput)})),colorpicker:UI(AA),dropzone:UI((function(t,e){return $A(t,e.shared.providers)})),grid:UI((function(t,e){return XA(t,e.shared)})),listbox:UI((function(t,e){return UB(t,e)})),selectbox:UI((function(t,e){return $B(t,e.shared.providers)})),sizeinput:UI((function(t,e){return oB(t,e.shared.providers)})),urlinput:UI((function(t,e){return NI(t,e,e.urlinput)})),customeditor:UI(BA),htmlpanel:UI(jI),imagetools:UI((function(t,e){return LB(t,e.shared.providers)})),table:UI((function(t,e){return XB(t,e.shared.providers)})),panel:UI((function(t,e){return WB(t,e)}))}
var GI={field:function(t,e){return e}}
var $I=function(t,e,n){var r=Xt(n,{shared:{interpreter:function(e){return XI(t,e,r)}}})
return XI(t,e,r)}
var XI=function(t,e,n){return Nt(qI,e.type).fold((function(){console.error('Unknown factory type "'+e.type+'", defaulting to container: ',e)
return e}),(function(r){return r(t,e,n)}))}
var KI=function(t,e){var n=GI
return XI(n,t,e)}
var YI={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]}
var JI=function(t,e,n){var r=Rv(-12,12,YI)
var o={maxHeightFunction:zv()}
var a=function(){return{anchor:"node",root:ni(t()),node:H.from(t()),bubble:r,layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[qw]}},overrides:o}}
var i=function(){return{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[ml]},onLtr:function(){return[gl]}},overrides:o}}
return function(){return n()?a():i()}}
var ZI=function(t,e,n){var r=function(){return{anchor:"node",root:ni(t()),node:H.from(t()),layouts:{onRtl:function(){return[$w]},onLtr:function(){return[$w]}}}}
var o=function(){return{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[yl]},onLtr:function(){return[yl]}}}}
return function(){return n()?r():o()}}
var QI=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng()
return H.some(_f.range(er.fromDom(e.startContainer),e.startOffset,er.fromDom(e.endContainer),e.endOffset))}}}}
var tL=function(t){return function(e){return{anchor:"node",root:t(),node:e}}}
var eL=function(t,e,n){var r=OO(t)
var o=function(){return er.fromDom(t.getBody())}
var a=function(){return er.fromDom(t.getContentAreaContainer())}
var i=function(){return r||!n()}
return{inlineDialog:JI(a,e,i),banner:ZI(a,e,i),cursor:QI(t,o),node:tL(o)}}
var nL=function(t){return function(e,n){var r=ET(t)
r(e,n)}}
var rL=function(t){return function(){return vT(t)}}
var oL=function(t){return function(){return dT(t)}}
var aL=function(t){return function(){return xT(t)}}
var iL=function(t){return{colorPicker:nL(t),hasCustomColors:rL(t),getColors:oL(t),getColorCols:aL(t)}}
var uL=function(t){return function(){return zO(t)}}
var cL=function(t){return{isDraggableModal:uL(t)}}
var sL=function(t){var e=Kn(yO(t)?"bottom":"top")
return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}}
var lL=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}]
var vL=function(t){return Vt(t,"items")}
var fL=function(t){return Vt(t,"block")}
var dL=function(t){return Vt(t,"inline")}
var mL=function(t){return Vt(t,"selector")}
var gL=function(t){return Y(t,(function(t,e){if(vL(e)){var n=gL(e.items)
return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(dL(e)||fL(e)||mL(e)){var r=a(e.name)?e.name:e.title.toLowerCase()
var o="custom-"+r
return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return _(_({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})}
var hL=function(t,e){var n=gL(e)
var r=function(e){q(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))}
t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)}))
return n.formats}
var pL=function(t){return iO(t).map((function(e){var n=hL(t,e)
return uO(t)?lL.concat(n):n})).getOr(lL)}
var bL=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)}
return Xt(t,r)}
var yL=function(t,e,n,r){var o=function(t){return bL(t,n,r)}
var i=function(t){var e={type:"submenu"}
return Xt(t,e)}
var u=function(e){var o=a(e.name)?e.name:Li(e.title)
var i="custom-"+o
var u={type:"formatter",format:i,isSelected:n(i),getStylePreview:r(i)}
var c=Xt(e,u)
t.formatter.register(o,c)
return c}
var c=function(t){return W(t,(function(t){var e=zt(t)
if(Ft(t,"items")){var n=c(t.items)
return Xt(i(t),{getStyleItems:function(){return n}})}return Ft(t,"format")?o(t):1===e.length&&V(e,"title")?Xt(t,{type:"separator"}):u(t)}))}
return c(e)}
var wL=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?H.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):H.none()}}
var r=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,r):[t.format]}
var o=Kn([])
var a=Kn([])
var i=Kn([])
var u=Kn([])
var c=Kn(false)
t.on("PreInit",(function(i){var u=pL(t)
var c=yL(t,u,e,n)
o.set(c)
a.set(et(c,r))}))
t.on("addStyleModifications",(function(o){var a=yL(t,o.items,e,n)
i.set(a)
c.set(o.replace)
u.set(et(a,r))}))
var s=function(){var t=c.get()?[]:o.get()
var e=i.get()
return t.concat(e)}
var l=function(){var t=c.get()?[]:a.get()
var e=u.get()
return t.concat(e)}
return{getData:s,getFlattenedKeys:l}}
var xL=function(t){return v(t)&&1===t.nodeType}
var CL=IA.trim
var SL=function(t){return function(e){if(xL(e)){if(e.contentEditable===t)return true
if(e.getAttribute("data-mce-contenteditable")===t)return true}return false}}
var OL=SL("true")
var kL=SL("false")
var TL=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}}
var _L=function(t){while(t=t.parentNode){var e=t.contentEditable
if(e&&"inherit"!==e)return OL(t)}return false}
var zL=function(t,e){return W(Yf(er.fromDom(e),t),(function(t){return t.dom}))}
var EL=function(t){return t.innerText||t.textContent}
var ML=function(t){return t.id?t.id:Li("h")}
var DL=function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}
var AL=function(t){return DL(t)&&HL(t)}
var RL=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)}
var HL=function(t){return _L(t)&&!kL(t)}
var BL=function(t){return RL(t)&&HL(t)}
var IL=function(t){return RL(t)?parseInt(t.nodeName.substr(1),10):0}
var LL=function(t){var e=ML(t)
var n=function(){t.id=e}
return TL("header",EL(t),"#"+e,IL(t),n)}
var PL=function(t){var e=t.id||t.name
var n=EL(t)
return TL("anchor",n||"#"+e,"#"+e,0,g)}
var NL=function(t){return W(X(t,BL),LL)}
var VL=function(t){return W(X(t,AL),PL)}
var FL=function(t){var e=zL("h1,h2,h3,h4,h5,h6,a:not([href])",t)
return e}
var jL=function(t){return CL(t.title).length>0}
var UL=function(t){var e=FL(t)
return X(NL(e).concat(VL(e)),jL)}
var WL={find:UL}
var qL="tinymce-url-history"
var GL=5
var $L=function(t){return a(t)&&/^https?/.test(t)}
var XL=function(t){return u(t)&&t.length<=GL&&nt(t,$L)}
var KL=function(t){return i(t)&&Lt(t,(function(t){return!XL(t)})).isNone()}
var YL=function(){var t=rT.getItem(qL)
if(null===t)return{}
var e
try{e=JSON.parse(t)}catch(t){if(t instanceof SyntaxError){console.log("Local storage "+qL+" was not valid JSON",t)
return{}}throw t}if(!KL(e)){console.log("Local storage "+qL+" was not valid format",e)
return{}}return e}
var JL=function(t){if(!KL(t))throw new Error("Bad format for history:\n"+JSON.stringify(t))
rT.setItem(qL,JSON.stringify(t))}
var ZL=function(t){var e=YL()
return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]}
var QL=function(t,e){if(!$L(t))return
var n=YL()
var r=Object.prototype.hasOwnProperty.call(n,e)?n[e]:[]
var o=X(r,(function(e){return e!==t}))
n[e]=[t].concat(o).slice(0,GL)
JL(n)}
var tP=function(t){return!!t}
var eP=function(t){return Dt(IA.makeMap(t,/[, ]/),tP)}
var nP=function(t){return H.from(AO(t)).filter(f)}
var rP=function(t){var e=H.some(RO(t)).filter(tP)
var n=H.some(HO(t)).filter(tP)
var r=e.or(n).map(eP)
return nP(t).fold(O,(function(t){return r.fold(k,(function(t){return zt(t).length>0&&t}))}))}
var oP=function(t,e){var n=rP(t)
return c(n)?n?nP(t):H.none():n[e]?nP(t):H.none()}
var aP=function(t,e){return oP(t,e).map((function(n){return function(r){return Hz.nu((function(o){var u=function(t,e){if(!a(t))throw new Error("Expected value to be string")
if(void 0!==e&&!i(e))throw new Error("Expected meta to be a object")
var n={value:t,meta:e}
o(n)}
var c=_({filetype:e,fieldname:r.fieldname},H.from(r.meta).getOr({}))
n.call(t,u,r.value,c)}))}}))}
var iP=function(t){return H.from(t).filter(a).getOrUndefined()}
var uP=function(t){if(BO(t))return H.none()
return H.some({targets:WL.find(t.getBody()),anchorTop:iP(IO(t)),anchorBottom:iP(LO(t))})}
var cP=function(t){return H.from(PO(t))}
var sP=function(t){return{getHistory:ZL,addToHistory:QL,getLinkInformation:function(){return uP(t)},getValidationHandler:function(){return cP(t)},getUrlPicker:function(e){return aP(t,e)}}}
var lP=function(t,e,n){var r=Kn(false)
var o=sL(e)
var a={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:MS.translate,isDisabled:function(){return e.mode.isReadOnly()||e.ui.isDisabled()},getSetting:e.getParam.bind(e)},interpreter:function(t){return KI(t,a)},anchors:eL(e,n,o.isPositionedAtTop),header:o,getSink:function(){return gt.value(t)}},urlinput:sP(e),styleselect:wL(e),colorinput:iL(e),dialog:cL(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}}
return a}
var vP=y((function(t,e){Ic(t,Math.floor(e))}))
var fP="contexttoolbar-show"
var dP="contexttoolbar-hide"
var mP=y([yn("dom"),Pn("shell",true),Km("toolbarBehaviours",[xy])])
var gP=function(){return{behaviours:Nl([xy.config({})])}}
var hP=y([Eg({name:"groups",overrides:gP})])
var pP=function(t,e,n,r){var o=function(t,e){a(t).fold((function(){console.error("Toolbar was defined to not be a shell, but no groups container was specified in components")
throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){xy.set(t,e)}))}
var a=function(e){return t.shell?H.some(e):jg(e,t,"groups")}
var i=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
return{uid:t.uid,dom:t.dom,components:i.components,behaviours:Jm(t.toolbarBehaviours,i.behaviours),apis:{setGroups:o},domModification:{attributes:{role:"group"}}}}
var bP=uh({name:"Toolbar",configFields:mP(),partFields:hP(),factory:pP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}})
var yP=function(t,e){var n={len:0,list:[]}
var r=Y(t,(function(t,n){var r=e(n,t.len)
return r.fold(y(t),(function(e){return{len:e.finish,list:t.list.concat([e])}}))}),n)
return r.list}
var wP=function(t,e,n){return{within:t,extra:e,withinWidth:n}}
var xP=function(t,e,n){var r=yP(t,(function(t,e){var r=n(t)
return H.some({element:t,start:e,finish:e+r,width:r})}))
var o=X(r,(function(t){return t.finish<=e}))
var a=K(o,(function(t,e){return t+e.width}),0)
var i=r.slice(o.length)
return{within:o,extra:i,withinWidth:a}}
var CP=function(t){return W(t,(function(t){return t.element}))}
var SP=function(t,e,n){var r=CP(t.concat(e))
return wP(r,[],n)}
var OP=function(t,e,n,r){var o=CP(t).concat([n])
return wP(o,CP(e),r)}
var kP=function(t,e,n){return wP(CP(t),[],n)}
var TP=function(t,e,n){var r=xP(e,t,n)
return 0===r.extra.length?H.some(r):H.none()}
var _P=function(t,e,n,r){var o=TP(t,e,n).getOrThunk((function(){return xP(e,t-n(r),n)}))
var a=o.within
var i=o.extra
var u=o.withinWidth
return 1===i.length&&i[0].width<=n(r)?SP(a,i,u):i.length>=1?OP(a,i,r,u):kP(a,i,u)}
var zP=function(t,e){var n=W(e,(function(t){return wc(t)}))
bP.setGroups(t,n)}
var EP=function(t){return vt(t,(function(t){return Ql(t.element).bind((function(e){return t.getSystem().getByDom(e).toOptional()}))}))}
var MP=function(t,e,n){var r=Ug(t,e,"primary")
var o=Zz.getCoupled(t,"overflowGroup")
Ku(r.element,"visibility","hidden")
var a=e.builtGroups.get().concat([o])
var i=EP(a)
n([])
zP(r,a)
var u=Hc(r.element)
var c=_P(u,e.builtGroups.get(),(function(t){return Hc(t.element)}),o)
if(0===c.extra.length){xy.remove(r,o)
n([])}else{zP(r,c.within)
n(c.extra)}rc(r.element,"visibility")
oc(r.element)
i.each(Ay.focus)}
var DP=y([Km("splitToolbarBehaviours",[Zz]),Xn("builtGroups",(function(){return Kn([])}))])
var AP=y([Bs(["overflowToggledClass"]),Hn("getOverflowBounds"),yn("lazySink"),Xn("overflowGroups",(function(){return Kn([])}))].concat(DP()))
var RP=y([_g({factory:bP,schema:mP(),name:"primary"}),zg({schema:mP(),name:"overflow"}),zg({name:"overflow-button"}),zg({name:"overflow-group"})])
var HP=y([Bs(["toggledClass"]),yn("lazySink"),kn("fetch"),Hn("getBounds"),In("fireDismissalEventInstead",[Pn("event",na())]),Fv()])
var BP=y([zg({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Nl([Jy.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:false})])}}}),zg({factory:bP,schema:mP(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Nl([vy.config({mode:"cyclic",onEscape:function(e){jg(e,t,"button").each(Ay.focus)
return H.none()}})])}}})])
var IP=function(t,e){var n=Zz.getCoupled(t,"toolbarSandbox")
fm.isOpen(n)?fm.close(n):fm.open(n,e.toolbar())}
var LP=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()}))
var a=n.lazySink(t).getOrDie()
Ad.positionWithinBounds(a,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:vP()}},e,o)}
var PP=function(t,e,n,r,o){bP.setGroups(e,o)
LP(t,e,n,r)
Jy.on(t)}
var NP=function(t,e,n){var r=hs()
var o=function(o,a){n.fetch().get((function(o){PP(t,a,n,e.layouts,o)
r.link(t.element)
vy.focusIn(a)}))}
var a=function(){Jy.off(t)
Ay.focus(t)
r.unlink(t.element)}
return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Nl([vy.config({mode:"special",onEscape:function(t){fm.close(t)
return H.some(true)}}),fm.config({onOpen:o,onClose:a,isPartOf:function(e,n,r){return bs(n,r)||bs(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),ql.config({channels:_(_({},pm(_({isExtraPart:O},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),ym({doReposition:function(){fm.getState(Zz.getCoupled(t,"toolbarSandbox")).each((function(r){LP(t,r,n,e.layouts)}))}}))})])}}
var VP=function(t,e,n,r){return _(_({},Jw.sketch(_(_({},r.button()),{action:function(t){IP(t,r)},buttonBehaviours:Zm.augment({dump:r.button().buttonBehaviours},[Zz.config({others:{toolbarSandbox:function(e){return NP(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){fm.getState(Zz.getCoupled(e,"toolbarSandbox")).each((function(o){PP(e,o,t,n.layouts,r)}))},reposition:function(e){fm.getState(Zz.getCoupled(e,"toolbarSandbox")).each((function(r){LP(e,r,t,n.layouts)}))},toggle:function(t){IP(t,r)},getToolbar:function(t){return fm.getState(Zz.getCoupled(t,"toolbarSandbox"))},isOpen:function(t){return fm.isOpen(Zz.getCoupled(t,"toolbarSandbox"))}}})}
var FP=uh({name:"FloatingToolbarButton",factory:VP,configFields:HP(),partFields:BP(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var jP=y([yn("items"),Bs(["itemSelector"]),Km("tgroupBehaviours",[vy])])
var UP=y([Mg({name:"items",unit:"item"})])
var WP=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.tgroupBehaviours,[vy.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}
var qP=uh({name:"ToolbarGroup",configFields:jP(),partFields:UP(),factory:WP})
var GP=function(t){return W(t,(function(t){return wc(t)}))}
var $P=function(t,e,n){MP(t,n,(function(r){n.overflowGroups.set(r)
e.getOpt(t).each((function(t){FP.setGroups(t,GP(r))}))}))}
var XP=function(t,e,n,r){var o=Zw(FP.sketch({fetch:function(){return Hz.nu((function(e){e(GP(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[gl,ml]},onRtl:function(){return[ml,gl]},onBottomLtr:function(){return[pl,hl]},onBottomRtl:function(){return[hl,pl]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}))
return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.splitToolbarBehaviours,[Zz.config({others:{overflowGroup:function(){return qP.sketch(_(_({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(W(n,e.getSystem().build))
$P(e,o,t)},refresh:function(e){return $P(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){FP.toggle(t)}))},isOpen:function(t){return o.getOpt(t).map(FP.isOpen).getOr(false)},reposition:function(t){o.getOpt(t).each((function(t){FP.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind(FP.getToolbar)}},domModification:{attributes:{role:"group"}}}}
var KP=uh({name:"SplitFloatingToolbar",configFields:AP(),partFields:RP(),factory:XP,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)},getOverflow:function(t,e){return t.getOverflow(e)}}})
var YP=function(t,e){return e.getAnimationRoot.fold((function(){return t.element}),(function(e){return e(t)}))}
var JP=function(t){return t.dimension.property}
var ZP=function(t,e){return t.dimension.getDimension(e)}
var QP=function(t,e){var n=YP(t,e)
ju(n,[e.shrinkingClass,e.growingClass])}
var tN=function(t,e){Nu(t.element,e.openClass)
Lu(t.element,e.closedClass)
Ku(t.element,JP(e),"0px")
oc(t.element)}
var eN=function(t,e){Nu(t.element,e.closedClass)
Lu(t.element,e.openClass)
rc(t.element,JP(e))}
var nN=function(t,e,n,r){n.setCollapsed()
Ku(t.element,JP(e),ZP(e,t.element))
oc(t.element)
QP(t,e)
tN(t,e)
e.onStartShrink(t)
e.onShrunk(t)}
var rN=function(t,e,n,r){var o=r.getOrThunk((function(){return ZP(e,t.element)}))
n.setCollapsed()
Ku(t.element,JP(e),o)
oc(t.element)
var a=YP(t,e)
Nu(a,e.growingClass)
Lu(a,e.shrinkingClass)
tN(t,e)
e.onStartShrink(t)}
var oN=function(t,e,n){var r=ZP(e,t.element)
var o="0px"===r?nN:rN
o(t,e,n,H.some(r))}
var aN=function(t,e,n){var r=YP(t,e)
var o=Vu(r,e.shrinkingClass)
var a=ZP(e,t.element)
eN(t,e)
var i=ZP(e,t.element)
var u=function(){Ku(t.element,JP(e),a)
oc(t.element)}
var c=function(){tN(t,e)}
var s=o?u:c
s()
Nu(r,e.shrinkingClass)
Lu(r,e.growingClass)
eN(t,e)
Ku(t.element,JP(e),i)
n.setExpanded()
e.onStartGrow(t)}
var iN=function(t,e,n){if(n.isExpanded()){rc(t.element,JP(e))
var r=ZP(e,t.element)
Ku(t.element,JP(e),r)}}
var uN=function(t,e,n){n.isExpanded()||aN(t,e,n)}
var cN=function(t,e,n){n.isExpanded()&&oN(t,e,n)}
var sN=function(t,e,n){n.isExpanded()&&nN(t,e,n,H.none())}
var lN=function(t,e,n){return n.isExpanded()}
var vN=function(t,e,n){return n.isCollapsed()}
var fN=function(t,e,n){var r=YP(t,e)
return true===Vu(r,e.growingClass)}
var dN=function(t,e,n){var r=YP(t,e)
return true===Vu(r,e.shrinkingClass)}
var mN=function(t,e,n){return fN(t,e)||dN(t,e)}
var gN=function(t,e,n){var r=n.isExpanded()?oN:aN
r(t,e,n)}
var hN=Object.freeze({__proto__:null,refresh:iN,grow:uN,shrink:cN,immediateShrink:sN,hasGrown:lN,hasShrunk:vN,isGrowing:fN,isShrinking:dN,isTransitioning:mN,toggleGrow:gN,disableTransitions:QP})
var pN=function(t,e,n){var r=e.expanded
return su(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:se(e.dimension.property,"0px")})}
var bN=function(t,e){return ha([Ea(Bo(),(function(n,r){var o=r.event.raw
if(o.propertyName===t.dimension.property){QP(n,t)
e.isExpanded()&&rc(n.element,t.dimension.property)
var a=e.isExpanded()?t.onGrown:t.onShrunk
a(n)}}))])}
var yN=Object.freeze({__proto__:null,exhibit:pN,events:bN})
var wN=[yn("closedClass"),yn("openClass"),yn("shrinkingClass"),yn("growingClass"),Mn("getAnimationRoot"),Ls("onShrunk"),Ls("onStartShrink"),Ls("onGrown"),Ls("onStartGrow"),Pn("expanded",false),wn("dimension",cn("property",{width:[Fs("property","width"),Fs("getDimension",(function(t){return Hc(t)+"px"}))],height:[Fs("property","height"),Fs("getDimension",(function(t){return Sc(t)+"px"}))]}))]
var xN=function(t){var e=Kn(t.expanded)
var n=function(){return"expanded: "+e.get()}
return ou({isExpanded:function(){return true===e.get()},isCollapsed:function(){return false===e.get()},setCollapsed:x(e.set,false),setExpanded:x(e.set,true),readState:n})}
var CN=Object.freeze({__proto__:null,init:xN})
var SN=Fl({fields:wN,name:"sliding",active:yN,apis:hN,state:CN})
var ON=y([Bs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ls("onOpened"),Ls("onClosed")].concat(DP()))
var kN=y([_g({factory:bP,schema:mP(),name:"primary"}),_g({factory:bP,schema:mP(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Nl([SN.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){jg(e,t,"overflow-button").each((function(t){Jy.off(t)
Ay.focus(t)}))
t.onClosed(e)},onGrown:function(e){vy.focusIn(e)
t.onOpened(e)},onStartGrow:function(e){jg(e,t,"overflow-button").each(Jy.on)}}),vy.config({mode:"acyclic",onEscape:function(e){jg(e,t,"overflow-button").each(Ay.focus)
return H.some(true)}})])}}}),zg({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Nl([Jy.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:false})])}}}),zg({name:"overflow-group"})])
var TN=function(t,e){return jg(t,e,"overflow").map(SN.hasGrown).getOr(false)}
var _N=function(t,e){jg(t,e,"overflow-button").bind((function(){return jg(t,e,"overflow")})).each((function(n){zN(t,e)
SN.toggleGrow(n)}))}
var zN=function(t,e){jg(t,e,"overflow").each((function(n){MP(t,e,(function(t){var e=W(t,(function(t){return wc(t)}))
bP.setGroups(n,e)}))
jg(t,e,"overflow-button").each((function(t){SN.hasGrown(n)&&Jy.on(t)}))
SN.refresh(n)}))}
var EN=function(t,e,n,r){var o="alloy.toolbar.toggle"
var a=function(e,n){var r=W(n,e.getSystem().build)
t.builtGroups.set(r)}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Jm(t.splitToolbarBehaviours,[Zz.config({others:{overflowGroup:function(t){return qP.sketch(_(_({},r["overflow-group"]()),{items:[Jw.sketch(_(_({},r["overflow-button"]()),{action:function(e){la(t,o)}}))]}))}}}),Sy("toolbar-toggle-events",[wa(o,(function(e){_N(e,t)}))])]),apis:{setGroups:function(e,n){a(e,n)
zN(e,t)},refresh:function(e){return zN(e,t)},toggle:function(e){return _N(e,t)},isOpen:function(e){return TN(e,t)}},domModification:{attributes:{role:"group"}}}}
var MN=uh({name:"SplitSlidingToolbar",configFields:ON(),partFields:kN(),factory:EN,apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)},isOpen:function(t,e){return t.isOpen(e)}}})
var DN=y(Li("toolbar-height-change"))
var AN=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}))
return{dom:_({tag:"div",classes:["tox-toolbar__group"]},e),components:[qP.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Nl([tz.config({}),Ay.config({})])}}
var RN=function(t){return qP.sketch(AN(t))}
var HN=function(t,e){var n=Ma((function(e){var n=W(t.initGroups,RN)
bP.setGroups(e,n)}))
return Nl([XO.toolbarButton(t.providers.isDisabled),UO(),vy.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Sy("toolbar-events",[n])])}
var BN=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":AN({title:H.none(),items:[]}),"overflow-button":LH({name:"more",icon:H.some("more-drawer"),disabled:false,tooltip:H.some("More..."),primary:false,borderless:false},H.none(),t.providers)},splitToolbarBehaviours:HN(t,e)}}
var IN=function(t){var e=BN(t)
var n=4
var r=KP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
return KP.sketch(_(_({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element
var r=as(e)
var o=Ua(e)
var a=as(o)
var i=Math.max(o.dom.scrollHeight,a.height)
return rs(r.x+n,a.y,r.width-2*n,i)},parts:_(_({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[r],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}
var LN=function(t){var e=MN.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}})
var n=MN.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}})
var r=BN(t)
return MN.sketch(_(_({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([DN()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([DN()],{type:"closed"})}}))}
var PN=function(t){var e=t.cyclicKeying?"cyclic":"acyclic"
return bP.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===mO.scrolling?["tox-toolbar--scrolling"]:[])},components:[bP.parts.groups({})],toolbarBehaviours:HN(t,e)})}
var NN=Pe([Cn("type"),wn("items",Ve([Ye([Cn("name"),En("items",dn)]),dn]))].concat(jx))
var VN=function(t){return nn("GroupToolbarButton",NN,t)}
var FN=[Rn("text"),Rn("tooltip"),Rn("icon"),kn("fetch"),Wn("onSetup",(function(){return g}))]
var jN=Pe(E([Cn("type")],FN))
var UN=function(t){return nn("menubutton",jN,t)}
var WN=Pe([Cn("type"),Rn("tooltip"),Rn("icon"),Rn("text"),Hn("select"),kn("fetch"),Wn("onSetup",(function(){return g})),jn("presets","normal",["normal","color","listpreview"]),Pn("columns",1),kn("onAction"),kn("onItemAction")])
var qN=function(t){return nn("SplitButton",WN,t)}
var GN=function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r)
e.set(o)}))
t.renderComponents.each((function(t){var o=t(r,e.get())
var a=W(o,n.getSystem().build)
Ld(n,a)}))}
return ha([wa(jo(),(function(e,r){var o=r
if(!o.universal){var a=t.channel
V(o.channels,a)&&n(e,o.data)}})),Ma((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}
var $N=Object.freeze({__proto__:null,events:GN})
var XN=function(t,e,n){return n}
var KN=Object.freeze({__proto__:null,getState:XN})
var YN=[yn("channel"),Mn("renderComponents"),Mn("updateState"),Mn("initialData")]
var JN=function(){var t=Kn(H.none())
var e=function(e){return t.set(e)}
var n=function(){return t.set(H.none())}
var r=function(){return t.get()}
var o=function(){return t.get().fold((function(){return"none"}),(function(t){return t}))}
return{readState:o,get:r,set:e,clear:n}}
var ZN=Object.freeze({__proto__:null,init:JN})
var QN=Fl({fields:YN,name:"reflecting",active:$N,apis:KN,state:ZN})
var tV=y([yn("toggleClass"),yn("fetch"),Ns("onExecute"),Pn("getHotspot",H.some),Pn("getAnchorOverrides",y({})),Fv(),Ns("onItemExecute"),Mn("lazySink"),yn("dom"),Ls("onOpen"),Km("splitDropdownBehaviours",[Zz,vy,Ay]),Pn("matchWidth",false),Pn("useMinWidth",false),Pn("eventOrder",{}),Mn("role")].concat(dE()))
var eV=_g({factory:Jw,schema:[yn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Nl([Ay.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(fa)},buttonBehaviours:Nl([Jy.config({toggleOnExecute:false,toggleClass:t.toggleClass})])}}})
var nV=_g({factory:Jw,schema:[yn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Nl([Ay.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}})
var rV=y([eV,nV,Eg({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[yn("text")],name:"aria-descriptor"}),zg({schema:[Hs()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),tE()])
var oV=function(t,e,n,r){var o
var a=function(t){bh.getCurrent(t).each((function(t){Ph.highlightFirst(t)
vy.focusIn(t)}))}
var i=function(e){var n=a
uE(t,(function(t){return t}),e,r,n,eE.HighlightFirst).get(g)}
var u=function(t){i(t)
return H.some(true)}
var c=function(e){var n=Ug(e,t,"button")
fa(n)
return H.some(true)}
var s=_(_({},ha([Ma((function(e,n){var r=jg(e,t,"aria-descriptor")
r.each((function(t){var n=Li("aria")
Si(t.element,"id",n)
Si(e.element,"aria-describedby",n)}))}))])),Qy(H.some(i)))
var l={repositionMenus:function(t){Jy.isOn(t)&&fE(t)}}
return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:_(_({},t.eventOrder),(o={},o[Uo()]=["disabling","toggling","alloy.base.behaviour"],o)),events:s,behaviours:Jm(t.splitDropdownBehaviours,[Zz.config({others:{sandbox:function(e){var n=Ug(e,t,"arrow")
var r={onOpen:function(){Jy.on(n)
Jy.on(e)},onClose:function(){Jy.off(n)
Jy.off(e)}}
return vE(t,e,r)}}}),vy.config({mode:"special",onSpace:c,onEnter:c,onDown:u}),Ay.config({}),Jy.config({toggleOnExecute:false,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":true}}}}
var aV=uh({name:"SplitDropdown",configFields:tV(),partFields:rV(),factory:oV,apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}})
var iV=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var uV=function(t){return{setActive:function(e){Jy.set(t,e)},isActive:function(){return Jy.isOn(t)},isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)}}}
var cV=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})}
var sV=Li("focus-button")
var lV=["checklist","ordered-list"]
var vV=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"]
var fV=function(t,e,n,r,o,a){var i
var u=function(t){return MS.isRtl()&&V(lV,t)?t+"-rtl":t}
var c=MS.isRtl()&&t.exists((function(t){return V(vV,t)}))
return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(c?["tox-tbtn__icon-rtl"]:[]),attributes:cV(n,a)},components:ek([t.map((function(t){return dH(u(t),a.icons)})),e.map((function(t){return gH(t,"tox-tbtn",a)}))]),eventOrder:(i={},i[So()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Nl([XO.toolbarButton(a.isDisabled),UO(),Sy("common-button-display-events",[wa(So(),(function(t,e){e.event.prevent()
la(t,sV)}))])].concat(r.map((function(n){return QN.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return ek([t.icon.map((function(t){return dH(u(t),a.icons)})),t.text.map((function(t){return gH(t,"tox-tbtn",a)}))])}})})).toArray()).concat(o.getOr([])))}}
var dV=function(t,e,n,r){var o=e.shared
return FP.sketch({lazySink:o.getSink,fetch:function(){return Hz.nu((function(e){e(W(n(t.items),RN))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:fV(t.icon,t.text,t.tooltip,H.none(),H.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}
var mV=function(t,e,n){var r=Kn(g)
var o=fV(t.icon,t.text,t.tooltip,H.none(),H.none(),n)
return Jw.sketch({dom:o.dom,components:o.components,eventOrder:yH,buttonBehaviours:Nl([Sy("toolbar-button-events",[bH({onAction:t.onAction,getApi:e.getApi}),YO(e,r),JO(e,r)]),XO.toolbarButton((function(){return t.disabled||n.isDisabled()})),UO()].concat(e.toolbarButtonBehaviours))})}
var gV=function(t,e){return hV(t,e,[])}
var hV=function(t,e,n){return mV(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Sy("toolbarButtonWith",n)]:[]),getApi:iV,onSetup:t.onSetup},e)}
var pV=function(t,e){return bV(t,e,[])}
var bV=function(t,e,n){return Xt(mV(t,{toolbarButtonBehaviours:[xy.config({}),Jy.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:false})].concat(n.length>0?[Sy("toolbarToggleButtonWith",n)]:[]),getApi:uV,onSetup:t.onSetup},e))}
var yV=function(t,e,n){return function(r){return Hz.nu((function(t){return e.fetch(t)})).map((function(o){return H.from(c_(Xt(DT(Li("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,uC.CLOSE_ON_EXECUTE,e.select.getOr(O),n),{movement:RT(e.columns,e.presets),menuBehaviours:gS.unnamedEvents("auto"!==e.columns?[]:[Ma((function(t,n){fS(t,4,EC(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns
vy.setGridSize(t,n,r)}))}))])})))}))}}
var wV=function(t,e){var n
var r=Li("channel-update-split-dropdown-display")
var o=function(t){return{isDisabled:function(){return KS.isDisabled(t)},setDisabled:function(e){return KS.set(t,e)},setIconFill:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Si(t,"fill",n)}))},setIconStroke:function(e,n){ds(t.element,'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Si(t,"stroke",n)}))},setActive:function(e){if(t.getSystem().isConnected()){Si(t.element,"aria-pressed",e)
ds(t.element,"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Jy.set(t,e)}))}))}},isActive:function(){return ds(t.element,"span").exists((function(e){return!!t.getSystem().isConnected()&&t.getSystem().getByDom(e).exists(Jy.isOn)}))}}}
var a=Kn(g)
var i={getApi:o,onSetup:t.onSetup}
return aV.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:_({"aria-pressed":false},cV(t.tooltip,e.providers))},onExecute:function(e){t.onAction(o(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Nl([XO.splitButton(e.providers.isDisabled),UO(),Sy("split-dropdown-events",[wa(sV,Ay.focus),YO(i,a),JO(i,a)]),xE.config({})]),eventOrder:(n={},n[ta()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:yV(o,t,e.providers),parts:{menu:BC(false,t.columns,t.presets)},components:[aV.parts.button(fV(t.icon,t.text,H.none(),H.some(r),H.some([Jy.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:false})]),e.providers)),aV.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:tx("chevron-down",e.providers.icons)},buttonBehaviours:Nl([XO.splitButton(e.providers.isDisabled),UO()])}),aV.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})}
var xV=function(t){return{hide:function(){return la(t,$o())},getValue:function(){return Xm.getValue(t)}}}
var CV=function(t,e){return wa(pH,(function(n,r){var o=t.get(n)
var a=xV(o)
e.onAction(a,r.event.buttonApi)}))}
var SV=function(t,e,n){var r=e.original,o=(r.primary,z(r,["primary"]))
var a=rn(Wx(_(_({},o),{type:"button",onAction:g})))
return hV(a,n.backstage.shared.providers,[CV(t,e)])}
var OV=function(t,e,n){var r=e.original,o=(r.primary,z(r,["primary"]))
var a=rn($x(_(_({},o),{type:"togglebutton",onAction:g})))
return bV(a,n.backstage.shared.providers,[CV(t,e)])}
var kV=function(t,e,n){var r={backstage:{shared:{providers:n}}}
return"contextformtogglebutton"===e.type?OV(t,e,r):SV(t,e,r)}
var TV=function(t,e,n){var r=W(e,(function(e){return Zw(kV(t,e,n))}))
var o=function(){return W(r,(function(t){return t.asSpec()}))}
var a=function(t){return vt(e,(function(e,n){return e.primary?H.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(C(KS.isDisabled)):H.none()}))}
return{asSpecs:o,findPrimary:a}}
var _V=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}}))
var r=Zw(Sz.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:true,inputBehaviours:Nl([vy.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){fa(t)
return true}))},onLeft:function(t,e){e.cut()
return H.none()},onRight:function(t,e){e.cut()
return H.none()}})])}))
var o=TV(r,t.commands,e)
return[{title:H.none(),items:[r.asSpec()]},{title:H.none(),items:o.asSpecs()}]}
var zV=function(t,e,n){return PN({type:t,uid:Li("context-toolbar"),initGroups:_V(e,n),onEscape:H.none,cyclicKeying:true,providers:n})}
var EV={renderContextForm:zV,buildInitGroups:_V}
var MV=function(t,e){var n=Math.max(e.x,t.x)
var r=t.right-n
var o=e.width-(n-e.x)
var a=Math.min(r,o)
return{x:n,width:a}}
var DV=function(t,e,n,r){var o=er.fromDom(t.getContainer())
var a=ds(o,".tox-editor-header").getOr(o)
var i=os(a)
var u=i.y>=e.bottom
var c=r&&!u
if(t.inline&&c)return{y:Math.max(i.bottom,n.y),bottom:n.bottom}
if(t.inline&&!c)return{y:n.y,bottom:Math.min(i.y,n.bottom)}
var s=os(o)
if(c)return{y:Math.max(i.bottom,n.y),bottom:Math.min(s.bottom,n.bottom)}
return{y:Math.max(s.y,n.y),bottom:Math.min(i.y,n.bottom)}}
var AV=function(t,e){var n=Xc(window)
var r=os(er.fromDom(t.getContentAreaContainer()))
var o=lO(t)||vO(t)||dO(t)
var a=MV(r,n),i=a.x,u=a.width
if(t.inline&&!o)return rs(i,n.y,u,n.height)
var c=e.header.isPositionedAtTop()
var s=DV(t,r,n,c),l=s.y,v=s.bottom
return rs(i,l,u,v-l)}
var RV=function(t,e){var n=X(e,(function(e){return e.predicate(t.dom)}))
var r=$(n,(function(t){return"contexttoolbar"===t.type})),o=r.pass,a=r.fail
return{contextToolbars:o,contextForms:a}}
var HV=function(t){if(t.length<=1)return t
var e=function(e){return F(t,(function(t){return t.position===e}))}
var n=function(e){return X(t,(function(t){return t.position===e}))}
var r=e("selection")
var o=e("node")
if(r||o){if(o&&r){var a=n("node")
var i=W(n("selection"),(function(t){return _(_({},t),{position:"node"})}))
return a.concat(i)}return n(r?"selection":"node")}return n("line")}
var BV=function(t){if(t.length<=1)return t
var e=function(e){return Z(t,(function(t){return t.position===e}))}
var n=e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position}))
return n.fold((function(){return[]}),(function(e){return X(t,(function(t){return t.position===e}))}))}
var IV=function(t,e,n){var r=RV(t,e)
if(r.contextForms.length>0)return H.some({elem:t,toolbars:[r.contextForms[0]]})
var o=RV(t,n)
if(o.contextForms.length>0)return H.some({elem:t,toolbars:[o.contextForms[0]]})
if(r.contextToolbars.length>0||o.contextToolbars.length>0){var a=HV(r.contextToolbars.concat(o.contextToolbars))
return H.some({elem:t,toolbars:a})}return H.none()}
var LV=function(t,e,n){return t(e)?H.none():so(e,(function(t){var e=RV(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms
var a=o.length>0?o:BV(r)
return a.length>0?H.some({elem:t,toolbars:a}):H.none()}),t)}
var PV=function(t,e){var n=er.fromDom(e.getBody())
var r=function(t){return oo(t,n)}
var o=function(t){return!r(t)&&!uo(n,t)}
var a=er.fromDom(e.selection.getNode())
if(o(a))return H.none()
return IV(a,t.inNodeScope,t.inEditorScope).orThunk((function(){return LV(r,a,t)}))}
var NV=function(t,e){var n={}
var r=[]
var o=[]
var a={}
var i={}
var u=function(t,u){var c=rn(eC(u))
n[t]=c
c.launch.map((function(n){a["form:"+t]=_(_({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(c)}})}))
"editor"===c.scope?o.push(c):r.push(c)
i[t]=c}
var c=function(t,e){rC(e).each((function(n){"editor"===e.scope?o.push(n):r.push(n)
i[t]=n}))}
var s=zt(t)
q(s,(function(e){var n=t[e]
"contextform"===n.type?u(e,n):"contexttoolbar"===n.type&&c(e,n)}))
return{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:i,formNavigators:a}}
var VV=Li("forward-slide")
var FV=Li("backward-slide")
var jV=Li("change-slide-event")
var UV="tox-pop--resizing"
var WV=function(t){var e=Kn([])
return Lw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){e.set([])
Lw.getContent(t).each((function(t){rc(t.element,"visibility")}))
Nu(t.element,UV)
rc(t.element,"width")},inlineBehaviours:Nl([Sy("context-toolbar-events",[Ea(Bo(),(function(t,e){Nu(t.element,UV)
rc(t.element,"width")})),wa(jV,(function(t,e){var n=t.element
rc(n,"width")
var r=Hc(n)
Lw.setContent(t,e.event.contents)
Lu(n,UV)
var o=Hc(n)
Ku(n,"width",r+"px")
Lw.getContent(t).each((function(t){e.event.focus.bind((function(t){Kl(t)
return Ql(n)})).orThunk((function(){vy.focusIn(t)
return Zl(ei(n))}))}))
Kw.setTimeout((function(){Ku(t.element,"width",o+"px")}),0)})),wa(VV,(function(t,n){Lw.getContent(t).each((function(n){e.set(e.get().concat([{bar:n,focus:Zl(ei(t.element))}]))}))
va(t,jV,{contents:n.event.forwardContents,focus:H.none()})})),wa(FV,(function(t,n){st(e.get()).each((function(n){e.set(e.get().slice(0,e.get().length-1))
va(t,jV,{contents:wc(n.bar),focus:n.focus})}))}))]),vy.config({mode:"special",onEscape:function(n){return st(e.get()).fold((function(){return t.onEscape()}),(function(t){la(n,FV)
return H.some(true)}))}})]),lazySink:function(){return gt.value(t.sink)}})}
var qV=function(t,e,n){var r=function(t,r,a,i){var u=e.shared.providers.translate(t.title)
if("separator"===t.type)return H.some({type:"separator",text:u})
if("submenu"===t.type){var c=et(t.getStyleItems(),(function(t){return o(t,r,i)}))
return 0===r&&c.length<=0?H.none():H.some({type:"nestedmenuitem",text:u,disabled:c.length<=0,getSubmenuItems:function(){return et(t.getStyleItems(),(function(t){return o(t,r,i)}))}})}return H.some(_({type:"togglemenuitem",text:u,icon:t.icon,active:t.isSelected(i),disabled:a,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))}
var o=function(t,e,o){var a="formatter"===t.type&&n.isInvalid(t)
return 0===e?a?[]:r(t,e,false,o).toArray():r(t,e,a,o).toArray()}
var a=function(t){var e=n.getCurrentValue()
var r=n.shouldHide?0:1
return et(t,(function(t){return o(t,r,e)}))}
var i=function(t,e){return function(n,r){var o=e()
var i=a(o)
var u=AH(i,uC.CLOSE_ON_EXECUTE,t,false)
r(u)}}
return{validateItems:a,getFetch:i}}
var GV=function(t,e,n){var r=n.dataset
var o="basic"===r.type?function(){return W(r.data,(function(t){return bL(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData
return{items:qV(t,e,n),getStyleItems:o}}
var $V=function(t,e,n){var r=GV(t,e,n),o=r.items,a=r.getStyleItems
var i=function(t){return{getComponent:y(t)}}
var u=function(e){var r=function(){var t=e.getComponent()
t.getSystem().isConnected()&&n.updateText(t)}
r()
t.on("NodeChange",r)
return function(){t.off("NodeChange",r)}}
return CH({text:n.icon.isSome()?H.none():H.some(""),icon:n.icon,tooltip:H.from(n.tooltip),role:H.none(),fetch:o.getFetch(e,a),onSetup:u,getApi:i,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)}
var XV=function(t){return W(t,(function(t){var e=t,n=t
var r=t.split("=")
if(r.length>1){e=r[0]
n=r[1]}return{title:e,format:n}}))}
var KV=function(t){return{type:"basic",data:t}}
var YV;(function(t){t[t["SemiColon"]=0]="SemiColon"
t[t["Space"]=1]="Space"})(YV||(YV={}))
var JV=function(t,e){return e===YV.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}
var ZV=function(t,e,n,r){var o=t.getParam(e,n,"string")
var a=XV(JV(o,r))
return{type:"basic",data:a}}
var QV=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}]
var tF=function(t){var e=function(){return Z(QV,(function(e){return t.formatter.match(e.format)}))}
var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(t){return function(){return H.none()}}
var o=function(t){var n=e()
var r=n.fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}))
va(t,xH,{icon:"align-"+r})}
var a=KV(QV)
var i=function(e){return function(){return Z(QV,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}}
return{tooltip:"Align",icon:H.some("align-left"),isSelectedFor:n,getCurrentValue:H.none,getPreviewFor:r,onAction:i,updateText:o,dataset:a,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var eF=function(t,e){return $V(t,e,tF(t))}
var nF=function(t,e){var n=GV(t,e,tF(t))
t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var rF="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"
var oF=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"]
var aF=function(t){var e=t.split(/\s*,\s*/)
return W(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))}
var iF=function(t){var e=function(){var e=aF(t.toLowerCase())
return nt(oF,(function(t){return e.indexOf(t.toLowerCase())>-1}))}
return 0===t.indexOf("-apple-system")&&e()}
var uF=function(t){var e=function(){var e=function(t){return t?aF(t)[0]:""}
var n=t.queryCommandValue("FontName")
var r=u.data
var o=n?n.toLowerCase():""
var a=Z(r,(function(t){var n=t.format
return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return iF(o)?H.from({title:"System Font",format:o}):H.none()}))
return{matchOpt:a,font:n}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=function(t){return function(){return H.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}}
var a=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontName",false,e.format)}))}}
var i=function(t){var n=e(),r=n.matchOpt,o=n.font
var a=r.fold((function(){return o}),(function(t){return t.title}))
va(t,wH,{text:a})}
var u=ZV(t,"font_formats",rF,YV.SemiColon)
return{tooltip:"Fonts",icon:H.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:O}}
var cF=function(t,e){return $V(t,e,uF(t))}
var sF=function(t,e){var n=GV(t,e,uF(t))
t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var lF="8pt 10pt 12pt 14pt 18pt 24pt 36pt"
var vF={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"}
var fF={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"}
var dF=function(t,e){var n=Math.pow(10,e)
return Math.round(t*n)/n}
var mF=function(t,e){return/[0-9.]+px$/.test(t)?dF(72*parseInt(t,10)/96,e||0)+"pt":Nt(fF,t).getOr(t)}
var gF=function(t){return Nt(vF,t).getOr("")}
var hF=function(t){var e=function(){var e=H.none()
var n=u.data
var r=t.queryCommandValue("FontSize")
if(r){var o=function(t){var o=mF(r,t)
var a=gF(o)
e=Z(n,(function(t){return t.format===r||t.format===o||t.format===a}))}
for(var a=3;e.isNone()&&a>=0;a--)o(a)}return{matchOpt:e,size:r}}
var n=function(t){return function(e){return e.exists((function(e){return e.format===t}))}}
var r=function(){var t=e().matchOpt
return t}
var o=y(H.none)
var a=function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("FontSize",false,e.format)}))}}
var i=function(t){var n=e(),r=n.matchOpt,o=n.size
var a=r.fold((function(){return o}),(function(t){return t.title}))
va(t,wH,{text:a})}
var u=ZV(t,"fontsize_formats",lF,YV.Space)
return{tooltip:"Font sizes",icon:H.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:a,updateText:i,dataset:u,shouldHide:false,isInvalid:O}}
var pF=function(t,e){return $V(t,e,hF(t))}
var bF=function(t,e){var n=GV(t,e,hF(t))
t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var yF=function(t,e){var n=e()
var r=W(n,(function(t){return t.format}))
return H.from(t.formatter.closest(r)).bind((function(t){return Z(n,(function(e){return e.format===t}))})).orThunk((function(){return dh(t.formatter.match("p"),{title:"Paragraph",format:"p"})}))}
var wF=function(t){var e=Kn(H.none())
var n=function(){return e.get().each(t)}
var r=function(){n()
e.set(H.none())}
var o=function(){return e.get().isSome()}
var a=function(t){n()
e.set(H.some(t))}
return{clear:r,isSet:o,set:a}}
var xF=function(){return wF((function(t){return t.destroy()}))}
var CF=function(){return wF((function(t){return t.unbind()}))}
var SF=function(){var t=Kn(H.none())
var e=function(){return t.set(H.none())}
var n=function(e){return t.set(H.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var OF=function(t,e){return function(n){var r=CF()
var o=function(){n.setActive(t.formatter.match(e))
var o=t.formatter.formatChanged(e,n.setActive)
r.set(o)}
t.initialized?o():t.on("init",o)
return r.clear}}
var kF=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus()
t.execCommand("mceToggleFormat",false,e.format)}))}}}
var TF="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"
var _F=function(t){var e=function(e){return function(){return t.formatter.match(e)}}
var n=function(e){return function(){var n=t.formatter.get(e)
return H.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}}
var r=function(e){var n=yF(t,(function(){return o.data}))
var r=n.fold((function(){return"Paragraph"}),(function(t){return t.title}))
va(e,wH,{text:r})}
var o=ZV(t,"block_formats",TF,YV.SemiColon)
return{tooltip:"Blocks",icon:H.none(),isSelectedFor:e,getCurrentValue:H.none,getPreviewFor:n,onAction:kF(t),updateText:r,dataset:o,shouldHide:false,isInvalid:function(e){return!t.formatter.canApply(e.format)}}}
var zF=function(t,e){return $V(t,e,_F(t))}
var EF=function(t,e){var n=GV(t,e,_F(t))
t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}
var MF=function(t,e){var n=function(e){return function(){return t.formatter.match(e)}}
var r=function(e){return function(){var n=t.formatter.get(e)
return void 0!==n?H.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):H.none()}}
var o=function(e){var n=function(t){var e=t.items
return void 0!==e&&e.length>0?et(e,n):[{title:t.title,format:t.format}]}
var r=et(pL(t),n)
var o=yF(t,(function(){return r}))
var a=o.fold((function(){return"Paragraph"}),(function(t){return t.title}))
va(e,wH,{text:a})}
return{tooltip:"Formats",icon:H.none(),isSelectedFor:n,getCurrentValue:H.none,getPreviewFor:r,onAction:kF(t),updateText:o,shouldHide:t.getParam("style_formats_autohide",false,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}}
var DF=function(t,e){var n=_({type:"advanced"},e.styleselect)
return $V(t,e,MF(t,n))}
var AF=function(t,e){var n=_({type:"advanced"},e.styleselect)
var r=GV(t,e,MF(t,n))
t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}
var RF=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}]
var HF=function(t,e){return function(n,r,o){var a=t(n).mapError((function(t){return an(t)})).getOrDie()
return e(a,r,o)}}
var BF={button:HF(Wx,(function(t,e){return gV(t,e.backstage.shared.providers)})),togglebutton:HF($x,(function(t,e){return pV(t,e.backstage.shared.providers)})),menubutton:HF(UN,(function(t,e){return HH(t,"tox-tbtn",e.backstage,H.none())})),splitbutton:HF(qN,(function(t,e){return wV(t,e.backstage.shared)})),grouptoolbarbutton:HF(VN,(function(t,e,n){var r
var o=n.ui.registry.getAll().buttons
var a=function(t){return UF(n,{buttons:o,toolbar:t,allowToolbarGroups:false},e,H.none())}
var i=(r={},r[Nv]=e.backstage.shared.header.isPositionedAtTop()?Pv.TopToBottom:Pv.BottomToTop,r)
switch(gO(n)){case mO.floating:return dV(t,e.backstage,a,i)
default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return DF(t,e.backstage)},fontsizeSelectButton:function(t,e){return pF(t,e.backstage)},fontSelectButton:function(t,e){return cF(t,e.backstage)},formatButton:function(t,e){return zF(t,e.backstage)},alignMenuButton:function(t,e){return eF(t,e.backstage)}}
var IF=function(t,e,n){return Nt(BF,t.type).fold((function(){console.error("skipping button defined by",t)
return H.none()}),(function(r){return H.some(r(t,e,n))}))}
var LF={styleselect:BF.styleSelectButton,fontsizeselect:BF.fontsizeSelectButton,fontselect:BF.fontSelectButton,formatselect:BF.formatButton,align:BF.alignMenuButton}
var PF=function(t){var e=W(RF,(function(e){var n=X(e.items,(function(e){return Vt(t,e)||Vt(LF,e)}))
return{name:e.name,items:n}}))
return X(e,(function(t){return t.items.length>0}))}
var NF=function(t){var e=t.split("|")
return W(e,(function(t){return{items:t.trim().split(" ")}}))}
var VF=function(t){return m(t,(function(t){return Vt(t,"name")&&Vt(t,"items")}))}
var FF=function(t){var e=t.toolbar
var n=t.buttons
if(false===e)return[]
if(void 0===e||true===e)return PF(n)
if(a(e))return NF(e)
if(VF(e))return e
console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]")
return[]}
var jF=function(t,e,n,r,o,a){return Nt(e,n.toLowerCase()).orThunk((function(){return a.bind((function(t){return vt(t,(function(t){return Nt(e,t+n.toLowerCase())}))}))})).fold((function(){return Nt(LF,n.toLowerCase()).map((function(e){return e(t,o)})).orThunk((function(){return H.none()}))}),(function(e){if("grouptoolbarbutton"!==e.type||r)return IF(e,o,t)
console.warn("Ignoring the '"+n+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.")
return H.none()}))}
var UF=function(t,e,n,r){var o=FF(e)
var a=W(o,(function(o){var a=et(o.items,(function(o){return 0===o.trim().length?[]:jF(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}))
return{title:H.from(t.translate(o.name)),items:a}}))
return X(a,(function(t){return t.items.length>0}))}
var WF=12
var qF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var GF={maxHeightFunction:zv(),maxWidthFunction:vP()}
var $F={onLtr:function(){return[bl,yl,hl,ml,pl,gl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[bl,yl,pl,gl,hl,ml,$w,Xw,Gw,Ww,qw,Uw]}}
var XF={onLtr:function(){return[yl,ml,gl,hl,pl,bl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,$w,Xw,Gw,Ww,qw,Uw]}}
var KF=function(t,e){return"line"===t?{bubble:Rv(WF,0,qF),layouts:{onLtr:function(){return[wl]},onRtl:function(){return[xl]}},overrides:GF}:{bubble:Rv(0,WF,qF),layouts:e?XF:$F,overrides:GF}}
var YF=function(t,e,n,r){var o=$r().deviceType.isTouch
var a=yc(WV({sink:n,onEscape:function(){t.focus()
return H.some(true)}}))
var i=function(){return AV(t,r.backstage.shared)}
var u=function(t,e,n,r){return Math.max(t,n)<=Math.min(e,r)}
var c=function(){var e=m.get().filter((function(t){return Wu(er.fromDom(t))})).map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()}))
var n=t.inline?Wc().top:as(er.fromDom(t.getBody())).y
return{y:e.top+n,bottom:e.bottom+n}}
var s=function(){if(o()&&r.backstage.isContextMenuOpen())return true
var t=c()
var e=i()
return!u(t.y,t.bottom,e.y,e.bottom)}
var l=function(){d.set(H.none())
Lw.hide(a)}
var v=function(){Lw.hide(a)}
var f=function(){d.get().each((function(t){var e=a.element
rc(e,"display")
s()?Ku(e,"display","none"):Ad.positionWithinBounds(n,t,a,H.some(i()))}))}
var d=Kn(H.none())
var m=Kn(H.none())
var h=Kn(null)
var p=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Nl([vy.config({mode:"acyclic"}),Sy("pop-dialog-wrap-events",[Ma((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return vy.focusIn(e)}))})),Da((function(e){t.shortcuts.remove("ctrl+F9")}))])])}}
var b=Yt((function(){return NV(e,(function(t){var e=x([t])
va(a,VV,{forwardContents:p(e)})}))}))
var y=function(e,n){return UF(t,{buttons:e,toolbar:n.items,allowToolbarGroups:false},r,H.some(["form:"]))}
var w=function(t,e){return EV.buildInitGroups(t,e)}
var x=function(e){var n=t.ui.registry.getAll().buttons
var o=b()
var a=_(_({},n),o.formNavigators)
var i=gO(t)===mO.scrolling?mO.scrolling:mO.default
var u=tt(W(e,(function(t){return"contexttoolbar"===t.type?y(a,t):w(t,r.backstage.shared.providers)})))
return PN({type:i,uid:Li("context-toolbar"),initGroups:u,onEscape:H.none,cyclicKeying:true,providers:r.backstage.shared.providers})}
t.on(fP,(function(e){var n=b()
Nt(n.lookupTable,e.toolbarKey).each((function(n){S([n],e.target===t?H.none():H.some(e))
Lw.getContent(a).each(vy.focusIn)}))}))
var C=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor()
return Xt(n,KF(t,o()))}
var S=function(t,e){k()
if(o()&&r.backstage.isContextMenuOpen())return
var n=x(t)
var u=e.map(er.fromDom)
var c=C(t[0].position,u)
d.set(H.some(c))
m.set(e)
var l=a.element
rc(l,"display")
Lw.showWithinBounds(a,c,p(n),(function(){return H.some(i())}))
s()&&Ku(l,"display","none")}
var O=function(){if(!t.hasFocus())return
var e=b()
PV(e,t).fold(l,(function(t){S(t.toolbars,H.some(t.elem.dom))}))}
var k=function(){var t=h.get()
if(null!==t){Kw.clearTimeout(t)
h.set(null)}}
var T=function(){k()
h.set(Kw.setEditorTimeout(t,O,0))}
t.on("init",(function(){t.on(dP,v)
t.on("ScrollContent ScrollWindow longpress",f)
t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){T()}))
t.on("focusout",(function(e){Kw.setEditorTimeout(t,(function(){Ql(n.element).isNone()&&Ql(a.element).isNone()&&l()}),0)}))
t.on("SwitchMode",(function(){t.mode.isReadOnly()&&l()}))
t.on("AfterProgressState",(function(e){e.state?l():t.hasFocus()&&T()}))
t.on("NodeChange",(function(t){Ql(a.element).fold(T,g)}))}))}
var JF=function(t,e,n){var r=function(t,r){q([e,n],(function(e){e.broadcastEvent(t,r)}))}
var o=function(t,r){q([e,n],(function(e){e.broadcastOn([t],r)}))}
var a=function(t){return o(dm(),{target:t.target})}
var i=d_(er.fromDom(document),"touchstart",a)
var u=d_(er.fromDom(document),"touchmove",(function(t){return r(Yo(),t)}))
var c=d_(er.fromDom(document),"touchend",(function(t){return r(Jo(),t)}))
var s=d_(er.fromDom(document),"mousedown",a)
var l=d_(er.fromDom(document),"mouseup",(function(t){0===t.raw.button&&o(gm(),{target:t.target})}))
var v=function(t){return o(dm(),{target:er.fromDom(t.target)})}
var f=function(t){0===t.button&&o(gm(),{target:er.fromDom(t.target)})}
var d=function(t){return r(Zo(),g_(t))}
var m=function(t){o(mm(),{})
r(Qo(),g_(t))}
var g=function(){return o(mm(),{})}
var h=function(e){e.state&&o(dm(),{target:er.fromDom(t.getContainer())})}
t.on("PostRender",(function(){t.on("click",v)
t.on("tap",v)
t.on("mouseup",f)
t.on("ScrollWindow",d)
t.on("ResizeWindow",m)
t.on("ResizeEditor",g)
t.on("AfterProgressState",h)}))
t.on("remove",(function(){t.off("click",v)
t.off("tap",v)
t.off("mouseup",f)
t.off("ScrollWindow",d)
t.off("ResizeWindow",m)
t.off("ResizeEditor",g)
t.off("AfterProgressState",h)
s.unbind()
i.unbind()
u.unbind()
c.unbind()
l.unbind()}))
t.on("detach",(function(){Gd(e)
Gd(n)
e.destroy()
n.destroy()}))}
var ZF=Yg
var QF=Ag
var tj=y([Pn("shell",false),yn("makeItem"),Pn("setupItem",g),Zm.field("listBehaviours",[xy])])
var ej=function(){return{behaviours:Nl([xy.config({})])}}
var nj=Eg({name:"items",overrides:ej})
var rj=y([nj])
var oj=y("CustomList")
var aj=function(t,e,n,r){var o=function(e,n){i(e).fold((function(){console.error("Custom List was defined to not be a shell, but no item container was specified in components")
throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(r){var o=xy.contents(r)
var a=n.length
var i=a-o.length
var u=i>0?j(i,(function(){return t.makeItem()})):[]
var c=o.slice(a)
q(c,(function(t){return xy.remove(r,t)}))
q(u,(function(t){return xy.append(r,t)}))
var s=xy.contents(r)
q(s,(function(r,o){t.setupItem(e,r,n[o],o)}))}))}
var a=t.shell?{behaviours:[xy.config({})],components:[]}:{behaviours:[],components:e}
var i=function(e){return t.shell?H.some(e):jg(e,t,"items")}
return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Jm(t.listBehaviours,a.behaviours),apis:{setItems:o}}}
var ij=uh({name:oj(),configFields:tj(),partFields:rj(),factory:aj,apis:{setItems:function(t,e,n){t.setItems(e,n)}}})
var uj=g
var cj=O
var sj=y([])
var lj=Object.freeze({__proto__:null,setup:uj,isDocked:cj,getBehaviours:sj})
var vj=function(t){var e=tc(t,"position").is("fixed")
var n=e?H.none():$a(t)
return n.orThunk((function(){var e=er.fromTag("span")
return qa(t).bind((function(t){vi(t,e)
var n=$a(e)
hi(e)
return n}))}))}
var fj=function(t){return vj(t).map(Mc).getOrThunk((function(){return _c(0,0)}))}
var dj=Ut.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}])
var mj=function(t,e){var n=t.element
Lu(n,e.transitionClass)
Nu(n,e.fadeOutClass)
Lu(n,e.fadeInClass)
e.onShow(t)}
var gj=function(t,e){var n=t.element
Lu(n,e.transitionClass)
Nu(n,e.fadeInClass)
Lu(n,e.fadeOutClass)
e.onHide(t)}
var hj=function(t,e){return t.y<e.bottom&&t.bottom>e.y}
var pj=function(t,e){return t.y>=e.y}
var bj=function(t,e){return t.bottom<=e.bottom}
var yj=function(t,e,n){return nt(t,(function(t){switch(t){case"bottom":return bj(e,n)
case"top":return pj(e,n)}}))}
var wj=function(t,e){return e.getInitialPosition().map((function(e){return rs(e.bounds.x,e.bounds.y,Hc(t),Sc(t))}))}
var xj=function(t,e,n){n.setInitialPosition(H.some({style:ec(t),position:Zu(t,"position")||"static",bounds:e}))}
var Cj=function(t,e,n){return n.getInitialPosition().bind((function(r){n.setInitialPosition(H.none())
switch(r.position){case"static":return H.some(dj.static())
case"absolute":var o=vj(t).map(os).getOrThunk((function(){return os(qu())}))
return H.some(dj.absolute(ev("absolute",Nt(r.style,"left").map((function(t){return e.x-o.x})),Nt(r.style,"top").map((function(t){return e.y-o.y})),Nt(r.style,"right").map((function(t){return o.right-e.right})),Nt(r.style,"bottom").map((function(t){return o.bottom-e.bottom})))))
default:return H.none()}}))}
var Sj=function(t,e,n){return wj(t,n).filter((function(t){return yj(n.getModes(),t,e)})).bind((function(e){return Cj(t,e,n)}))}
var Oj=function(t,e,n){var r=os(t)
if(yj(n.getModes(),r,e))return H.none()
xj(t,r,n)
var o=is()
var a=r.x-o.x
var i=e.y-o.y
var u=o.bottom-e.bottom
var c=r.y<=e.y
return H.some(dj.fixed(ev("fixed",H.some(a),c?H.some(i):H.none(),H.none(),c?H.none():H.some(u))))}
var kj=function(t,e,n){var r=t.element
var o=tc(r,"position").is("fixed")
return o?Sj(r,e,n):Oj(r,e,n)}
var Tj=function(t,e){var n=t.element
return wj(n,e).bind((function(t){return Cj(n,t,e)}))}
var _j=function(t,e){q(["left","right","top","bottom","position"],(function(e){return rc(t.element,e)}))
e.onUndocked(t)}
var zj=function(t,e,n){nv(t.element,n)
var r="fixed"===n.position?e.onDocked:e.onUndocked
r(t)}
var Ej=function(t,e,n,r,o){void 0===o&&(o=false)
e.contextual.each((function(e){e.lazyContext(t).each((function(a){var i=hj(a,r)
if(i!==n.isVisible()){n.setVisible(i)
if(o&&!i){Fu(t.element,[e.fadeOutClass])
e.onHide(t)}else{var u=i?mj:gj
u(t,e)}}}))}))}
var Mj=function(t,e,n){var r=e.lazyViewport(t)
var o=n.isDocked()
o&&Ej(t,e,n,r)
kj(t,r,n).each((function(a){n.setDocked(!o)
a.fold((function(){return _j(t,e)}),(function(n){return zj(t,e,n)}),(function(o){Ej(t,e,n,r,true)
zj(t,e,o)}))}))}
var Dj=function(t,e,n){var r=t.element
n.setDocked(false)
Tj(t,n).each((function(n){n.fold((function(){return _j(t,e)}),(function(n){return zj(t,e,n)}),g)}))
n.setVisible(true)
e.contextual.each((function(e){ju(r,[e.fadeInClass,e.fadeOutClass,e.transitionClass])
e.onShow(t)}))
Aj(t,e,n)}
var Aj=function(t,e,n){t.getSystem().isConnected()&&Mj(t,e,n)}
var Rj=function(t,e,n){n.isDocked()&&Dj(t,e,n)}
var Hj=function(t,e,n){return n.isDocked()}
var Bj=function(t,e,n,r){return n.setModes(r)}
var Ij=function(t,e,n){return n.getModes()}
var Lj=Object.freeze({__proto__:null,refresh:Aj,reset:Rj,isDocked:Hj,getModes:Ij,setModes:Bj})
var Pj=function(t,e){return ha([Ea(Bo(),(function(n,r){t.contextual.each((function(t){if(Vu(n.element,t.transitionClass)){ju(n.element,[t.transitionClass,t.fadeInClass])
var o=e.isVisible()?t.onShown:t.onHidden
o(n)}r.stop()}))})),wa(Zo(),(function(n,r){Aj(n,t,e)})),wa(Qo(),(function(n,r){Rj(n,t,e)}))])}
var Nj=Object.freeze({__proto__:null,events:Pj})
var Vj=[In("contextual",[Cn("fadeInClass"),Cn("fadeOutClass"),Cn("transitionClass"),kn("lazyContext"),Ls("onShow"),Ls("onShown"),Ls("onHide"),Ls("onHidden")]),Wn("lazyViewport",is),Gn("modes",["top","bottom"],dn),Ls("onDocked"),Ls("onUndocked")]
var Fj=function(t){var e=Kn(false)
var n=Kn(true)
var r=Kn(H.none())
var o=Kn(t.modes)
var a=function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}
return ou({isDocked:e.get,setDocked:e.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:a})}
var jj=Object.freeze({__proto__:null,init:Fj})
var Uj=Fl({fields:Vj,name:"docking",active:Nj,apis:Lj,state:jj})
var Wj={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"}
var qj="tox-tinymce--toolbar-sticky-on"
var Gj="tox-tinymce--toolbar-sticky-off"
var $j=function(t,e){var n=Fa(e)
var r=n.dom.defaultView.innerHeight
var o=Wc(n)
var a=er.fromDom(t.elm)
var i=as(a)
var u=Sc(a)
var c=i.y
var s=c+u
var l=Mc(e)
var v=Sc(e)
var f=l.top
var d=f+v
var m=Math.abs(f-o.top)<2
var g=Math.abs(d-(o.top+r))<2
if(m&&c<d)qc(o.left,c-v,n)
else if(g&&s>f){var h=c-r+u+v
qc(o.left,h,n)}}
var Xj=function(t,e){return V(Uj.getModes(t),e)}
var Kj=function(t){var e=function(t){return Oc(t)+(parseInt(Zu(t,"margin-top"),10)||0)+(parseInt(Zu(t,"margin-bottom"),10)||0)}
var n=t.element
qa(n).each((function(r){var o="padding-"+Uj.getModes(t)[0]
if(Uj.isDocked(t)){var a=Hc(r)
Ku(n,"width",a+"px")
Ku(r,o,e(n)+"px")}else{rc(n,"width")
rc(r,o)}}))}
var Yj=function(t,e){if(e){Nu(t,Wj.fadeOutClass)
Fu(t,[Wj.transitionClass,Wj.fadeInClass])}else{Nu(t,Wj.fadeInClass)
Fu(t,[Wj.fadeOutClass,Wj.transitionClass])}}
var Jj=function(t,e){var n=er.fromDom(t.getContainer())
if(e){Lu(n,qj)
Nu(n,Gj)}else{Lu(n,Gj)
Nu(n,qj)}}
var Zj=function(t,e){var n=Fa(e)
Zl(n).filter((function(t){return!oo(e,t)})).filter((function(e){return oo(e,er.fromDom(n.dom.body))||uo(t,e)})).each((function(){return Kl(e)}))}
var Qj=function(t,e){return Ql(t).orThunk((function(){return e().toOptional().bind((function(t){return Ql(t.element)}))}))}
var tU=function(t,e,n){if(!t.inline){e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(Uj.reset)}))
t.on("ResizeWindow ResizeEditor",(function(){n().each(Kj)}))
t.on("SkinLoaded",(function(){n().each((function(t){Uj.isDocked(t)?Uj.reset(t):Uj.refresh(t)}))}))
t.on("FullscreenStateChanged",(function(){n().each(Uj.reset)}))}t.on("AfterScrollIntoView",(function(t){n().each((function(e){Uj.refresh(e)
var n=e.element
Rp(n)&&$j(t,n)}))}))
t.on("PostRender",(function(){Jj(t,false)}))}
var eU=function(t){return t().map(Uj.isDocked).getOr(false)}
var nU=function(){var t
return[ql.config({channels:(t={},t[DN()]={onReceive:Kj},t)})]}
var rU=function(t,e){var n=Kn(H.none())
var r=e.getSink
var o=function(t){r().each((function(e){return t(e.element)}))}
var a=function(e){t.inline||Kj(e)
Jj(t,Uj.isDocked(e))
e.getSystem().broadcastOn([mm()],{})
r().each((function(t){return t.getSystem().broadcastOn([mm()],{})}))}
var i=t.inline?[]:nU()
return E([Ay.config({}),Uj.config({contextual:_({lazyContext:function(e){var n=Oc(e.element)
var r=t.inline?t.getContentAreaContainer():t.getContainer()
var o=os(er.fromDom(r))
var a=o.height-n
var i=o.y+(Xj(e,"top")?0:n)
return H.some(rs(o.x,i,o.width,a))},onShow:function(){o((function(t){return Yj(t,true)}))},onShown:function(t){o((function(t){return ju(t,[Wj.transitionClass,Wj.fadeInClass])}))
n.get().each((function(e){Zj(t.element,e)
n.set(H.none())}))},onHide:function(t){n.set(Qj(t.element,r))
o((function(t){return Yj(t,false)}))},onHidden:function(){o((function(t){return ju(t,[Wj.transitionClass])}))}},Wj),modes:[e.header.getDockingMode()],onDocked:a,onUndocked:a})],i)}
var oU=Object.freeze({__proto__:null,setup:tU,isDocked:eU,getBehaviours:rU})
var aU=function(t){var e=t.editor
var n=t.sticky?rU:sj
return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Nl(n(e,t.sharedBackstage))}}
var iU=function(t,e){var n=function(t,n){var r=W(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}}
var r=UN(n).mapError((function(t){return an(t)})).getOrDie()
return HH(r,"tox-mbtn",e.backstage,H.some("menuitem"))}))
xy.set(t,r)}
var r={focus:vy.focusIn,setMenus:n}
return{uid:t.uid,dom:t.dom,components:[],behaviours:Nl([xy.config({}),Sy("menubar-events",[Ma((function(e){t.onSetup(e)})),wa(_o(),(function(t,e){ds(t.element,".tox-mbtn--active").each((function(n){ms(e.event.target,".tox-mbtn").each((function(e){oo(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){pE.expand(t)
pE.close(n)
Ay.focus(t)}))}))}))}))})),wa(oa(),(function(t,e){e.event.prevFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(n){e.event.newFocus.bind((function(e){return t.getSystem().getByDom(e).toOptional()})).each((function(t){if(pE.isOpen(n)){pE.expand(t)
pE.close(n)}}))}))}))]),vy.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){t.onEscape(e)
return H.some(true)}}),tz.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}}
var uU=ih({factory:iU,name:"silver.Menubar",configFields:[yn("dom"),yn("uid"),yn("onEscape"),yn("backstage"),Pn("onSetup",g)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}})
var cU="container"
var sU=[Km("slotBehaviours",[])]
var lU=function(t){return"<alloy.field."+t+">"}
var vU=function(t){var e=function(){var t=[]
var e=function(e,n){t.push(e)
return Lg(cU,lU(e),n)}
return{slot:e,record:function(){return t}}}()
var n=t(e)
var r=e.record()
var o=W(r,(function(t){return _g({name:t,pname:lU(t)})}))
return th(cU,sU,o,fU,n)}
var fU=function(t,e){var n=function(e){return Gg(t)}
var r=function(e,n){return jg(e,t,n)}
var o=function(e,n){return function(r,o){return jg(r,t,o).map((function(t){return e(t,o)})).getOr(n)}}
var a=function(t){return function(e,n){q(n,(function(n){return t(e,n)}))}}
var i=function(t,e){return"true"!==ki(t.element,"aria-hidden")}
var u=function(t,e){if(!i(t)){var n=t.element
rc(n,"display")
zi(n,"aria-hidden")
va(t,aa(),{name:e,visible:true})}}
var c=function(t,e){if(i(t)){var n=t.element
Ku(n,"display","none")
Si(n,"aria-hidden","true")
va(t,aa(),{name:e,visible:false})}}
var s=o(i,false)
var l=o(c)
var v=a(l)
var f=function(t){return v(t,n())}
var d=o(u)
var m={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:l,hideAllSlots:f,showSlot:d}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.slotBehaviours),apis:m}}
var dU=Dt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return nu(t)}))
var mU=_(_({},dU),{sketch:vU})
var gU=Pe([Rn("icon"),Rn("tooltip"),Wn("onShow",g),Wn("onHide",g),Wn("onSetup",(function(){return g}))])
var hU=function(t){return nn("sidebar",gU,t)}
var pU=function(t){var e=t.ui.registry.getAll().sidebars
q(zt(e),(function(n){var r=e[n]
var o=function(){return H.from(t.queryCommandValue("ToggleSidebar")).is(n)}
t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",false,n)
e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())}
t.on("ToggleSidebar",n)
return function(){t.off("ToggleSidebar",n)}}})}))}
var bU=function(t){return{element:function(){return t.element.dom}}}
var yU=function(t,e){var n=W(zt(e),(function(t){var n=e[t]
var r=rn(hU(n))
return{name:t,getApi:bU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}))
return W(n,(function(e){var r=Kn(g)
return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gS.unnamedEvents([YO(e,r),JO(e,r),wa(aa(),(function(t,e){var r=e.event
var o=Z(n,(function(t){return t.name===r.name}))
o.each((function(e){var n=r.visible?e.onShow:e.onHide
n(e.getApi(t))}))}))])})}))}
var wU=function(t){return mU.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:yU(e,t),slotBehaviours:gS.unnamedEvents([Ma((function(t){return mU.hideAllSlots(t)}))])}}))}
var xU=function(t,e){var n=bh.getCurrent(t)
n.each((function(t){return xy.set(t,[wU(e)])}))}
var CU=function(t,e){var n=bh.getCurrent(t)
n.each((function(t){var n=bh.getCurrent(t)
n.each((function(n){if(SN.hasGrown(t))if(mU.isShowing(n,e))SN.shrink(t)
else{mU.hideAllSlots(n)
mU.showSlot(n,e)}else{mU.hideAllSlots(n)
mU.showSlot(n,e)
SN.grow(t)}}))}))}
var SU=function(t){var e=bh.getCurrent(t)
return e.bind((function(t){var e=SN.isGrowing(t)||SN.hasGrown(t)
if(e){var n=bh.getCurrent(t)
return n.bind((function(t){return Z(mU.getSlotNames(t),(function(e){return mU.isShowing(t,e)}))}))}return H.none()}))}
var OU=Li("FixSizeEvent")
var kU=Li("AutoSizeEvent")
var TU=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Nl([tz.config({}),Ay.config({}),SN.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){var e=bh.getCurrent(t)
e.each(mU.hideAllSlots)
la(t,kU)},onGrown:function(t){la(t,kU)},onStartGrow:function(t){va(t,OU,{width:tc(t.element,"width").getOr("")})},onStartShrink:function(t){va(t,OU,{width:Hc(t.element)+"px"})}}),xy.config({}),bh.config({find:function(t){var e=xy.contents(t)
return ct(e)}})])}],behaviours:Nl([zA.childAt(0),Sy("sidebar-sliding-events",[wa(OU,(function(t,e){Ku(t.element,"width",e.event.width)})),wa(kU,(function(t,e){rc(t.element,"width")}))])])}}
var _U=function(t){var e=void 0!==t.dom.attributes?t.dom.attributes:[]
return Y(e,(function(t,e){var n
return"class"===e.name?t:_(_({},t),(n={},n[e.name]=e.value,n))}),{})}
var zU=function(t){return Array.prototype.slice.call(t.dom.classList,0)}
var EU=function(t){var e=er.fromHtml(t)
var n=Ka(e)
var r=_U(e)
var o=zU(e)
var a=0===n.length?{}:{innerHtml:yi(e)}
return _({tag:Ha(e),classes:o,attributes:r},a)}
var MU=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:EU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Nl([vy.config({mode:"special",onTab:function(){return H.some(true)},onShiftTab:function(){return H.some(true)}}),Ay.config({})])}}
var DU=function(t,e,n){var r=t.element
if(true===e){xy.set(t,[MU(n)])
rc(r,"display")
zi(r,"aria-hidden")}else{xy.set(t,[])
Ku(r,"display","none")
Si(r,"aria-hidden","true")}}
var AU=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Nl([xy.config({})]),components:[]}}
var RU=function(t,e,n){var r=Kn(false)
var o=Kn(H.none())
var a=function(o){if(o!==r.get()){DU(e(),o,n.providers)
r.set(o)
t.fire("AfterProgressState",{state:o})}}
t.on("ProgressState",(function(e){o.get().each(Kw.clearTimeout)
if(d(e.time)){var n=Kw.setEditorTimeout(t,(function(){return a(e.state)}),e.time)
o.set(H.some(n))}else{a(e.state)
o.set(H.none())}}))}
var HU=function(t,e,n){var r={getSocket:function(e){return ZF.getPart(e,t,"socket")},setSidebar:function(e,n){ZF.getPart(e,t,"sidebar").each((function(t){return xU(t,n)}))},toggleSidebar:function(e,n){ZF.getPart(e,t,"sidebar").each((function(t){return CU(t,n)}))},whichSidebar:function(e){return ZF.getPart(e,t,"sidebar").bind(SU).getOrNull()},getHeader:function(e){return ZF.getPart(e,t,"header")},getToolbar:function(e){return ZF.getPart(e,t,"toolbar")},setToolbar:function(e,n){ZF.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){ZF.getPart(e,t,"multiple-toolbar").each((function(t){ij.setItems(t,n)}))},refreshToolbar:function(e){var n=ZF.getPart(e,t,"toolbar")
n.each((function(t){return t.getApis().refresh(t)}))},toggleToolbarDrawer:function(e){ZF.getPart(e,t,"toolbar").each((function(t){fh(t.getApis().toggle,(function(e){return e(t)}))}))},isToolbarDrawerToggled:function(e){return ZF.getPart(e,t,"toolbar").bind((function(t){return H.from(t.getApis().isOpen).map((function(e){return e(t)}))})).getOr(false)},getThrobber:function(e){return ZF.getPart(e,t,"throbber")},focusToolbar:function(e){var n=ZF.getPart(e,t,"toolbar").orThunk((function(){return ZF.getPart(e,t,"multiple-toolbar")}))
n.each((function(t){vy.focusIn(t)}))},setMenubar:function(e,n){ZF.getPart(e,t,"menubar").each((function(t){uU.setMenus(t,n)}))},focusMenubar:function(e){ZF.getPart(e,t,"menubar").each((function(t){uU.focus(t)}))}}
return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}}
var BU=QF.optional({factory:uU,name:"menubar",schema:[yn("backstage")]})
var IU=function(t){return t.type===mO.sliding?LN:t.type===mO.floating?IN:PN}
var LU=QF.optional({factory:{sketch:function(t){return ij.sketch({uid:t.uid,dom:t.dom,listBehaviours:Nl([vy.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return PN({type:t.type,uid:Li("multiple-toolbar-item"),cyclicKeying:false,initGroups:[],providers:t.providers,onEscape:function(){t.onEscape()
return H.some(true)}})},setupItem:function(t,e,n,r){bP.setGroups(e,n)},shell:true})}},name:"multiple-toolbar",schema:[yn("dom"),yn("onEscape")]})
var PU=QF.optional({factory:{sketch:function(t){var e=IU(t)
var n={type:t.type,uid:t.uid,onEscape:function(){t.onEscape()
return H.some(true)},cyclicKeying:false,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes}
return e(n)}},name:"toolbar",schema:[yn("dom"),yn("onEscape"),yn("getSink")]})
var NU=QF.optional({factory:{sketch:aU},name:"header",schema:[yn("dom")]})
var VU=QF.optional({name:"socket",schema:[yn("dom")]})
var FU=QF.optional({factory:{sketch:TU},name:"sidebar",schema:[yn("dom")]})
var jU=QF.optional({factory:{sketch:AU},name:"throbber",schema:[yn("dom")]})
var UU=uh({name:"OuterContainer",factory:HU,configFields:[yn("dom"),yn("behaviours")],partFields:[NU,BU,PU,LU,VU,FU,jU],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=W(n,(function(t){return RN(t)}))
t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=W(n,(function(t){return W(t,RN)}))
t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},toggleToolbarDrawer:function(t,e){t.toggleToolbarDrawer(e)},isToolbarDrawerToggled:function(t,e){return t.isToolbarDrawerToggled(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}})
var WU="file edit view insert format tools table help"
var qU={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}}
var GU=function(t,e,n){var r=sO(n).split(/[ ,]/)
return{text:t.title,getItems:function(){return et(t.items,(function(t){var n=t.toLowerCase()
return 0===n.trim().length||F(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}
var $U=function(t){if("string"===typeof t)return t.split(" ")
return t}
var XU=function(t,e){var n=_(_({},qU),e.menus)
var r=zt(e.menus).length>0
var o=void 0===e.menubar||true===e.menubar?$U(WU):$U(false===e.menubar?"":e.menubar)
var a=X(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||qU.hasOwnProperty(t)}))
var i=W(a,(function(r){var o=n[r]
return GU({title:o.title,items:$U(o.items)},e,t)}))
return X(i,(function(t){var e=function(t){return"separator"!==t.type}
return t.getItems().length>0&&F(t.getItems(),e)}))}
var KU=function(t){var e=function(){t._skinLoaded=true
Jk(t)}
return function(){t.initialized?e():t.on("init",e)}}
var YU=function(t,e){return function(){return Zk(t,{message:e})}}
var JU=function(t,e,n){return new Ox((function(r,o){n.load(e,r,o)
t.on("remove",(function(){return n.unload(e)}))}))}
var ZU=function(t,e){var n=e+"/skin.min.css"
return JU(t,n,t.ui.styleSheetLoader)}
var QU=function(t,e){var n=ri(er.fromDom(t.getElement()))
if(n){var r=e+"/skin.shadowdom.min.css"
return JU(t,r,ES.DOM.styleSheetLoader)}return Ox.resolve()}
var tW=function(t,e){var n=JS(e)
n&&e.contentCSS.push(n+(t?"/content.inline":"/content")+".min.css")
false===QS(e)&&a(n)?Ox.all([ZU(e,n),QU(e,n)]).then(KU(e),YU(e,"Skin could not be loaded")):KU(e)()}
var eW=x(tW,false)
var nW=x(tW,true)
var rW=function(t,e,n,r){var o=e.outerContainer
var i=n.toolbar
var u=n.buttons
if(m(i,a)){var c=i.map((function(e){var o={toolbar:e,buttons:u,allowToolbarGroups:n.allowToolbarGroups}
return UF(t,o,{backstage:r},H.none())}))
UU.setToolbars(o,c)}else UU.setToolbar(o,UF(t,n,{backstage:r},H.none()))}
var oW=$r()
var aW=oW.os.isiOS()&&oW.os.version.major<=12
var iW=function(t,e){var n=t.dom
var r=t.getWin()
var o=t.getDoc().documentElement
var a=Kn(_c(r.innerWidth,r.innerHeight))
var i=Kn(_c(o.offsetWidth,o.offsetHeight))
var u=function(){var e=a.get()
if(e.left!==r.innerWidth||e.top!==r.innerHeight){a.set(_c(r.innerWidth,r.innerHeight))
tT(t)}}
var c=function(){var e=t.getDoc().documentElement
var n=i.get()
if(n.left!==e.offsetWidth||n.top!==e.offsetHeight){i.set(_c(e.offsetWidth,e.offsetHeight))
tT(t)}}
var s=function(e){return eT(t,e)}
n.bind(r,"resize",u)
n.bind(r,"scroll",s)
var l=m_(er.fromDom(t.getBody()),"load",c)
var v=e.uiMothership.element
t.on("hide",(function(){Ku(v,"display","none")}))
t.on("show",(function(){rc(v,"display")}))
t.on("NodeChange",c)
t.on("remove",(function(){l.unbind()
n.unbind(r,"resize",u)
n.unbind(r,"scroll",s)
r=null}))}
var uW=function(t,e,n,r,o){var a=Kn(0)
var i=e.outerContainer
eW(t)
var u=er.fromDom(o.targetNode)
var c=ni(ei(u))
Wd(u,e.mothership)
Ud(c,e.uiMothership)
t.on("PostRender",(function(){rW(t,e,n,r)
a.set(t.getWin().innerWidth)
UU.setMenubar(i,XU(t,n))
UU.setSidebar(i,n.sidebar)
iW(t,e)}))
var s=UU.getSocket(i).getOrDie("Could not find expected socket element")
if(aW){Yu(s.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"})
var l=ux((function(){t.fire("ScrollContent")}),20)
var v=d_(s.element,"scroll",l.throttle)
t.on("remove",v.unbind)}jO(t,e)
t.addCommand("ToggleSidebar",(function(e,n){UU.toggleSidebar(i,n)
t.fire("ToggleSidebar")}))
t.addQueryValueHandler("ToggleSidebar",(function(){return UU.whichSidebar(i)}))
var f=gO(t)
var d=function(){UU.refreshToolbar(e.outerContainer)}
f!==mO.sliding&&f!==mO.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth
if(e!==a.get()){d()
a.set(e)}}))
var m={enable:function(){FO(e,false)},disable:function(){FO(e,true)},isDisabled:function(){return KS.isDisabled(i)}}
return{iframeContainer:s.element.dom,editorContainer:i.element.dom,api:m}}
var cW=Object.freeze({__proto__:null,render:uW})
var sW=function(t){var e=/^[0-9\.]+(|px)$/i
if(e.test(""+t))return H.some(parseInt(""+t,10))
return H.none()}
var lW=function(t){return d(t)?t+"px":t}
var vW=function(t,e,n){var r=e.filter((function(e){return t<e}))
var o=n.filter((function(e){return t>e}))
return r.or(o).getOr(t)}
var fW=function(t){var e=tO(t)
var n=rO(t)
var r=aO(t)
return sW(e).map((function(t){return vW(t,n,r)}))}
var dW=function(t){var e=fW(t)
return e.getOr(tO(t))}
var mW=function(t){var e=eO(t)
var n=nO(t)
var r=oO(t)
return sW(e).map((function(t){return vW(t,n,r)}))}
var gW=function(t){var e=mW(t)
return e.getOr(eO(t))}
var hW=function(t,e,n,r,o){var a=n.uiMothership,i=n.outerContainer
var u=ES.DOM
var c=OO(t)
var s=_O(t)
var l=oO(t).or(mW(t))
var v=r.shared.header
var f=v.isPositionedAtTop
var d=gO(t)
var m=d===mO.sliding||d===mO.floating
var g=Kn(false)
var h=function(){return g.get()&&!t.removed}
var p=function(t){return m?t.fold((function(){return 0}),(function(t){return t.components().length>1?Sc(t.components()[1].element):0})):0}
var b=function(n){switch(bO(t)){case hO.auto:var r=UU.getToolbar(i)
var o=p(r)
var a=Sc(n.element)-o
var u=os(e)
var c=u.y>a
if(c)return"top"
var s=Ua(e)
var l=Math.max(s.dom.scrollHeight,Sc(s))
var v=u.bottom<l-a
if(v)return"bottom"
var f=is()
var d=f.bottom<u.bottom-a
return d?"bottom":"top"
case hO.bottom:return"bottom"
case hO.top:default:return"top"}}
var y=function(t){var e=o.get()
Uj.setModes(e,[t])
v.setDockingMode(t)
var n=f()?Pv.TopToBottom:Pv.BottomToTop
Si(e.element,Nv,n)}
var w=function(){var t=l.getOrThunk((function(){var t=sW(Zu(qu(),"margin-left")).getOr(0)
return Hc(qu())-Mc(e).left+t}))
Ku(o.get().element,"max-width",t+"px")}
var x=function(){var t=UU.getToolbar(i)
var n=p(t)
var r=os(e)
var a=f()?Math.max(r.y-Sc(o.get().element)+n,0):r.bottom
Yu(i.element,{position:"absolute",top:Math.round(a)+"px",left:Math.round(r.x)+"px"})}
var C=function(){a.broadcastOn([mm()],{})}
var S=function(t){void 0===t&&(t=false)
if(!h())return
c||w()
m&&UU.refreshToolbar(i)
c||x()
if(s){var e=o.get()
t?Uj.reset(e):Uj.refresh(e)}C()}
var O=function(t){void 0===t&&(t=true)
if(c||!s||!h())return
var e=v.getDockingMode()
var n=b(o.get())
if(n!==e){y(n)
t&&S(true)}}
var k=function(){g.set(true)
Ku(i.element,"display","flex")
u.addClass(t.getBody(),"mce-edit-focus")
rc(a.element,"display")
O(false)
S()}
var T=function(){g.set(false)
if(n.outerContainer){Ku(i.element,"display","none")
u.removeClass(t.getBody(),"mce-edit-focus")}Ku(a.element,"display","none")}
return{isVisible:h,isPositionedAtTop:f,show:k,hide:T,update:S,updateMode:O,repositionPopups:C}}
var pW=function(t,e){var n=os(t)
return{pos:e?n.y:n.bottom,bounds:n}}
var bW=function(t,e,n,r){var o=Kn(pW(e,n.isPositionedAtTop()))
var a=function(r){var a=pW(e,n.isPositionedAtTop()),i=a.pos,u=a.bounds
var c=o.get(),s=c.pos,l=c.bounds
var v=u.height!==l.height||u.width!==l.width
o.set({pos:i,bounds:u})
v&&tT(t,r)
if(n.isVisible())if(s!==i)n.update(true)
else if(v){n.updateMode()
n.repositionPopups()}}
if(!r){t.on("activate",n.show)
t.on("deactivate",n.hide)}t.on("SkinLoaded ResizeWindow",(function(){return n.update(true)}))
t.on("NodeChange keydown",(function(t){Kw.requestAnimationFrame((function(){return a(t)}))}))
t.on("ScrollWindow",(function(){return n.updateMode()}))
var i=CF()
i.set(m_(er.fromDom(t.getBody()),"load",a))
t.on("remove",(function(){i.clear()}))}
var yW=function(t,e,n,r,o){var a=e.mothership,i=e.uiMothership,u=e.outerContainer
var c=Kn(null)
var s=er.fromDom(o.targetNode)
var l=hW(t,s,e,r,c)
var v=CO(t)
nW(t)
var f=function(){if(c.get()){l.show()
return}c.set(UU.getHeader(u).getOrDie())
var o=kO(t)
Ud(o,a)
Ud(o,i)
rW(t,e,n,r)
UU.setMenubar(u,XU(t,n))
l.show()
bW(t,s,l,v)
t.nodeChanged()}
t.on("show",f)
t.on("hide",l.hide)
if(!v){t.on("focus",f)
t.on("blur",l.hide)}t.on("init",(function(){(t.hasFocus()||v)&&f()}))
jO(t,e)
var d={show:function(){l.show()},hide:function(){l.hide()},enable:function(){FO(e,false)},disable:function(){FO(e,true)},isDisabled:function(){return KS.isDisabled(u)}}
return{editorContainer:u.element.dom,api:d}}
var wW=Object.freeze({__proto__:null,render:yW})
var xW=function(t){var e=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}]
IA.each(e,(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:OF(t,e.name)})}))
var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"}
t.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return t.execCommand(n.cmd)},icon:n.icon})}
var CW=function(t,e){nF(t,e)
sF(t,e)
AF(t,e)
EF(t,e)
bF(t,e)}
var SW=function(t,e){t.setDisabled(!e.queryCommandState("outdent"))
var n=function(){t.setDisabled(!e.queryCommandState("outdent"))}
e.on("NodeChange",n)
return function(){return e.off("NodeChange",n)}}
var OW=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return SW(e,t)},onAction:function(){return t.execCommand("outdent")}})
t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}
var kW=function(t){OW(t)}
var TW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var _W=(zW="[0-9]+",EW="[+-]?"+zW,MW="[eE]"+EW,DW="\\.",AW=function(t){return"(?:"+t+")?"},RW=["Infinity",zW+DW+AW(zW)+AW(MW),DW+zW+AW(MW),zW+AW(MW)].join("|"),HW="[+-]?(?:"+RW+")",new RegExp("^("+HW+")(.*)$"))
var zW,EW,MW,DW,AW,RW,HW
var BW=function(t,e){return F(e,(function(e){return F(TW[e],(function(e){return t===e}))}))}
var IW=function(t,e){var n=H.from(_W.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return BW(r,e)?H.some({value:n,unit:r}):H.none()}))}
var LW=function(t,e){return IW(t,e).map((function(t){var e=t.value,n=t.unit
return e+n}))}
var PW=function(t){return LW(t,["fixed","relative","empty"]).getOr(t)}
var NW=function(t){var e=cO(t)
var n=new Map
var r=xF()
var o=function(){var e=PW(t.queryCommandValue("LineHeight"))
H.from(n.get(e)).fold((function(){return r.clear()}),(function(t){r.set({destroy:function(){t.setActive(false)}})
t.setActive(true)}))}
t.on("nodeChange",o)
return W(e,(function(a,i){return{type:"togglemenuitem",text:a,onSetup:function(u){n.set(PW(a),u)
i+1===e.length&&o()
return function(){if(0===i){t.off("nodeChange",o)
r.clear()}}},onAction:function(){return t.execCommand("LineHeight",false,a)}}}))}
var VW=function(t){t.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return NW(t)}})}
var FW=function(t){t.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(e){return e(NW(t))}})}
var jW=function(t){VW(t)
FW(t)}
var UW=function(t,e){return function(){t.execCommand("mceToggleFormat",false,e)}}
var WW=function(t){IA.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:OF(t,e.name),onAction:UW(t,e.name)})}))
for(var e=1;e<=6;e++){var n="h"+e
t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:OF(t,n),onAction:UW(t,n)})}}
var qW=function(t){IA.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}
var GW=function(t){IA.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:OF(t,e.name)})}))}
var $W=function(t){WW(t)
qW(t)
GW(t)}
var XW=function(t){IA.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})}))
t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:UW(t,"code")})}
var KW=function(t){$W(t)
XW(t)}
var YW=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()}
var o=function(){t.setDisabled(e.mode.isReadOnly()||!r())}
t.setDisabled(!r())
e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)
return function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}}
var JW=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return YW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return YW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var ZW=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return YW(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}})
t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return YW(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}
var QW=function(t){JW(t)
ZW(t)}
var tq=function(t,e){t.setActive(e.hasVisual)
var n=function(e){t.setActive(e.hasVisual)}
e.on("VisualAid",n)
return function(){return e.off("VisualAid",n)}}
var eq=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return tq(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}
var nq=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}
var rq=function(t){nq(t)
eq(t)}
var oq=function(t,e){xW(t)
KW(t)
CW(t,e)
QW(t)
MT(t)
rq(t)
kW(t)
jW(t)}
var aq=function(t,e){return{anchor:"makeshift",x:t,y:e}}
var iq=function(t,e,n){return aq(t.x+e,t.y+n)}
var uq=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")}
var cq=function(t){if(uq(t)){var e=t.touches[0]
return aq(e.pageX,e.pageY)}return aq(t.pageX,t.pageY)}
var sq=function(t){if(uq(t)){var e=t.touches[0]
return aq(e.clientX,e.clientY)}return aq(t.clientX,t.clientY)}
var lq=function(t,e){var n=ES.DOM.getPos(t)
return iq(e,n.x,n.y)}
var vq=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?cq(e):lq(t.getContentAreaContainer(),sq(e)):fq(t)}
var fq=function(t){return{anchor:"selection",root:er.fromDom(t.selection.getNode())}}
var dq=function(t){return{anchor:"node",node:H.some(er.fromDom(t.selection.getNode())),root:er.fromDom(t.getBody())}}
var mq=function(t,e,n,r,o,a){var i=n()
var u=a?dq(t):vq(t,e)
AH(i,uC.CLOSE_ON_EXECUTE,r,false).map((function(t){e.preventDefault()
Lw.showMenuAt(o,u,{menu:{markers:AC("normal")},data:t})}))}
var gq={onLtr:function(){return[yl,ml,gl,hl,pl,bl,$w,Xw,qw,Uw,Gw,Ww]},onRtl:function(){return[yl,gl,ml,pl,hl,bl,$w,Xw,Gw,Ww,qw,Uw]}}
var hq=12
var pq={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]}
var bq=function(t,e){var n=t.selection
if(n.isCollapsed()||e.touches.length<1)return false
var r=e.touches[0]
var o=n.getRng()
var a=rd(t.getWin(),_f.domRange(o))
return a.exists((function(t){return t.left<=r.clientX&&t.right>=r.clientX&&t.top<=r.clientY&&t.bottom>=r.clientY}))}
var yq=function(t,e){return _({bubble:Rv(0,hq,pq),layouts:gq,overrides:{maxWidthFunction:vP(),maxHeightFunction:zv()}},vq(t,e))}
var wq=function(t){var e=t.selection.getRng()
var n=function(){Kw.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10)
a()}
t.once("touchend",n)
var r=function(t){t.preventDefault()
t.stopImmediatePropagation()}
t.on("mousedown",r,true)
var o=function(){return a()}
t.once("longpresscancel",o)
var a=function(){t.off("touchend",n)
t.off("longpresscancel",o)
t.off("mousedown",r)}}
var xq=function(t,e,n,r,o,a,i){var u=a?dq(t):yq(t,e)
AH(n,uC.CLOSE_ON_EXECUTE,r,true).map((function(n){e.preventDefault()
Lw.showMenuWithinBounds(o,u,{menu:{markers:AC("normal"),highlightImmediately:i},data:n,type:"horizontal"},(function(){return H.some(AV(t,r.shared))}))
t.fire(dP)}))}
var Cq=function(t,e,n,r,o,a){var i=$r()
var u=i.os.isiOS()
var c=i.os.isOSX()
var s=i.os.isAndroid()
var l=i.deviceType.isTouch()
var v=function(){return!(s||u||c&&l)}
var f=function(){var i=n()
xq(t,e,i,r,o,a,v())}
if(!c&&!u||a){s&&!a&&t.selection.setCursorLocation(e.target,0)
f()}else{var d=function(){wq(t)
f()}
if(bq(t,e))d()
else{t.once("selectionchange",d)
t.once("touchend",(function(){return t.off("selectionchange",d)}))}}}
var Sq=function(t){return"string"===typeof t?t.split(/[ ,]/):t}
var Oq=function(t){return t.getParam("contextmenu_never_use_native",false,"boolean")}
var kq=function(t,e,n){var r=t.ui.registry.getAll().contextMenus
return H.from(t.getParam(e)).map(Sq).getOrThunk((function(){return X(Sq(n),(function(t){return Vt(r,t)}))}))}
var Tq=function(t){return false===t.getParam("contextmenu")}
var _q=function(t){return kq(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")}
var zq=function(t){return t.getParam("contextmenu_avoid_overlap","","string")}
var Eq=function(t){return a(t)?"|"===t:"separator"===t.type}
var Mq={type:"separator"}
var Dq=function(t){var e=function(t){return{text:t.text,icon:t.icon,disabled:t.disabled,shortcut:t.shortcut}}
if(a(t))return t
switch(t.type){case"separator":return Mq
case"submenu":return _(_({type:"nestedmenuitem"},e(t)),{getSubmenuItems:function(){var e=t.getSubmenuItems()
return a(e)?e:W(e,Dq)}})
default:return _(_({type:"menuitem"},e(t)),{onAction:h(t.onAction)})}}
var Aq=function(t,e){if(0===e.length)return t
var n=st(t).filter((function(t){return!Eq(t)}))
var r=n.fold((function(){return[]}),(function(t){return[Mq]}))
return t.concat(r).concat(e).concat([Mq])}
var Rq=function(t,e,n){var r=Y(e,(function(e,r){return Nt(t,r.toLowerCase()).map((function(t){var r=t.update(n)
if(a(r))return Aq(e,r.split(" "))
if(r.length>0){var o=W(r,Dq)
return Aq(e,o)}return e})).getOrThunk((function(){return e.concat([r])}))}),[])
r.length>0&&Eq(r[r.length-1])&&r.pop()
return r}
var Hq=function(t,e){return e.ctrlKey&&!Oq(t)}
var Bq=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}
var Iq=function(t,e){return Bq(t,e)?t.selection.getStart(true):e.target}
var Lq=function(t,e){var n=zq(t)
if(Bq(t,e))return true
if(n){var r=Iq(t,e)
return h_(er.fromDom(r),n)}return false}
var Pq=function(t,e,n){var r=$r()
var o=r.deviceType.isTouch
var a=yc(Lw.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(true)},onHide:function(){return n.setContextMenuState(false)},fireDismissalEventInstead:{},inlineBehaviours:Nl([Sy("dismissContextMenu",[wa(na(),(function(e,n){fm.close(e)
t.focus()}))])])}))
var i=function(t){return Lw.hide(a)}
var u=function(e){Oq(t)&&e.preventDefault()
if(Hq(t,e)||Tq(t))return
var r=Lq(t,e)
var i=function(){var n=Iq(t,e)
var r=t.ui.registry.getAll()
var o=_q(t)
return Rq(r.contextMenus,o,n)}
var u=o()?Cq:mq
u(t,e,i,n,a,r)}
t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow")
t.on(e,i)
t.on("longpress contextmenu",u)}))}
var Nq=Ut.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}])
var Vq=function(t){return function(e){return e.translate(-t.left,-t.top)}}
var Fq=function(t){return function(e){return e.translate(t.left,t.top)}}
var jq=function(t){return function(e,n){return Y(t,(function(t,e){return e(t)}),_c(e,n))}}
var Uq=function(t,e,n){return t.fold(jq([Fq(n),Vq(e)]),jq([Vq(e)]),jq([]))}
var Wq=function(t,e,n){return t.fold(jq([Fq(n)]),jq([]),jq([Fq(e)]))}
var qq=function(t,e,n){return t.fold(jq([]),jq([Vq(n)]),jq([Fq(e),Vq(n)]))}
var Gq=function(t,e,n,r,o,a){var i=Wq(t,o,a)
var u=Wq(e,o,a)
return Math.abs(i.left-u.left)<=n&&Math.abs(i.top-u.top)<=r}
var $q=function(t,e,n,r,o,a){var i=Wq(t,o,a)
var u=Wq(e,o,a)
var c=Math.abs(i.left-u.left)
var s=Math.abs(i.top-u.top)
return _c(c,s)}
var Xq=function(t,e,n){var r=t.fold((function(t,e){return{position:H.some("absolute"),left:H.some(t+"px"),top:H.some(e+"px")}}),(function(t,e){return{position:H.some("absolute"),left:H.some(t-n.left+"px"),top:H.some(e-n.top+"px")}}),(function(t,e){return{position:H.some("fixed"),left:H.some(t+"px"),top:H.some(e+"px")}}))
return _({right:H.none(),bottom:H.none()},r)}
var Kq=function(t,e,n){return t.fold((function(t,r){return Jq(t+e,r+n)}),(function(t,r){return Zq(t+e,r+n)}),(function(t,r){return Qq(t+e,r+n)}))}
var Yq=function(t,e,n,r){var o=function(t,o){return function(a,i){var u=t(e,n,r)
return o(a.getOr(u.left),i.getOr(u.top))}}
return t.fold(o(qq,Jq),o(Wq,Zq),o(Uq,Qq))}
var Jq=Nq.offset
var Zq=Nq.absolute
var Qq=Nq.fixed
var tG=function(t,e){var n=ki(t,e)
return s(n)?NaN:parseInt(n,10)}
var eG=function(t,e){var n=t.element
var r=tG(n,e.leftAttr)
var o=tG(n,e.topAttr)
return isNaN(r)||isNaN(o)?H.none():H.some(_c(r,o))}
var nG=function(t,e,n){var r=t.element
Si(r,e.leftAttr,n.left+"px")
Si(r,e.topAttr,n.top+"px")}
var rG=function(t,e){var n=t.element
zi(n,e.leftAttr)
zi(n,e.topAttr)}
var oG=function(t,e,n,r){return eG(t,e).fold((function(){return n}),(function(t){return Qq(t.left+r.left,t.top+r.top)}))}
var aG=function(t,e,n,r,o,a){var i=oG(t,e,n,r)
var u=e.mustSnap?cG(t,e,i,o,a):sG(t,e,i,o,a)
var c=Uq(i,o,a)
nG(t,e,c)
return u.fold((function(){return{coord:Qq(c.left,c.top),extra:H.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))}
var iG=function(t,e){rG(t,e)}
var uG=function(t,e,n,r){return vt(t,(function(t){var o=t.sensor
var a=Gq(e,o,t.range.left,t.range.top,n,r)
return a?H.some({output:Yq(t.output,e,n,r),extra:t.extra}):H.none()}))}
var cG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
var i=uG(a,n,r,o)
return i.orThunk((function(){var t=Y(a,(function(t,e){var a=e.sensor
var i=$q(n,a,e.range.left,e.range.top,r,o)
return t.deltas.fold((function(){return{deltas:H.some(i),snap:H.some(e)}}),(function(n){var r=(i.left+i.top)/2
var o=(n.left+n.top)/2
return r<=o?{deltas:H.some(i),snap:H.some(e)}:t}))}),{deltas:H.none(),snap:H.none()})
return t.snap.map((function(t){return{output:Yq(t.output,n,r,o),extra:t.extra}}))}))}
var sG=function(t,e,n,r,o){var a=e.getSnapPoints(t)
return uG(a,n,r,o)}
var lG=function(t,e,n){return{coord:Yq(t.output,t.output,e,n),extra:t.extra}}
var vG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Fa(t.element)
var i=Wc(a)
var u=fj(o)
var c=lG(r,i,u)
var s=Xq(c.coord,i,u)
Ju(o,s)}}
var fG=Object.freeze({__proto__:null,snapTo:vG})
var dG="data-initial-z-index"
var mG=function(t){qa(t.element).filter(La).each((function(t){Ti(t,dG).fold((function(){return rc(t,"z-index")}),(function(e){return Ku(t,"z-index",e)}))
zi(t,dG)}))}
var gG=function(t){qa(t.element).filter(La).each((function(e){tc(e,"z-index").each((function(t){Si(e,dG,t)}))
Ku(e,"z-index",Zu(t.element,"z-index"))}))}
var hG=function(t,e){t.getSystem().addToGui(e)
gG(e)}
var pG=function(t){mG(t)
t.getSystem().removeFromGui(t)}
var bG=function(t,e,n){return t.getSystem().build(W_.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))}
var yG=In("snaps",[yn("getSnapPoints"),Ls("onSensor"),yn("leftAttr"),yn("topAttr"),Pn("lazyViewport",is),Pn("mustSnap",false)])
var wG=[Pn("useFixed",O),yn("blockerClass"),Pn("getTarget",w),Pn("onDrag",g),Pn("repositionTarget",true),Pn("onDrop",g),Wn("getBounds",is),yG]
var xG=function(t){return vh(tc(t,"left"),tc(t,"top"),tc(t,"position"),(function(t,e,n){var r="fixed"===n?Qq:Jq
return r(parseInt(t,10),parseInt(e,10))})).getOrThunk((function(){var e=Mc(t)
return Zq(e.left,e.top)}))}
var CG=function(t,e,n,r,o){var a=o.bounds
var i=Wq(e,n,r)
var u=gv(i.left,a.x,a.x+a.width-o.width)
var c=gv(i.top,a.y,a.y+a.height-o.height)
var s=Zq(u,c)
return e.fold((function(){var t=qq(s,n,r)
return Jq(t.left,t.top)}),(function(){return s}),(function(){var t=Uq(s,n,r)
return Qq(t.left,t.top)}))}
var SG=function(t,e,n,r,o,a,i){var u=e.fold((function(){var t=Kq(n,a.left,a.top)
var e=Uq(t,r,o)
return Qq(e.left,e.top)}),(function(e){var i=aG(t,e,n,a,r,o)
i.extra.each((function(n){e.onSensor(t,n)}))
return i.coord}))
return CG(t,u,r,o,i)}
var OG=function(t,e,n,r){var o=e.getTarget(t.element)
if(e.repositionTarget){var a=Fa(t.element)
var i=Wc(a)
var u=fj(o)
var c=xG(o)
var s=SG(t,e.snaps,c,i,u,r,n)
var l=Xq(s,i,u)
Ju(o,l)}e.onDrag(t,o,r)}
var kG=function(t,e){return{bounds:t.getBounds(),height:Oc(e.element),width:Bc(e.element)}}
var TG=function(t,e,n,r,o){var a=n.update(r,o)
var i=n.getStartData().getOrThunk((function(){return kG(e,t)}))
a.each((function(n){OG(t,e,i,n)}))}
var _G=function(t,e,n,r){e.each(pG)
n.snaps.each((function(e){iG(t,e)}))
var o=n.getTarget(t.element)
r.reset()
n.onDrop(t,o)}
var zG=function(t){return function(e,n){var r=function(t){n.setStartData(kG(e,t))}
return ha(E([wa(Zo(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}}
var EG=function(t){return ha([wa(So(),t.forceDrop),wa(To(),t.drop),wa(Oo(),(function(e,n){t.move(n.event)})),wa(ko(),t.delayDrop)])}
var MG=function(t){return H.from(_c(t.x,t.y))}
var DG=function(t,e){return _c(e.left-t.left,e.top-t.top)}
var AG=Object.freeze({__proto__:null,getData:MG,getDelta:DG})
var RG=function(t,e,n){return[wa(So(),(function(r,o){var a=o.event.raw
if(0!==a.button)return
o.stop()
var i=function(){return _G(r,H.some(s),t,e)}
var u=p_(i,200)
var c={drop:i,delayDrop:u.schedule,forceDrop:i,move:function(n){u.cancel()
TG(r,t,e,AG,n)}}
var s=bG(r,t.blockerClass,EG(c))
var l=function(){n(r)
hG(r,s)}
l()}))]}
var HG=E(wG,[Fs("dragger",{handlers:zG(RG)})])
var BG=function(t){return ha([wa(yo(),t.forceDrop),wa(xo(),t.drop),wa(Co(),t.drop),wa(wo(),(function(e,n){t.move(n.event)}))])}
var IG=function(t){var e=t[0]
return H.some(_c(e.clientX,e.clientY))}
var LG=function(t){var e=t.raw
var n=e.touches
return 1===n.length?IG(n):H.none()}
var PG=function(t,e){return _c(e.left-t.left,e.top-t.top)}
var NG=Object.freeze({__proto__:null,getData:LG,getDelta:PG})
var VG=function(t,e,n){var r=Kn(H.none())
return[wa(yo(),(function(o,a){a.stop()
var i=function(){_G(o,r.get(),t,e)
r.set(H.none())}
var u={drop:i,delayDrop:g,forceDrop:i,move:function(n){TG(o,t,e,NG,n)}}
var c=bG(o,t.blockerClass,BG(u))
r.set(H.some(c))
var s=function(){n(o)
hG(o,c)}
s()})),wa(wo(),(function(n,r){r.stop()
TG(n,t,e,NG,r.event)})),wa(xo(),(function(n,o){o.stop()
_G(n,r.get(),t,e)
r.set(H.none())})),wa(Co(),(function(n){_G(n,r.get(),t,e)
r.set(H.none())}))]}
var FG=E(wG,[Fs("dragger",{handlers:zG(VG)})])
var jG=function(t,e,n){return E(RG(t,e,n),VG(t,e,n))}
var UG=E(wG,[Fs("dragger",{handlers:zG(jG)})])
var WG=HG
var qG=FG
var GG=UG
var $G=Object.freeze({__proto__:null,mouse:WG,touch:qG,mouseOrTouch:GG})
var XG=function(){var t=H.none()
var e=H.none()
var n=function(){t=H.none()
e=H.none()}
var r=function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}))
t=H.some(n)
return r}
var o=function(t,e){return t.getData(e).bind((function(e){return r(t,e)}))}
var a=function(t){e=H.some(t)}
var i=function(){return e}
var u=y({})
return ou({readState:u,reset:n,update:o,getStartData:i,setStartData:a})}
var KG=Object.freeze({__proto__:null,init:XG})
var YG=Ul({branchKey:"mode",branches:$G,name:"dragging",active:{events:function(t,e){var n=t.dragger
return n.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:H.from(t.extra)}}},state:KG,apis:fG})
var JG=40
var ZG=JG/2
var QG=function(t,e,n,r,o,a){return t.fold((function(){return YG.snap({sensor:Zq(n-ZG,r-ZG),range:_c(o,a),output:Zq(H.some(n),H.some(r)),extra:{td:e}})}),(function(t){var o=n-ZG
var a=r-ZG
var i=JG
var u=JG
var c=t.element.dom.getBoundingClientRect()
return YG.snap({sensor:Zq(o,a),range:_c(i,u),output:Zq(H.some(n-c.width/2),H.some(r-c.height/2)),extra:{td:e}})}))}
var t$=function(t,e,n){var r=function(t,e){return t.exists((function(t){return oo(t,e)}))}
return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,o){var a=o.td
if(!r(e.get(),a)){e.set(H.some(a))
n(a)}},mustSnap:true}}
var e$=function(t){return Zw(Jw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Nl([YG.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),xE.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}
var n$=function(t,e){var n=Kn([])
var r=Kn([])
var o=Kn(false)
var a=Kn(H.none())
var i=Kn(H.none())
var u=function(t){var n=as(t)
return QG(d.getOpt(e),t,n.x,n.y,n.width,n.height)}
var c=function(){return W(n.get(),(function(t){return u(t)}))}
var s=function(t){var n=as(t)
return QG(m.getOpt(e),t,n.right,n.bottom,n.width,n.height)}
var l=function(){return W(r.get(),(function(t){return s(t)}))}
var v=t$(c,a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))}))
var f=t$(l,i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))}))
var d=e$(v)
var m=e$(f)
var g=yc(d.asSpec())
var h=yc(m.asSpec())
var p=function(e,n,r,o){var a=n.dom.getBoundingClientRect()
rc(e.element,"display")
var i=Wa(er.fromDom(t.getBody())).dom.innerHeight
var u=r(a)
var c=o(a,i);(u||c)&&Ku(e.element,"display","none")}
var b=function(t,e,n,r){var o=n(e)
YG.snapTo(t,o)
var a=function(t){return t[r]<0}
var i=function(t,e){return t[r]>e}
p(t,e,a,i)}
var y=function(t){return b(g,t,u,"top")}
var w=function(){return a.get().each(y)}
var x=function(t){return b(h,t,s,"bottom")}
var C=function(){return i.get().each(x)}
if($r().deviceType.isTouch()){t.on("TableSelectionChange",(function(t){if(!o.get()){Pd(e,g)
Pd(e,h)
o.set(true)}a.set(H.some(t.start))
i.set(H.some(t.finish))
t.otherCells.each((function(e){n.set(e.upOrLeftCells)
r.set(e.downOrRightCells)
y(t.start)
x(t.finish)}))}))
t.on("ResizeEditor ResizeWindow ScrollContent",(function(){w()
C()}))
t.on("TableSelectionClear",(function(){if(o.get()){Fd(g)
Fd(h)
o.set(false)}a.set(H.none())
i.set(H.none())}))}}
var r$=function(t){if(1===t.nodeType){if("BR"===t.nodeName||!!t.getAttribute("data-mce-bogus"))return true
if("bookmark"===t.getAttribute("data-mce-type"))return true}return false}
var o$=function(t,e,n){e.delimiter||(e.delimiter="")
var r=function(r){var o=r||[]
var a=W(o,(function(e,r){return Jw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus()
t.selection.select(e.element)
t.nodeChanged()},buttonBehaviours:Nl([XO.button(n.isDisabled),UO()])})}))
var i={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":true},innerHtml:" "+e.delimiter+" "}}
return Y(a.slice(1),(function(t,e){var n=t
n.push(i)
n.push(e)
return n}),[a[0]])}
var o=function(e){var n=[]
var r=e.length
while(r-- >0){var o=e[r]
if(1===o.nodeType&&!r$(o)){var a=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o})
a.isDefaultPrevented()||n.push({name:a.name,element:o})
if(a.isPropagationStopped())break}}return n}
return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Nl([vy.config({mode:"flow",selector:"div[role=button]"}),KS.config({disabled:n.isDisabled}),UO(),tz.config({}),xy.config({}),Sy("elementPathEvents",[Ma((function(e,n){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return vy.focusIn(e)}))
t.on("NodeChange",(function(t){var n=o(t.parents)
n.length>0?xy.set(e,r(n)):xy.set(e,[])}))}))])]),components:[]}}
var a$;(function(t){t[t["None"]=0]="None"
t[t["Both"]=1]="Both"
t[t["Vertical"]=2]="Vertical"})(a$||(a$={}))
var i$=function(t,e,n,r,o){var a={}
a.height=vW(r+e.top,rO(t),aO(t))
n===a$.Both&&(a.width=vW(o+e.left,nO(t),oO(t)))
return a}
var u$=function(t,e,n){var r=er.fromDom(t.getContainer())
var o=i$(t,e,n,Sc(r),Hc(r))
Mt(o,(function(t,e){return Ku(r,e,lW(t))}))
Qk(t)}
var c$=function(t){var e=!t.hasPlugin("autoresize")
var n=t.getParam("resize",e)
return false===n?a$.None:"both"===n?a$.Both:a$.Vertical}
var s$=function(t,e,n,r){var o=20
var a=_c(n*o,r*o)
u$(t,a,e)
return H.some(true)}
var l$=function(t,e){var n=c$(t)
if(n===a$.None)return H.none()
return H.some({dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize")},innerHtml:tx("resize-handle",e.icons)},behaviours:Nl([YG.config({mode:"mouse",repositionTarget:false,onDrag:function(e,r,o){return u$(t,o,n)},blockerClass:"tox-blocker"}),vy.config({mode:"special",onLeft:function(){return s$(t,n,-1,0)},onRight:function(){return s$(t,n,1,0)},onUp:function(){return s$(t,n,0,-1)},onDown:function(){return s$(t,n,0,1)}}),tz.config({}),Ay.config({})])})}
var v$=function(t,e){var n
var r=function(t,n,r){return xy.set(t,[hc(e.translate(["{0} "+r,n[r]]))])}
return Jw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Nl([XO.button(e.isDisabled),UO(),tz.config({}),xy.config({}),Xm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Sy("wordcount-events",[Ra((function(t){var e=Xm.getValue(t)
var n="words"===e.mode?"characters":"words"
Xm.setValue(t,{mode:n,count:e.count})
r(t,e.count,n)})),Ma((function(e){t.on("wordCountUpdate",(function(t){var n=Xm.getValue(e).mode
Xm.setValue(e,{mode:n,count:t.wordCount})
r(e,t.wordCount,n)}))}))])]),eventOrder:(n={},n[Uo()]=["disabling","alloy.base.behaviour","wordcount-events"],n)})}
var f$=function(t,e){var n=function(){var t=MS.translate(["Powered by {0}","Tiny"])
var e='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+t+'">'+t+"</a>"
return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:e}}}
var r=function(){var r=[]
t.getParam("elementpath",true,"boolean")&&r.push(o$(t,{},e))
t.hasPlugin("wordcount")&&r.push(v$(t,e))
t.getParam("branding",true,"boolean")&&r.push(n())
if(r.length>0)return[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]
return[]}
var o=function(){var n=r()
var o=l$(t,e)
return n.concat(o.toArray())}
return{dom:{tag:"div",classes:["tox-statusbar"]},components:o()}}
var d$=function(t){var e
var n=t.inline
var r=n?wW:cW
var o=_O(t)?oU:lj
var a=H.none()
var i=$r()
var u=i.browser.isIE()
var c=u?["tox-platform-ie"]:[]
var s=i.deviceType.isTouch()
var l="tox-platform-touch"
var v=s?[l]:[]
var f=yO(t)
var d=kO(t)
var m=MS.isRtl()?{attributes:{dir:"rtl"}}:{}
var h={attributes:(e={},e[Nv]=f?Pv.BottomToTop:Pv.TopToBottom,e)}
var p=function(){return a.bind(UU.getHeader)}
var b=function(){return o.isDocked(p)}
var y=function(){Ku(Z.element,"width",document.body.clientWidth+"px")}
var w=function(){var t=oo(qu(),d)&&"grid"===Zu(d,"display")
var e={dom:_({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(c).concat(v)},m),behaviours:Nl([Ad.config({useFixed:function(){return b()}})])}
var n={dom:{styles:{width:document.body.clientWidth+"px"}},events:ha([wa(Qo(),y)])}
return Xt(e,t?n:{})}
var x=yc(w())
var C=function(){return gt.value(x)}
var S=Zw({dom:{tag:"div",classes:["tox-anchorbar"]}})
var O=function(){return a.bind((function(t){return S.getOpt(t)})).getOrDie("Could not find a anchor bar element")}
var k=function(){return a.bind((function(t){return UU.getToolbar(t)})).getOrDie("Could not find more toolbar element")}
var T=function(){return a.bind((function(t){return UU.getThrobber(t)})).getOrDie("Could not find throbber element")}
var z=lP(x,t,O)
var E=UU.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:z,onEscape:function(){t.focus()}})
var M=gO(t)
var D=UU.parts.toolbar(_({dom:{tag:"div",classes:["tox-toolbar"]},getSink:C,providers:z.shared.providers,onEscape:function(){t.focus()},type:M,lazyToolbar:k,lazyHeader:function(){return p().getOrDie("Could not find header element")}},h))
var A=UU.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:z.shared.providers,onEscape:function(){t.focus()},type:M})
var R=UU.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}})
var B=UU.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})
var I=UU.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:z})
var L=t.getParam("statusbar",true,"boolean")
var P=L&&!n?H.some(f$(t,z.shared.providers)):H.none()
var N={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[R,B]}
var V=dO(t)
var F=vO(t)
var j=lO(t)
var U=function(){return V?[A]:F?[D]:[]}
var W=UU.parts.header({dom:_({tag:"div",classes:["tox-editor-header"]},h),components:tt([j?[E]:[],U(),OO(t)?[]:[S.asSpec()]]),sticky:_O(t),editor:t,sharedBackstage:z.shared})
var q=tt([f?[]:[W],n?[]:[N],f?[W]:[]])
var G={dom:{tag:"div",classes:["tox-editor-container"]},components:q}
var $=tt([[G],n?[]:P.toArray(),[I]])
var X=TO(t)
var K=_(_({role:"application"},MS.isRtl()?{dir:"rtl"}:{}),X?{"aria-hidden":"true"}:{})
var Y=yc(UU.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(v).concat(c),styles:_({visibility:"hidden"},X?{opacity:"0",border:"0"}:{}),attributes:K},components:$,behaviours:Nl([UO(),KS.config({disableClass:"tox-tinymce--disabled"}),vy.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}))
a=H.some(Y)
t.shortcuts.add("alt+F9","focus menubar",(function(){UU.focusMenubar(Y)}))
t.shortcuts.add("alt+F10","focus toolbar",(function(){UU.focusToolbar(Y)}))
t.addCommand("ToggleToolbarDrawer",(function(){UU.toggleToolbarDrawer(Y)}))
t.addQueryStateHandler("ToggleToolbarDrawer",(function(){return UU.isToolbarDrawerToggled(Y)}))
var J=q_(Y)
var Z=q_(x)
JF(t,J,Z)
var Q=function(){var t={broadcastAll:Z.broadcast,broadcastOn:Z.broadcastOn,register:g}
return{channels:t}}
var et=function(){var e=lW(dW(t))
var n=lW(gW(t))
if(!t.inline){nc("div","width",n)&&Ku(Y.element,"width",n)
nc("div","height",e)?Ku(Y.element,"height",e):Ku(Y.element,"height","200px")}return e}
var nt=function(){o.setup(t,z.shared,p)
oq(t,z)
Pq(t,C,z)
pU(t)
RU(t,T,z.shared)
Dt(pO(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}))
var e=t.ui.registry.getAll(),n=e.buttons,a=e.menuItems,i=e.contextToolbars,u=e.sidebars
var c=fO(t)
var s={menuItems:a,menus:EO(t),menubar:MO(t),toolbar:c.getOrThunk((function(){return DO(t)})),allowToolbarGroups:M===mO.floating,buttons:n,sidebar:u}
YF(t,i,x,{backstage:z})
n$(t,x)
var l=t.getElement()
var v=et()
var f={mothership:J,uiMothership:Z,outerContainer:Y}
var d={targetNode:l,height:v}
return r.render(t,f,s,z,d)}
return{mothership:J,uiMothership:Z,backstage:z,renderUI:nt,getUi:Q}}
var m$=function(t,e){var n=H.from(ki(t,"id")).fold((function(){var t=Li("dialog-describe")
Si(e,"id",t)
return t}),w)
Si(t,"aria-describedby",n)}
var g$=function(t,e){var n=Ti(t,"id").fold((function(){var t=Li("dialog-label")
Si(e,"id",t)
return t}),w)
Si(t,"aria-labelledby",n)}
var h$=y([yn("lazySink"),Mn("dragBlockClass"),Wn("getBounds",is),Pn("useTabstopAt",k),Pn("eventOrder",{}),Km("modalBehaviours",[vy]),Ps("onExecute"),Vs("onEscape")])
var p$={sketch:w}
var b$=y([Eg({name:"draghandle",overrides:function(t,e){return{behaviours:Nl([YG.config({mode:"mouse",getTarget:function(t){return fs(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),_g({schema:[yn("dom")],name:"title"}),_g({factory:p$,schema:[yn("dom")],name:"close"}),_g({factory:p$,schema:[yn("dom")],name:"body"}),Eg({factory:p$,schema:[yn("dom")],name:"footer"}),zg({factory:{sketch:function(t,e){return _(_({},t),{dom:e.dom,components:e.components})}},schema:[Pn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Pn("components",[])],name:"blocker"})])
var y$=function(t,e,n,r){Si(t.element,"aria-busy",true)
var o=e.getRoot(t).getOr(t)
var a=Nl([vy.config({mode:"special",onTab:function(){return H.some(true)},onShiftTab:function(){return H.some(true)}}),Ay.config({})])
var i=r(o,a)
var u=o.getSystem().build(i)
xy.append(o,wc(u))
u.hasConfigured(vy)&&vy.focusIn(u)
n.isBlocked()||e.onBlock(t)
n.blockWith((function(){return xy.remove(o,u)}))}
var w$=function(t,e,n){zi(t.element,"aria-busy")
n.isBlocked()&&e.onUnblock(t)
n.clear()}
var x$=Object.freeze({__proto__:null,block:y$,unblock:w$})
var C$=[Wn("getRoot",H.none),Ls("onBlock"),Ls("onUnblock")]
var S$=function(){var t=xF()
var e=function(e){t.set({destroy:e})}
return ou({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})}
var O$=Object.freeze({__proto__:null,init:S$})
var k$=Fl({fields:C$,name:"blocking",apis:x$,state:O$})
var T$=function(t,e,n,r){var o
var a=Kn(H.none())
var i=function(e){a.set(H.some(e))
var n=t.lazySink(e).getOrDie()
var o=r.blocker()
var i=n.getSystem().build(_(_({},o),{components:o.components.concat([wc(e)]),behaviours:Nl([Ay.config({}),Sy("dialog-blocker-events",[Ea(zo(),(function(){vy.focusIn(e)}))])])}))
Pd(n,i)
vy.focusIn(e)}
var u=function(t){a.set(H.none())
qa(t.element).each((function(e){t.getSystem().getByDom(e).each((function(t){Fd(t)}))}))}
var c=function(e){return Ug(e,t,"body")}
var s=function(e){return Ug(e,t,"footer")}
var l=function(t,e){k$.block(t,e)}
var v=function(t){k$.unblock(t)}
var f=Li("modal-events")
var d=_(_({},t.eventOrder),(o={},o[ta()]=[f].concat(t.eventOrder["alloy.system.attached"]||[]),o))
return{uid:t.uid,dom:t.dom,components:e,apis:{show:i,hide:u,getBody:c,getFooter:s,setIdle:v,setBusy:l},eventOrder:d,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Jm(t.modalBehaviours,[xy.config({}),vy.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),k$.config({getRoot:a.get}),Sy(f,[Ma((function(e){g$(e.element,Ug(e,t,"title").element)
m$(e.element,Ug(e,t,"body").element)}))])])}}
var _$=uh({name:"ModalDialog",configFields:h$(),partFields:b$(),factory:T$,apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}})
var z$=Pe([Cn("type"),Cn("name")].concat(ZC))
var E$=mn
var M$=[Ge("name","name",ne((function(){return Li("button-name")})),dn),Rn("icon"),jn("align","end",["start","end"]),Un("primary",false),Un("disabled",false)]
var D$=E(M$,[Cn("text")])
var A$=E([Sn("type",["submit","cancel","custom"])],D$)
var R$=E([Sn("type",["menu"]),Rn("text"),Rn("tooltip"),Rn("icon"),En("items",z$)],M$)
var H$=cn("type",{submit:A$,cancel:A$,custom:A$,menu:R$})
var B$=[Cn("type"),Cn("text"),Sn("level",["info","warn","error","success"]),Cn("icon"),Pn("url","")]
var I$=Pe(B$)
var L$=function(t){return[Cn("type"),t]}
var P$=[Cn("type"),Cn("text"),Un("disabled",false),Un("primary",false),Ge("name","name",ne((function(){return Li("button-name")})),dn),Rn("icon"),Un("borderless",false)]
var N$=Pe(P$)
var V$=[Cn("type"),Cn("name"),Cn("label"),Un("disabled",false)]
var F$=Pe(V$)
var j$=mn
var U$=[Cn("type"),Cn("name")]
var W$=U$.concat([Rn("label")])
var q$=W$.concat([Pn("columns","auto")])
var G$=Pe(q$)
var $$=Ye([Cn("value"),Cn("text"),Cn("icon")])
var X$=W$
var K$=Pe(X$)
var Y$=dn
var J$=W$
var Z$=Pe(J$)
var Q$=dn
var tX=U$.concat([Fn("tag","textarea"),Cn("scriptId"),Cn("scriptUrl"),qn("settings",void 0)])
var eX=U$.concat([Fn("tag","textarea"),kn("init")])
var nX=Qe((function(t){return nn("customeditor.old",Le(eX),t).orThunk((function(){return nn("customeditor.new",Le(tX),t)}))}))
var rX=dn
var oX=W$
var aX=Pe(oX)
var iX=Je()
var uX=function(t){return[Cn("type"),xn("columns"),t]}
var cX=[Cn("type"),Cn("html"),jn("presets","presentation",["presentation","document"])]
var sX=Pe(cX)
var lX=W$.concat([Un("sandboxed",true)])
var vX=Pe(lX)
var fX=dn
var dX=W$.concat([wn("currentState",Pe([yn("blob"),Cn("url")]))])
var mX=Pe(dX)
var gX=W$.concat([Rn("inputMode"),Rn("placeholder"),Un("maximized",false),Un("disabled",false)])
var hX=Pe(gX)
var pX=dn
var bX=function(t){return[Cn("type"),Cn("label"),t]}
var yX=[Cn("text"),Cn("value")]
var wX=[Cn("text"),En("items",sn("items",(function(){return xX})))]
var xX=Ve([Pe(yX),Pe(wX)])
var CX=W$.concat([En("items",xX),Un("disabled",false)])
var SX=Pe(CX)
var OX=dn
var kX=W$.concat([zn("items",[Cn("text"),Cn("value")]),Vn("size",1),Un("disabled",false)])
var TX=Pe(kX)
var _X=dn
var zX=W$.concat([Un("constrain",true),Un("disabled",false)])
var EX=Pe(zX)
var MX=Pe([Cn("width"),Cn("height")])
var DX=[Cn("type"),En("header",dn),En("cells",Ne(dn))]
var AX=Pe(DX)
var RX=W$.concat([Rn("placeholder"),Un("maximized",false),Un("disabled",false)])
var HX=Pe(RX)
var BX=dn
var IX=W$.concat([jn("filetype","file",["image","media","file"]),Pn("disabled",false)])
var LX=Pe(IX)
var PX=Pe([Cn("value"),Pn("meta",{})])
var NX=function(t){return Ge("items","items",te(),Ne(Qe((function(e){return nn("Checking item of "+t,VX,e).fold((function(t){return gt.error(an(t))}),(function(t){return gt.value(t)}))}))))}
var VX=Ze((function(){return un("type",{alertbanner:I$,bar:Pe(L$(NX("bar"))),button:N$,checkbox:F$,colorinput:K$,colorpicker:Z$,dropzone:aX,grid:Pe(uX(NX("grid"))),iframe:vX,input:hX,listbox:SX,selectbox:TX,sizeinput:EX,textarea:HX,urlinput:LX,customeditor:nX,htmlpanel:sX,imagetools:mX,collection:G$,label:Pe(bX(NX("label"))),table:AX,panel:jX})}))
var FX=[Cn("type"),Pn("classes",[]),En("items",VX)]
var jX=Pe(FX)
var UX=[Ge("name","name",ne((function(){return Li("tab-name")})),dn),Cn("title"),En("items",VX)]
var WX=[Cn("type"),zn("tabs",UX)]
var qX=Pe(WX)
var GX=D$
var $X=H$
var XX=Pe([Cn("title"),wn("body",un("type",{panel:jX,tabpanel:qX})),Fn("size","normal"),En("buttons",$X),Pn("initialData",{}),Wn("onAction",g),Wn("onChange",g),Wn("onSubmit",g),Wn("onClose",g),Wn("onCancel",g),Pn("onTabChange",g)])
var KX=function(t){return nn("dialog",XX,t)}
var YX=Pe(E([Sn("type",["cancel","custom"])],GX))
var JX=Pe([Cn("title"),Cn("url"),An("height"),An("width"),Bn("buttons",YX),Wn("onAction",g),Wn("onCancel",g),Wn("onClose",g),Wn("onMessage",g)])
var ZX=function(t){return nn("dialog",JX,t)}
var QX=function(t){return i(t)?[t].concat(et(Pt(t),QX)):u(t)?et(t,QX):[]}
var tK=function(t){return a(t.type)&&a(t.name)}
var eK={checkbox:j$,colorinput:Y$,colorpicker:Q$,dropzone:iX,input:pX,iframe:fX,sizeinput:MX,selectbox:_X,listbox:OX,size:MX,textarea:BX,urlinput:PX,customeditor:rX,collection:$$,togglemenuitem:E$}
var nK=function(t){return H.from(eK[t.type])}
var rK=function(t){return X(QX(t),tK)}
var oK=function(t){var e=rK(t)
var n=et(e,(function(t){return nK(t).fold((function(){return[]}),(function(e){return[wn(t.name,e)]}))}))
return Pe(n)}
var aK=function(t){var e=rn(KX(t))
var n=oK(t)
var r=t.initialData
return{internalDialog:e,dataValidator:n,initialData:r}}
var iK={open:function(t,e){var n=aK(e)
return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){var n=rn(ZX(e))
return t(n)},redial:function(t){return aK(t)}}
var uK=function(t){var e=[]
var n={}
Mt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))}))
return e.length>0?gt.error(e):gt.value(n)}
var cK=function(t,e){var n=Zw(pA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:W(t.items,(function(t){return $I(n,t,e)}))}})))
return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[n.asSpec()]}],behaviours:Nl([vy.config({mode:"acyclic",useTabstopAt:C(eR)}),zA.memento(n),WA.memento(n,{postprocess:function(t){return uK(t).fold((function(t){console.error(t)
return{}}),(function(t){return t}))}})])}}
var sK=function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Qy(t.action),behaviours:Jm(t.tabButtonBehaviours,[Ay.config({}),vy.config({mode:"execution",useSpace:true,useEnter:true}),Xm.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}
var lK=ih({name:"TabButton",configFields:[Pn("uid",void 0),yn("value"),Ge("dom","dom",re((function(){return{attributes:{role:"tab",id:Li("aria"),"aria-selected":"false"}}})),ln()),Mn("action"),Pn("domModification",{}),Km("tabButtonBehaviours",[Ay,vy,Xm]),yn("view")],factory:sK})
var vK=y([yn("tabs"),yn("dom"),Pn("clickToDismiss",false),Km("tabbarBehaviours",[Ph,vy]),Bs(["tabClass","selectedClass"])])
var fK=Mg({factory:lK,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){Ph.dehighlight(t,e)
va(t,ua(),{tabbar:t,button:e})}
var n=function(t,e){Ph.highlight(t,e)
va(t,ia(),{tabbar:t,button:e})}
return{action:function(r){var o=r.getSystem().getByUid(t.uid).getOrDie()
var a=Ph.isHighlighted(o,r)
var i=a&&t.clickToDismiss?e:a?g:n
i(o,r)},domModification:{classes:[t.markers.tabClass]}}}})
var dK=y([fK])
var mK=function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Jm(t.tabbarBehaviours,[Ph.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){Si(e.element,"aria-selected","true")},onDehighlight:function(t,e){Si(e.element,"aria-selected","false")}}),vy.config({mode:"flow",getInitial:function(t){return Ph.getHighlighted(t).map((function(t){return t.element}))},selector:"."+t.markers.tabClass,executeOnMove:true})])}}
var gK=uh({name:"Tabbar",configFields:vK(),partFields:dK(),factory:mK})
var hK=function(t,e){return{uid:t.uid,dom:t.dom,behaviours:Jm(t.tabviewBehaviours,[xy.config({})]),domModification:{attributes:{role:"tabpanel"}}}}
var pK=ih({name:"Tabview",configFields:[Km("tabviewBehaviours",[xy])],factory:hK})
var bK=y([Pn("selectFirst",true),Ls("onChangeTab"),Ls("onDismissTab"),Pn("tabs",[]),Km("tabSectionBehaviours",[])])
var yK=_g({factory:gK,schema:[yn("dom"),_n("markers",[yn("tabClass"),yn("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}})
var wK=_g({factory:pK,name:"tabview"})
var xK=y([yK,wK])
var CK=function(t,e,n,r){var o=function(e){var n=Xm.getValue(e)
jg(e,t,"tabview").each((function(r){var o=Z(t.tabs,(function(t){return t.value===n}))
o.each((function(n){var o=n.view()
Ti(e.element,"id").each((function(t){Si(r.element,"aria-labelledby",t)}))
xy.set(r,o)
t.onChangeTab(r,e,o)}))}))}
var a=function(e,n){jg(e,t,"tabbar").each((function(t){n(t).each(fa)}))}
return{uid:t.uid,dom:t.dom,components:e,behaviours:Ym(t.tabSectionBehaviours),events:ha(tt([t.selectFirst?[Ma((function(t,e){a(t,Ph.getFirst)}))]:[],[wa(ia(),(function(t,e){var n=e.event.button
o(n)})),wa(ua(),(function(e,n){var r=n.event.button
t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return jg(e,t,"tabview").map((function(t){return xy.contents(t)})).getOr([])},showTab:function(t,e){var n=function(t){var n=Ph.getCandidates(t)
var r=Z(n,(function(t){return Xm.getValue(t)===e}))
return r.filter((function(e){return!Ph.isHighlighted(t,e)}))}
a(t,n)}}}}
var SK=uh({name:"TabSection",configFields:bK(),partFields:xK(),factory:CK,apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}})
var OK=function(t,e,n){return W(t,(function(r,o){xy.set(n,t[o].view())
var a=e.dom.getBoundingClientRect()
xy.set(n,[])
return a.height}))}
var kK=function(t){return ct(it(t,(function(t,e){return t>e?-1:t<e?1:0})))}
var TK=function(t,e,n){var r=Ua(t).dom
var o=fs(t,".tox-dialog-wrap").getOr(t)
var a="fixed"===Zu(o,"position")
var i
i=a?Math.max(r.clientHeight,window.innerHeight):Math.max(r.offsetHeight,r.scrollHeight)
var u=Sc(e)
var c=e.dom.offsetLeft>=n.dom.offsetLeft+Hc(n)
var s=c?Math.max(Sc(n),u):u
var l=parseInt(Zu(t,"margin-top"),10)||0
var v=parseInt(Zu(t,"margin-bottom"),10)||0
var f=Sc(t)+l+v
var d=f-s
return i-d}
var _K=function(t,e){ct(t).each((function(t){return SK.showTab(e,t.value)}))}
var zK=function(t,e){Ku(t,"height",e+"px")
$r().browser.isIE()?rc(t,"flex-basis"):Ku(t,"flex-basis",e+"px")}
var EK=function(t,e,n){fs(t,'[role="dialog"]').each((function(t){ds(t,'[role="tablist"]').each((function(r){n.get().map((function(n){Ku(e,"height","0")
Ku(e,"flex-basis","0")
return Math.min(n,TK(t,e,r))})).each((function(t){zK(e,t)}))}))}))}
var MK=function(t){return ds(t,'[role="tabpanel"]')}
var DK=function(t){var e=(n=Kn(H.none()),r=[Ma((function(e){var r=e.element
MK(r).each((function(o){Ku(o,"visibility","hidden")
e.getSystem().getByDom(o).toOptional().each((function(e){var r=OK(t,o,e)
var a=kK(r)
n.set(a)}))
EK(r,o,n)
rc(o,"visibility")
_K(t,e)
Kw.requestAnimationFrame((function(){EK(r,o,n)}))}))})),wa(Qo(),(function(t){var e=t.element
MK(e).each((function(t){EK(e,t,n)}))})),wa(hz,(function(t,e){var r=t.element
MK(r).each((function(t){var e=Zl(ei(t))
Ku(t,"visibility","hidden")
var o=tc(t,"height").map((function(t){return parseInt(t,10)}))
rc(t,"height")
rc(t,"flex-basis")
var a=t.dom.getBoundingClientRect().height
var i=o.forall((function(t){return a>t}))
if(i){n.set(H.from(a))
EK(r,t,n)}else o.each((function(e){zK(t,e)}))
rc(t,"visibility")
e.each(Kl)}))}))],o=false,{extraEvents:r,selectFirst:o})
var n,r,o
var a=function(){var t=[]
var e=true
return{extraEvents:t,selectFirst:e}}()
return{smartTabHeight:e,naiveTabHeight:a}}
var AK="send-data-to-section"
var RK="send-data-to-view"
var HK=function(t,e){var n=Kn({})
var r=function(t){var e=Xm.getValue(t)
var r=uK(e).getOr({})
var o=n.get()
var a=Xt(o,r)
n.set(a)}
var o=function(t){var e=n.get()
Xm.setValue(t,e)}
var a=Kn(null)
var i=W(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[pA.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:W(t.items,(function(t){return $I(n,t,e)})),formBehaviours:Nl([vy.config({mode:"acyclic",useTabstopAt:C(eR)}),Sy("TabView.form.events",[Ma(o),Da(r)]),ql.config({channels:le([{key:AK,value:{onReceive:r}},{key:RK,value:{onReceive:o}}])})])}}))]}}}))
var u=DK(i).smartTabHeight
return SK.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=Xm.getValue(e)
va(t,gz,{name:r,oldName:a.get()})
a.set(r)},tabs:i,components:[SK.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[gK.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Nl([tz.config({})])}),SK.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Nl([Sy("tabpanel",u.extraEvents),vy.config({mode:"acyclic"}),bh.config({find:function(t){return ct(SK.getViewItems(t))}}),Xm.config({store:{mode:"manual",getValue:function(t){t.getSystem().broadcastOn([AK],{})
return n.get()},setValue:function(t,e){n.set(e)
t.getSystem().broadcastOn([RK],{})}}})])})}
var BK=Li("update-dialog")
var IK=Li("update-title")
var LK=Li("update-body")
var PK=Li("update-footer")
var NK=Li("body-send-message")
var VK=function(t,e,n,r){var o=function(t){switch(t.body.type){case"tabpanel":return[HK(t.body,n)]
default:return[cK(t.body,n)]}}
var a=function(t,e){return H.some({isTabPanel:function(){return"tabpanel"===e.body.type}})}
var i={"aria-live":"polite"}
return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:_(_({},e.map((function(t){return{id:t}})).getOr({})),r?i:{})},components:[],behaviours:Nl([zA.childAt(0),QN.config({channel:LK,updateState:a,renderComponents:o,initialData:t})])}}
var FK=function(t,e,n,r){return VK(t,H.some(e),n,r)}
var jK=function(t,e){var n=VK(t,H.none(),e,false)
return _$.parts.body(n)}
var UK=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[ZA({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Nl([tz.config({}),Ay.config({})])})]}],behaviours:Nl([vy.config({mode:"acyclic",useTabstopAt:C(eR)})])}
return _$.parts.body(e)}
var WK=ok.deviceType.isTouch()
var qK=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}}
var GK=function(t,e){return _$.parts.close(Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Nl([tz.config({})])}))}
var $K=function(){return _$.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}
var XK=function(t,e){return _$.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:EU("<p>"+e.translate(t)+"</p>")}]}]})}
var KK=function(t){return _$.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})}
var YK=function(t,e){return[W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]}
var JK=function(t){var e
var n="tox-dialog"
var r=n+"-wrap"
var o=r+"__backdrop"
var a=n+"__disable-scroll"
return _$.sketch({lazySink:t.lazySink,onEscape:function(e){t.onEscape(e)
return H.some(true)},useTabstopAt:function(t){return!eR(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:_({position:"relative"},t.extraStyles)},components:E([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:EU('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:WK?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Nl(E([Ay.config({}),Sy("dialog-events",t.dialogEvents.concat([Ea(zo(),(function(t,e){vy.focusIn(t)}))])),Sy("scroll-lock",[Ma((function(){Lu(qu(),a)})),Da((function(){Nu(qu(),a)}))])],t.extraBehaviours)),eventOrder:_((e={},e[Uo()]=["dialog-events"],e[ta()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[ea()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})}
var ZK=function(t){return Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:tx("close",t.icons)}}],action:function(t){la(t,lz)}})}
var QK=function(t,e,n){var r=function(t){return[hc(n.translate(t.title))]}
return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:_({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Nl([QN.config({channel:IK,renderComponents:r})])}}
var tY=function(){return{dom:EU('<div class="tox-dialog__draghandle"></div>')}}
var eY=function(t,e,n){return W_.sketch({dom:EU('<div class="tox-dialog__header"></div>'),components:[QK(t,H.some(e),n),tY(),ZK(n)],containerBehaviours:Nl([YG.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return ms(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})}
var nY=function(t,e){var n=_$.parts.title(QK(t,H.none(),e))
var r=_$.parts.draghandle(tY())
var o=_$.parts.close(ZK(e))
var a=[n].concat(t.draggable?[r]:[]).concat([o])
return W_.sketch({dom:EU('<div class="tox-dialog__header"></div>'),components:a})}
var rY=function(t,e){return nY({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)}
var oY=function(t,e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:EU('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}
var aY=function(t,e,n){return{onClose:function(){return n.closeWindow()},onBlock:function(n){_$.setBusy(t(),(function(t,r){return oY(n.message,r,e)}))},onUnblock:function(){_$.setIdle(t())}}}
var iY=function(t,e,n,r){var o
var a=function(t,e){return H.some(e)}
return yc(JK(_(_({},t),{lazySink:r.shared.getSink,extraBehaviours:E([QN.config({channel:BK,updateState:a,initialData:e}),WA.memory({})],t.extraBehaviours),onEscape:function(t){la(t,lz)},dialogEvents:n,eventOrder:(o={},o[jo()]=[QN.name(),ql.name()],o[ta()]=["scroll-lock",QN.name(),"messages","dialog-events","alloy.base.behaviour"],o[ea()]=["alloy.base.behaviour","dialog-events","messages",QN.name(),"scroll-lock"],o)})))}
var uY=function(t){var e=function(t){var e=W(t.items,(function(t){var e=Kn(false)
return _(_({},t),{storage:e})}))
return _(_({},t),{items:e})}
return W(t,(function(t){if("menu"===t.type)return e(t)
return t}))}
var cY=function(t){return Y(t,(function(t,e){if("menu"===e.type){var n=e
return Y(n.items,(function(t,e){t[e.name]=e.storage
return t}),t)}return t}),{})}
var sY=function(t,e){return[Ta(zo(),tR),t(sz,(function(t,n){e.onClose()
n.onClose()})),t(lz,(function(t,e,n,r){e.onCancel(t)
la(r,sz)})),wa(mz,(function(t,n){return e.onUnblock()})),wa(dz,(function(t,n){return e.onBlock(n.event)}))]}
var lY=function(t,e){var n=function(e,n){return wa(e,(function(e,o){r(e,(function(r,a){n(t(),r,o.event,e)}))}))}
var r=function(t,e){QN.getState(t).get().each((function(n){e(n,t)}))}
return E(sY(n,e),[n(vz,(function(t,e,n){e.onAction(t,{name:n.name})}))])}
var vY=function(t,e,n){var r=function(e,n){return wa(e,(function(e,r){o(e,(function(o,a){n(t(),o,r.event,e)}))}))}
var o=function(t,e){QN.getState(t).get().each((function(n){e(n.internalDialog,t)}))}
return E(sY(r,e),[r(fz,(function(t,e){return e.onSubmit(t)})),r(cz,(function(t,e,n){e.onChange(t,{name:n.name})})),r(vz,(function(t,e,r,o){var a=function(){return vy.focusIn(o)}
var i=function(t){return _i(t,"disabled")||Ti(t,"aria-disabled").exists((function(t){return"true"===t}))}
var u=ei(o.element)
var c=Zl(u)
e.onAction(t,{name:r.name,value:r.value})
Zl(u).fold(a,(function(t){i(t)||c.exists((function(e){return uo(t,e)&&i(e)}))?a():n().toOptional().filter((function(e){return!uo(e.element,t)})).each(a)}))})),r(gz,(function(t,e,n){e.onTabChange(t,{newTabName:n.name,oldTabName:n.oldName})})),Da((function(e){var n=t()
Xm.setValue(e,n.getData())}))])}
var fY={initUrlDialog:lY,initDialog:vY}
var dY=function(t,e){return WH(t,t.type,e)}
var mY=function(t,e,n){return Z(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}
var gY=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([])
var r=$(n,(function(t){return"start"===t.align}))
var o=function(t,e){return W_.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:W(e,(function(t){return t.memento.asSpec()}))})}
var a=o("start",r.pass)
var i=o("end",r.fail)
return[a,i]}
var hY=function(t,e){var n=function(t,n){var r=W(n.buttons,(function(t){var n=Zw(dY(t,e))
return{name:t.name,align:t.align,memento:n}}))
var o=function(t,e){return mY(t,r,e)}
return H.some({lookupByName:o,footerButtons:r})}
return{dom:EU('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Nl([QN.config({channel:PK,initialData:t,updateState:n,renderComponents:gY})])}}
var pY=function(t,e){return hY(t,e)}
var bY=function(t,e){return _$.parts.footer(hY(t,e))}
var yY=function(t,e){var n=t.getRoot()
if(n.getSystem().isConnected()){var r=bh.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper())
return pA.getField(r,e).fold((function(){var n=t.getFooter()
var o=QN.getState(n)
return o.get().bind((function(t){return t.lookupByName(r,e)}))}),(function(t){return H.some(t)}))}return H.none()}
var wY=function(t,e){var n=t.getRoot()
return QN.getState(n).get().map((function(t){return rn(nn("data",t.dataValidator,e))})).getOr(e)}
var xY=function(t,e,n){var r=function(e){var n=t.getRoot()
n.getSystem().isConnected()&&e(n)}
var o=function(){var e=t.getRoot()
var r=e.getSystem().isConnected()?t.getFormWrapper():e
var o=Xm.getValue(r)
var a=Dt(n,(function(t){return t.get()}))
return _(_({},o),a)}
var i=function(e){r((function(r){var o=g.getData()
var a=_(_({},o),e)
var i=wY(t,a)
var u=t.getFormWrapper()
Xm.setValue(u,i)
Mt(n,(function(t,e){Vt(a,e)&&t.set(a[e])}))}))}
var u=function(e){yY(t,e).each(KS.disable)}
var c=function(e){yY(t,e).each(KS.enable)}
var s=function(e){yY(t,e).each(Ay.focus)}
var l=function(t){if(!a(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
r((function(e){va(e,dz,{message:t})}))}
var v=function(){r((function(t){la(t,mz)}))}
var f=function(e){r((function(n){var r=t.getBody()
var o=QN.getState(r)
o.get().exists((function(t){return t.isTabPanel()}))&&bh.getCurrent(r).each((function(t){SK.showTab(t,e)}))}))}
var d=function(t){r((function(n){var r=e(t)
n.getSystem().broadcastOn([BK],r)
n.getSystem().broadcastOn([IK],r.internalDialog)
n.getSystem().broadcastOn([LK],r.internalDialog)
n.getSystem().broadcastOn([PK],r.internalDialog)
g.setData(r.initialData)}))}
var m=function(){r((function(t){la(t,sz)}))}
var g={getData:o,setData:i,disable:u,enable:c,focus:s,block:l,unblock:v,showTab:f,redial:d,close:m}
return g}
var CY=function(t){switch(t){case"large":return["tox-dialog--width-lg"]
case"medium":return["tox-dialog--width-md"]
default:return[]}}
var SY=function(t,e,n){var r=rY(t.internalDialog.title,n)
var o=jK({body:t.internalDialog.body},n)
var a=uY(t.internalDialog.buttons)
var i=cY(a)
var u=bY({buttons:a},n)
var c=fY.initDialog((function(){return m}),aY((function(){return v}),n.shared.providers,e),n.shared.getSink)
var s=CY(t.internalDialog.size)
var l={header:r,body:o,footer:H.some(u),extraClasses:s,extraBehaviours:[],extraStyles:{}}
var v=iY(l,t,c,n)
var f=(d=function(){var t=_$.getBody(v)
return bh.getCurrent(t).getOr(t)},{getRoot:function(){return v},getBody:function(){return _$.getBody(v)},getFooter:function(){return _$.getFooter(v)},getFormWrapper:d})
var d
var m=xY(f,e.redial,i)
return{dialog:v,instanceApi:m}}
var OY=function(t,e,n,r){var o,a
var i=Li("dialog-label")
var u=Li("dialog-content")
var c=function(t,e){return H.some(e)}
var s=Zw(eY({title:t.internalDialog.title,draggable:true},i,n.shared.providers))
var l=Zw(FK({body:t.internalDialog.body},u,n,r))
var v=uY(t.internalDialog.buttons)
var f=cY(v)
var d=Zw(pY({buttons:v},n))
var m=fY.initDialog((function(){return h}),{onBlock:function(t){k$.block(g,(function(e,r){return oY(t.message,r,n.shared.providers)}))},onUnblock:function(){k$.unblock(g)},onClose:function(){return e.closeWindow()}},n.shared.getSink)
var g=yc({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=i,o["aria-describedby"]=""+u,o)},eventOrder:(a={},a[jo()]=[QN.name(),ql.name()],a[Uo()]=["execute-on-form"],a[ta()]=["reflecting","execute-on-form"],a),behaviours:Nl([vy.config({mode:"cyclic",onEscape:function(t){la(t,sz)
return H.some(true)},useTabstopAt:function(t){return!eR(t)&&("button"!==Ha(t)||"disabled"!==ki(t,"disabled"))}}),QN.config({channel:BK,updateState:c,initialData:t}),Ay.config({}),Sy("execute-on-form",m.concat([Ea(zo(),(function(t,e){vy.focusIn(t)}))])),k$.config({getRoot:function(){return H.some(g)}}),xy.config({}),WA.memory({})]),components:[s.asSpec(),l.asSpec(),d.asSpec()]})
var h=xY({getRoot:function(){return g},getFooter:function(){return d.get(g)},getBody:function(){return l.get(g)},getFormWrapper:function(){var t=l.get(g)
return bh.getCurrent(t).getOr(t)}},e.redial,f)
return{dialog:g,instanceApi:h}}
var kY=tinymce.util.Tools.resolve("tinymce.util.URI")
var TY=function(t){var e=function(e){t.getSystem().isConnected()&&e(t)}
var n=function(t){if(!a(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument")
e((function(e){va(e,dz,{message:t})}))}
var r=function(){e((function(t){la(t,mz)}))}
var o=function(){e((function(t){la(t,sz)}))}
var i=function(t){e((function(e){e.getSystem().broadcastOn([NK],t)}))}
return{block:n,unblock:r,close:o,sendMessage:i}}
var _Y=["insertContent","setContent","execCommand","close","block","unblock"]
var zY=function(t){return i(t)&&-1!==_Y.indexOf(t.mceAction)}
var EY=function(t){return!zY(t)&&i(t)&&Vt(t,"mceAction")}
var MY=function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content)
break
case"setContent":t.setContent(n.content)
break
case"execCommand":var r=!!c(n.ui)&&n.ui
t.execCommand(n.cmd,r,n.value)
break
case"close":e.close()
break
case"block":e.block(n.message)
break
case"unblock":e.unblock()}}
var DY=function(t,e,n,r){var o
var a=rY(t.title,r)
var i=UK(t)
var u=t.buttons.bind((function(t){return 0===t.length?H.none():H.some(bY({buttons:t},r))}))
var c=fY.initUrlDialog((function(){return p}),aY((function(){return h}),r.shared.providers,e))
var s=_(_({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}})))
var l=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[]
var v=new kY(t.url,{base_uri:new kY(window.location.href)})
var f=v.protocol+"://"+v.host+(v.port?":"+v.port:"")
var d=Kn(H.none())
var m=[Sy("messages",[Ma((function(){var e=d_(er.fromDom(window),"message",(function(e){if(v.isSameOrigin(new kY(e.raw.origin))){var r=e.raw.data
zY(r)?MY(n,p,r):EY(r)&&t.onMessage(p,r)}}))
d.set(H.some(e))})),Da((function(){d.get().each((function(t){return t.unbind()}))}))]),ql.config({channels:(o={},o[NK]={onReceive:function(t,e){ds(t.element,"iframe").each((function(t){var n=t.dom.contentWindow
n.postMessage(e,f)}))}},o)})]
var g={header:a,body:i,footer:u,extraClasses:l,extraBehaviours:m,extraStyles:s}
var h=iY(g,t,c,r)
var p=TY(h)
return{dialog:h,instanceApi:p}}
var AY=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(){_$.hide(c)
r()}
var a=Zw(WH({name:"close-alert",text:"OK",primary:true,align:"end",disabled:false,icon:H.none()},"cancel",t.backstage))
var i=$K()
var u=GK(o,e.providers)
var c=yc(JK({lazySink:function(){return e.getSink()},header:qK(i,u),body:XK(n,e.providers),footer:H.some(KK(YK([],[a.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(lz,o)],eventOrder:{}}))
_$.show(c)
var s=a.get(c)
Ay.focus(s)}
return{open:n}}
var RY=function(t){var e=t.backstage.shared
var n=function(n,r){var o=function(t){_$.hide(s)
r(t)}
var a=Zw(WH({name:"yes",text:"Yes",primary:true,align:"end",disabled:false,icon:H.none()},"submit",t.backstage))
var i=WH({name:"no",text:"No",primary:false,align:"end",disabled:false,icon:H.none()},"cancel",t.backstage)
var u=$K()
var c=GK((function(){return o(false)}),e.providers)
var s=yc(JK({lazySink:function(){return e.getSink()},header:qK(u,c),body:XK(n,e.providers),footer:H.some(KK(YK([],[i,a.asSpec()]))),onEscape:function(){return o(false)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[wa(lz,(function(){return o(false)})),wa(fz,(function(){return o(true)}))],eventOrder:{}}))
_$.show(s)
var l=a.get(s)
Ay.focus(l)}
return{open:n}}
var HY=function(t,e){return rn(nn("data",e,t))}
var BY=function(t){return h_(t,".tox-alert-dialog")||h_(t,".tox-confirm-dialog")}
var IY=function(t,e,n){return e&&n?[]:[Uj.config({contextual:{lazyContext:function(){return H.some(os(er.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]}
var LY=function(t){var e=t.backstage
var n=t.editor
var r=_O(n)
var o=AY(t)
var a=RY(t)
var i=function(t,n,r){return void 0!==n&&"toolbar"===n.inline?l(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?l(t,e.shared.anchors.cursor(),r,n.ariaAttrs):s(t,r)}
var u=function(t,e){return c(t,e)}
var c=function(t,r){var o=function(t){var o=DY(t,{closeWindow:function(){_$.hide(o.dialog)
r(o.instanceApi)}},n,e)
_$.show(o.dialog)
return o.instanceApi}
return iK.openUrl(o,t)}
var s=function(t,n){var r=function(t,r,o){var a=r
var i={dataValidator:o,initialData:a,internalDialog:t}
var u=SY(i,{redial:iK.redial,closeWindow:function(){_$.hide(u.dialog)
n(u.instanceApi)}},e)
_$.show(u.dialog)
u.instanceApi.setData(a)
return u.instanceApi}
return iK.open(r,t)}
var l=function(t,o,a,i){var u=function(t,u,c){var s=HY(u,c)
var l=SF()
var v=e.shared.header.isPositionedAtTop()
var f={dataValidator:c,initialData:s,internalDialog:t}
var d=function(){return l.on((function(t){Lw.reposition(t)
Uj.refresh(t)}))}
var m=OY(f,{redial:iK.redial,closeWindow:function(){l.on(Lw.hide)
n.off("ResizeEditor",d)
l.clear()
a(m.instanceApi)}},e,i)
var g=yc(Lw.sketch(_(_({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},v?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Nl(E([Sy("window-manager-inline-events",[wa(na(),(function(t,e){la(m.dialog,lz)}))])],IY(n,r,v))),isExtraPart:function(t,e){return BY(e)}})))
l.set(g)
Lw.showWithin(g,o,wc(m.dialog),H.some(qu()))
if(!r||!v){Uj.refresh(g)
n.on("ResizeEditor",d)}m.instanceApi.setData(s)
vy.focusIn(m.dialog)
return m.instanceApi}
return iK.open(u,t)}
var v=function(t,e){a.open(t,(function(t){e(t)}))}
var f=function(t,e){o.open(t,(function(){e()}))}
var d=function(t){t.close()}
return{open:i,openUrl:u,alert:f,close:d,confirm:v}}
function PY(){T.add("silver",(function(t){var e=d$(t),n=e.uiMothership,r=e.backstage,o=e.renderUI,a=e.getUi
v_.register(t,r.shared)
var i=LY({editor:t,backstage:r})
return{renderUI:o,getWindowManagerImpl:y(i),getNotificationManagerImpl:function(){return ix(t,{backstage:r},n)},ui:a()}}))}PY()})()}).call(this,n("yLpj"))},Gy1R:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){return t}
var n=function(){n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return n.apply(this,arguments)}
var r="\ufeff"
var o=function(t){return t.replace(/\uFEFF/g,"")}
var a=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var i="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]"
var u={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\ufeff-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:i}
var c={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13}
var s=[new RegExp(u.aletter),new RegExp(u.midnumlet),new RegExp(u.midletter),new RegExp(u.midnum),new RegExp(u.numeric),new RegExp(u.cr),new RegExp(u.lf),new RegExp(u.newline),new RegExp(u.extend),new RegExp(u.format),new RegExp(u.katakana),new RegExp(u.extendnumlet),new RegExp("@")]
var l=""
var v=new RegExp("^"+u.punctuation+"$")
var f=/^\s+$/
var d=s
var m=c.OTHER
var g=function(t){var e=m
var n=d.length
for(var r=0;r<n;++r){var o=d[r]
if(o&&o.test(t)){e=r
break}}return e}
var h=function(t){var e={}
return function(n){if(e[n])return e[n]
var r=t(n)
e[n]=r
return r}}
var p=function(t){var e=h(g)
return a(t,e)}
var b=function(t,e){var n=t[e]
var r=t[e+1]
if(e<0||e>t.length-1&&0!==e)return false
if(n===c.ALETTER&&r===c.ALETTER)return false
var o=t[e+2]
if(n===c.ALETTER&&(r===c.MIDLETTER||r===c.MIDNUMLET||r===c.AT)&&o===c.ALETTER)return false
var a=t[e-1]
if((n===c.MIDLETTER||n===c.MIDNUMLET||r===c.AT)&&r===c.ALETTER&&a===c.ALETTER)return false
if((n===c.NUMERIC||n===c.ALETTER)&&(r===c.NUMERIC||r===c.ALETTER))return false
if((n===c.MIDNUM||n===c.MIDNUMLET)&&r===c.NUMERIC&&a===c.NUMERIC)return false
if(n===c.NUMERIC&&(r===c.MIDNUM||r===c.MIDNUMLET)&&o===c.NUMERIC)return false
if(n===c.EXTEND||n===c.FORMAT||a===c.EXTEND||a===c.FORMAT||r===c.EXTEND||r===c.FORMAT)return false
if(n===c.CR&&r===c.LF)return false
if(n===c.NEWLINE||n===c.CR||n===c.LF)return true
if(r===c.NEWLINE||r===c.CR||r===c.LF)return true
if(n===c.KATAKANA&&r===c.KATAKANA)return false
if(r===c.EXTENDNUMLET&&(n===c.ALETTER||n===c.NUMERIC||n===c.KATAKANA||n===c.EXTENDNUMLET))return false
if(n===c.EXTENDNUMLET&&(r===c.ALETTER||r===c.NUMERIC||r===c.KATAKANA))return false
if(n===c.AT)return false
return true}
var y=l
var w=f
var x=v
var C=function(t){return"http"===t||"https"===t}
var S=function(t,e){var n
for(n=e;n<t.length;n++)if(w.test(t[n]))break
return n}
var O=function(t,e){var n=S(t,e+1)
var r=t.slice(e+1,n).join(y)
return"://"===r.substr(0,3)?n:e}
var k=function(t,e,n,r){var o=[]
var a=[]
for(var i=0;i<n.length;++i){a.push(t[i])
if(b(n,i)){var u=e[i]
if((r.includeWhitespace||!w.test(u))&&(r.includePunctuation||!x.test(u))){var c=i-a.length+1
var s=i+1
var l=e.slice(c,s).join(y)
if(C(l)){var v=O(e,i)
var f=t.slice(s,v)
Array.prototype.push.apply(a,f)
i=v}o.push(a)}a=[]}}return o}
var T=function(){return{includeWhitespace:false,includePunctuation:false}}
var _=function(t,e,o){o=n(n({},T()),o)
var a=[]
var i=[]
for(var u=0;u<t.length;u++){var c=e(t[u])
if(c!==r){a.push(t[u])
i.push(c)}}var s=p(i)
return k(a,i,s,o)}
var z=_
var E=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var M=function(t,e){var n=e.getBlockElements()
var r=e.getShortEndedElements()
var a=function(t){return n[t.nodeName]||r[t.nodeName]}
var i=[]
var u=""
var c=new E(t,t)
while(t=c.next())if(3===t.nodeType)u+=o(t.data)
else if(a(t)&&u.length){i.push(u)
u=""}u.length&&i.push(u)
return i}
var D=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length}
var A=function(t,n){var r=M(t,n).join("\n")
return z(r.split(""),e).length}
var R=function(t,e){var n=M(t,e).join("")
return D(n)}
var H=function(t,e){var n=M(t,e).join("").replace(/\s/g,"")
return D(n)}
var B=function(t,e){return function(){return e(t.getBody(),t.schema)}}
var I=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}}
var L=function(t){return B(t,A)}
var P=function(t){return{body:{getWordCount:L(t),getCharacterCount:B(t,R),getCharacterCountWithoutSpaces:B(t,H)},selection:{getWordCount:I(t,A),getCharacterCount:I(t,R),getCharacterCountWithoutSpaces:I(t,H)},getCount:L(t)}}
var N=tinymce.util.Tools.resolve("tinymce.util.Delay")
var V=function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})}
var F=function(t,e){V(t,e)}
var j=function(t,e,n){var r=N.debounce((function(){return F(t,e)}),n)
t.on("init",(function(){F(t,e)
N.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}
var U=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:true}]})}
var W=function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return U(t,e)}})
t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return U(t,e)}})}
function q(e){void 0===e&&(e=300)
t.add("wordcount",(function(t){var n=P(t)
W(t,n)
j(t,n,e)
return n}))}q()})()},HF4P:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(t){if(t.hasPlugin("powerpaste",true)){"undefined"!==typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option.")
return true}return false}
var r=function(t,e){return{clipboard:t,quirks:e}}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return null===t||void 0===t}
var i=function(t){return!a(t)}
var u=o("function")
var c=function(){}
var s=function(t){return function(){return t}}
var l=s(false)
var v=s(true)
var f=function(){return d}
var d=(m=function(t){return t.isNone()},g=function(t){return t()},h=function(t){return t},p={fold:function(t,e){return t()},is:l,isSome:l,isNone:v,getOr:h,getOrThunk:g,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:h,orThunk:g,map:f,each:c,bind:f,exists:l,forall:v,filter:f,equals:m,equals_:m,toArray:function(){return[]},toString:s("none()")},p)
var m,g,h,p
var b=function(t){var e=s(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:v,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return b(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}}
return o}
var y=function(t){return null===t||void 0===t?d:b(t)}
var w={some:b,none:f,from:y}
var x=Array.prototype.slice
var C=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var S=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var O=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var k=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var T=function(t,e,n){O(t,(function(t){n=e(n,t)}))
return n}
var _=u(Array.from)?Array.from:function(t){return x.call(t)}
var z=function(){var e=t(w.none())
var n=function(){return e.set(w.none())}
var r=function(t){return e.set(w.some(t))}
var o=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:n,set:r,isSet:o,on:a}}
var E=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var M=function(t,e){return E(t,e,0)}
var D=function(t,e){return E(t,e,t.length-e.length)}
var A=function(t,e){return e<=0?"":new Array(e+1).join(t)}
var R=tinymce.util.Tools.resolve("tinymce.Env")
var H=tinymce.util.Tools.resolve("tinymce.util.Delay")
var B=tinymce.util.Tools.resolve("tinymce.util.Promise")
var I=tinymce.util.Tools.resolve("tinymce.util.VK")
var L=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})}
var P=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})}
var N=function(t,e){return t.fire("PastePlainTextToggle",{state:e})}
var V=function(t,e){return t.fire("paste",{ieFake:e})}
var F=tinymce.util.Tools.resolve("tinymce.util.Tools")
var j=function(t){return t.getParam("paste_block_drop",false)}
var U=function(t){return t.getParam("paste_data_images",false)}
var W=function(t){return t.getParam("paste_filter_drop",true)}
var q=function(t){return t.getParam("paste_preprocess")}
var G=function(t){return t.getParam("paste_postprocess")}
var $=function(t){return t.getParam("paste_webkit_styles")}
var X=function(t){return t.getParam("paste_remove_styles_if_webkit",true)}
var K=function(t){return t.getParam("paste_merge_formats",true)}
var Y=function(t){return t.getParam("smart_paste",true)}
var J=function(t){return t.getParam("paste_as_text",false)}
var Z=function(t){return t.getParam("paste_retain_style_properties")}
var Q=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"
return t.getParam("paste_word_valid_elements",e)}
var tt=function(t){return t.getParam("paste_convert_word_fake_lists",true)}
var et=function(t){return t.getParam("paste_enable_default_filters",true)}
var nt=function(t){return t.getParam("validate")}
var rt=function(t){return t.getParam("allow_html_data_urls",false,"boolean")}
var ot=function(t){return t.getParam("paste_data_images",false,"boolean")}
var at=function(t){return t.getParam("images_dataimg_filter")}
var it=function(t){return t.getParam("images_reuse_filename")}
var ut=function(t){return t.getParam("forced_root_block")}
var ct=function(t){return t.getParam("forced_root_block_attrs")}
var st=function(t){return t.getParam("paste_tab_spaces",4,"number")}
var lt=function(t){var e="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"
return F.explode(t.getParam("images_file_types",e,"string"))}
var vt="x-tinymce/html"
var ft="\x3c!-- "+vt+" --\x3e"
var dt=function(t){return ft+t}
var mt=function(t){return t.replace(ft,"")}
var gt=function(t){return-1!==t.indexOf(ft)}
var ht=function(){return vt}
var pt=tinymce.util.Tools.resolve("tinymce.html.Entities")
var bt=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)}
var yt=function(t){return t.replace(/\r?\n/g,"<br>")}
var wt=function(t,e){var n
var r=[]
var o="<"+t
if("object"===typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+pt.encodeAllRaw(e[n])+'"')
r.length&&(o+=" "+r.join(" "))}return o+">"}
var xt=function(t,e,n){var r=t.split(/\n\n/)
var o=wt(e,n)
var a="</"+e+">"
var i=F.map(r,(function(t){return t.split(/\n/).join("<br />")}))
var u=function(t){return o+t+a}
return 1===i.length?i[0]:F.map(i,u).join("")}
var Ct=function(t,e,n){return e?xt(t,true===e?"p":e,n):yt(t)}
var St=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var Ot=tinymce.util.Tools.resolve("tinymce.html.Serializer")
var kt=""
var Tt=tinymce.util.Tools.resolve("tinymce.html.Node")
var _t=tinymce.util.Tools.resolve("tinymce.html.Schema")
var zt=function(t,e){F.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}))
return t}
var Et=function(t){var e=_t()
var n=St({},e)
var r=""
var o=e.getShortEndedElements()
var a=F.makeMap("script noscript style textarea video audio iframe object"," ")
var i=e.getBlockElements()
var u=function(t){var e=t.name,n=t
if("br"===e){r+="\n"
return}if("wbr"===e)return
o[e]&&(r+=" ")
if(a[e]){r+=" "
return}3===t.type&&(r+=t.value)
if(!t.shortEnded&&(t=t.firstChild))do{u(t)}while(t=t.next)
if(i[e]&&n.next){r+="\n"
"p"===e&&(r+="\n")}}
t=zt(t,[/<!\[[^\]]+\]>/g])
u(n.parse(t))
return r}
var Mt=function(t){var e=function(t,e,n){if(!e&&!n)return" "
return kt}
t=zt(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,e],/<br class="Apple-interchange-newline">/g,/<br>$/i])
return t}
var Dt=function(t){var e=0
return function(){return t+e++}}
var At=function(t){var e=t.toLowerCase()
var n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"}
return F.hasOwn(n,e)?"image/"+n[e]:"image/"+e}
var Rt=function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}
var Ht=function(t){var e
var n=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/]
t=t.replace(/^[\u00a0 ]+/,"")
F.each(n,(function(n){if(n.test(t)){e=true
return false}}))
return e}
var Bt=function(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}
var It=function(t){var e,n,r=1
var o=function(t){var e=""
if(3===t.type)return t.value
if(t=t.firstChild)do{e+=o(t)}while(t=t.next)
return e}
var a=function(t,e){if(3===t.type&&e.test(t.value)){t.value=t.value.replace(e,"")
return false}if(t=t.firstChild)do{if(!a(t,e))return false}while(t=t.next)
return true}
var i=function(t){if(t._listIgnore){t.remove()
return}if(t=t.firstChild)do{i(t)}while(t=t.next)}
var u=function(t,o,u){var c=t._listLevel||r
if(c!==r)if(c<r)e&&(e=e.parent.parent)
else{n=e
e=null}if(e&&e.name===o)e.append(t)
else{n=n||e
e=new Tt(o,1)
u>1&&e.attr("start",""+u)
t.wrap(e)}t.name="li"
c>r&&n&&n.lastChild.append(e)
r=c
i(t)
a(t,/^\u00a0+/)
a(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/)
a(t,/^\u00a0+/)}
var c=[]
var s=t.firstChild
while("undefined"!==typeof s&&null!==s){c.push(s)
s=s.walk()
if(null!==s)while("undefined"!==typeof s&&s.parent!==t)s=s.walk()}for(var l=0;l<c.length;l++){t=c[l]
if("p"===t.name&&t.firstChild){var v=o(t)
if(Bt(v)){u(t,"ul")
continue}if(Ht(v)){var f=/([0-9]+)\./.exec(v)
var d=1
f&&(d=parseInt(f[1],10))
u(t,"ol",d)
continue}if(t._listLevel){u(t,"ul",1)
continue}e=null}else{n=e
e=null}}}
var Lt=function(t,e,n,r){var o,a={}
var i=t.dom.parseStyle(r)
F.each(i,(function(i,u){switch(u){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r)
o&&(n._listLevel=parseInt(o[1],10))
if(/Ignore/i.test(i)&&n.firstChild){n._listIgnore=true
n.firstChild._listIgnore=true}break
case"horiz-align":u="text-align"
break
case"vert-align":u="vertical-align"
break
case"font-color":case"mso-foreground":u="color"
break
case"mso-background":case"mso-highlight":u="background"
break
case"font-weight":case"font-style":"normal"!==i&&(a[u]=i)
return
case"mso-element":if(/^(comment|comment-list)$/i.test(i)){n.remove()
return}}if(0===u.indexOf("mso-comment")){n.remove()
return}if(0===u.indexOf("mso-"))return;("all"===Z(t)||e&&e[u])&&(a[u]=i)}))
if(/(bold)/i.test(a["font-weight"])){delete a["font-weight"]
n.wrap(new Tt("b",1))}if(/(italic)/i.test(a["font-style"])){delete a["font-style"]
n.wrap(new Tt("i",1))}a=t.dom.serializeStyle(a,n.name)
if(a)return a
return null}
var Pt=function(t,e){var n
var r=Z(t)
r&&(n=F.makeMap(r.split(/[, ]/)))
e=zt(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,kt],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(kt):""}]])
var o=Q(t)
var a=_t({valid_elements:o,valid_children:"-li[p]"})
F.each(a.elements,(function(t){if(!t.attributes.class){t.attributes.class={}
t.attributesOrder.push("class")}if(!t.attributes.style){t.attributes.style={}
t.attributesOrder.push("style")}}))
var i=St({},a)
i.addAttributeFilter("style",(function(e){var r,o=e.length
while(o--){r=e[o]
r.attr("style",Lt(t,n,r,r.attr("style")))
"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()}}))
i.addAttributeFilter("class",(function(t){var e,n,r=t.length
while(r--){e=t[r]
n=e.attr("class");/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove()
e.attr("class",null)}}))
i.addNodeFilter("del",(function(t){var e=t.length
while(e--)t[e].remove()}))
i.addNodeFilter("a",(function(t){var e,n,r,o=t.length
while(o--){e=t[o]
n=e.attr("href")
r=e.attr("name")
if(n&&-1!==n.indexOf("#_msocom_")){e.remove()
continue}if(n&&0===n.indexOf("file://")){n=n.split("#")[1]
n&&(n="#"+n)}if(n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap()
continue}e.attr({href:n,name:r})}else e.unwrap()}}))
var u=i.parse(e)
tt(t)&&It(u)
e=Ot({validate:nt(t)},a).serialize(u)
return e}
var Nt=function(t,e){return et(t)?Pt(t,e):e}
var Vt=function(t,e){var n=St({},t.schema)
n.addNodeFilter("meta",(function(t){F.each(t,(function(t){t.remove()}))}))
var r=n.parse(e,{forced_root_block:false,isRootContent:true})
return Ot({validate:nt(t)},t.schema).serialize(r)}
var Ft=function(t,e){return{content:t,cancelled:e}}
var jt=function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e)
var a=P(t,o,n,r)
return Ft(a.node.innerHTML,a.isDefaultPrevented())}
var Ut=function(t,e,n,r){var o=L(t,e,n,r)
var a=Vt(t,o.content)
return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?jt(t,a,n,r):Ft(a,o.isDefaultPrevented())}
var Wt=function(t,e,n){var r=Rt(e)
var o=r?Nt(t,e):e
return Ut(t,o,n,r)}
var qt=function(t,e){t.insertContent(e,{merge:K(t),paste:true})
return true}
var Gt=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)}
var $t=function(t,e){return Gt(e)&&C(lt(t),(function(t){return D(e.toLowerCase(),"."+t.toLowerCase())}))}
var Xt=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')}))
return true}
var Kt=function(t,e,n){t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",false,e)}))
return true}
var Yt=function(t,e,n){return!(false!==t.selection.isCollapsed()||!Gt(e))&&Kt(t,e,n)}
var Jt=function(t,e,n){return!!$t(t,e)&&Xt(t,e,n)}
var Zt=function(t,e){F.each([Yt,Jt,qt],(function(n){return true!==n(t,e,qt)}))}
var Qt=function(t,e,n){n||false===Y(t)?qt(t,e):Zt(t,e)}
var te=function(t){return-1!==" \f\t\v".indexOf(t)}
var ee=function(t){return"\n"===t||"\r"===t}
var ne=function(t,e){return e<t.length&&e>=0&&ee(t[e])}
var re=function(t,e){var n=A(" ",st(t))
var r=e.replace(/\t/g,n)
var o=T(r,(function(t,e){return te(e)||e===kt?t.pcIsSpace||""===t.str||t.str.length===r.length-1||ne(r,t.str.length+1)?{pcIsSpace:false,str:t.str+kt}:{pcIsSpace:true,str:t.str+" "}:{pcIsSpace:ee(e),str:t.str+e}}),{pcIsSpace:false,str:""})
return o.str}
var oe=function(t,e,n,r){var o=Wt(t,e,n)
false===o.cancelled&&Qt(t,o.content,r)}
var ae=function(t,e,n){var r=n||gt(e)
oe(t,mt(e),r,false)}
var ie=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n")
var r=re(t,n)
var o=Ct(r,ut(t),ct(t))
oe(t,o,false,true)}
var ue=function(t){var e={}
var n="data:text/mce-internal,"
if(t){if(t.getData){var r=t.getData("Text")
r&&r.length>0&&-1===r.indexOf(n)&&(e["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var a=t.types[o]
try{e[a]=t.getData(a)}catch(t){e[a]=""}}}return e}
var ce=function(t,e){return ue(e.clipboardData||t.getDoc().dataTransfer)}
var se=function(t,e){return e in t&&t[e].length>0}
var le=function(t){return se(t,"text/html")||se(t,"text/plain")}
var ve=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t)
return e?{type:e[1],data:decodeURIComponent(e[2])}:{type:null,data:null}}
var fe=function(t,e){var n=at(t)
return!n||n(e)}
var de=function(t,e){var n=e.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i)
return i(n)?t.dom.encode(n[1]):null}
var me=Dt("mceclip")
var ge=function(t,e){var n=ve(e.uri),r=n.data,o=n.type
var a=me()
var u=e.blob
var c=new Image
c.src=e.uri
if(fe(t,c)){var s=t.editorUpload.blobCache
var l=void 0
var v=s.getByData(r,o)
if(v)l=v
else{var f=it(t)&&i(u.name)
var d=f?de(t,u.name):a
var m=f?u.name:void 0
l=s.create(a,u,r,d,m)
s.add(l)}ae(t,'<img src="'+l.blobUri()+'">',false)}else ae(t,'<img src="'+e.uri+'">',false)}
var he=function(t){return"paste"===t.type}
var pe=function(t){return i(t.getAsFile)}
var be=function(t){return B.all(S(t,(function(t){return new B((function(e){var n=pe(t)?t.getAsFile():t
var r=new window.FileReader
r.onload=function(){e({blob:n,uri:r.result})}
r.readAsDataURL(n)}))})))}
var ye=function(t){var e=lt(t)
return function(t){return M(t.type,"image/")&&C(e,(function(e){return At(e)===t.type}))}}
var we=function(t,e){var n=e.items?S(_(e.items),(function(t){return t.getAsFile()})):[]
var r=e.files?_(e.files):[]
return k(n.length>0?n:r,ye(t))}
var xe=function(t,e,n){var r=he(e)?e.clipboardData:e.dataTransfer
if(ot(t)&&r){var o=we(t,r)
if(o.length>0){e.preventDefault()
be(o).then((function(e){n&&t.selection.setRng(n)
O(e,(function(e){ge(t,e)}))}))
return true}}return false}
var Ce=function(t){var e=t.clipboardData
return-1!==navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length}
var Se=function(t){return I.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode}
var Oe=function(t,e,n){var r=z()
var o=z()
var a
t.on("keyup",o.clear)
t.on("keydown",(function(n){var i=function(t){Se(t)&&!t.isDefaultPrevented()&&e.remove()}
if(Se(n)&&!n.isDefaultPrevented()){a=n.shiftKey&&86===n.keyCode
if(a&&R.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return
n.stopImmediatePropagation()
r.set(n)
o.set(true)
if(R.ie&&a){n.preventDefault()
V(t,true)
return}e.remove()
e.create()
t.once("keyup",i)
t.once("paste",(function(){t.off("keyup",i)}))}}))
var i=function(t,n,r,o,a){var i
if(se(n,"text/html"))i=n["text/html"]
else{i=e.getHtml()
a=a||gt(i)
e.isDefaultContent(i)&&(o=true)}i=Mt(i)
e.remove()
var u=false===a&&bt(i)
var c=Gt(i);(!i.length||u&&!c)&&(o=true);(o||c)&&(i=se(n,"text/plain")&&u?n["text/plain"]:Et(i))
if(e.isDefaultContent(i)){r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")
return}o?ie(t,i):ae(t,i,a)}
var u=function(){return e.getLastRng()||t.selection.getRng()}
t.on("paste",(function(c){var s=r.isSet()||o.isSet()
s&&r.clear()
var l=ce(t,c)
var v="text"===n.get()||a
var f=se(l,ht())
a=false
if(c.isDefaultPrevented()||Ce(c)){e.remove()
return}if(!le(l)&&xe(t,c,u())){e.remove()
return}s||c.preventDefault()
if(R.ie&&(!s||c.ieFake)&&!se(l,"text/html")){e.create()
t.dom.bind(e.getEl(),"paste",(function(t){t.stopPropagation()}))
t.getDoc().execCommand("Paste",false,null)
l["text/html"]=e.getHtml()}if(se(l,"text/html")){c.preventDefault()
f||(f=gt(l["text/html"]))
i(t,l,s,v,f)}else H.setEditorTimeout(t,(function(){i(t,l,s,v,f)}),0)}))}
var ke=function(t,e,n){Oe(t,e,n)
var r
t.parser.addNodeFilter("img",(function(e,n,o){var a=function(t){return t.data&&true===t.data.paste}
var i=function(t){t.attr("data-mce-object")||r===R.transparentSrc||t.remove()}
var u=function(t){return 0===t.indexOf("webkit-fake-url")}
var c=function(t){return 0===t.indexOf("data:")}
if(!ot(t)&&a(o)){var s=e.length
while(s--){r=e[s].attr("src")
if(!r)continue;(u(r)||!rt(t)&&c(r))&&i(e[s])}}}))}
var Te=function(t){return R.ie&&t.inline?document.body:t.getBody()}
var _e=function(t){return Te(t)!==t.getBody()}
var ze=function(t,e,n){_e(t)&&t.dom.bind(e,"paste keyup",(function(e){Ie(t,n)||t.fire("paste")}))}
var Ee=function(t,e,n){var r=t.dom,o=t.getBody()
e.set(t.selection.getRng())
var a=t.dom.add(Te(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:true,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(R.ie||R.gecko)&&r.setStyle(a,"left","rtl"===r.getStyle(o,"direction",true)?65535:-65535)
r.bind(a,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()}))
ze(t,a,n)
a.focus()
t.selection.select(a,true)}
var Me=function(t,e){if(De(t)){var n=void 0
var r=e.get()
while(n=t.dom.get("mcepastebin")){t.dom.remove(n)
t.dom.unbind(n)}r&&t.selection.setRng(r)}e.set(null)}
var De=function(t){return t.dom.get("mcepastebin")}
var Ae=function(t){var e=function(e,n){e.appendChild(n)
t.dom.remove(n,true)}
var n=F.grep(Te(t).childNodes,(function(t){return"mcepastebin"===t.id}))
var r=n.shift()
F.each(n,(function(t){e(r,t)}))
var o=t.dom.select("div[id=mcepastebin]",r)
for(var a=o.length-1;a>=0;a--){var i=t.dom.create("div")
r.insertBefore(i,o[a])
e(i,o[a])}return r?r.innerHTML:""}
var Re=function(t){return t.get()}
var He=function(t,e){return e===t}
var Be=function(t){return t&&"mcepastebin"===t.id}
var Ie=function(t,e){var n=De(t)
return Be(n)&&He(e,n.innerHTML)}
var Le=function(e){var n=t(null)
var r="%MCEPASTEBIN%"
return{create:function(){return Ee(e,n,r)},remove:function(){return Me(e,n)},getEl:function(){return De(e)},getHtml:function(){return Ae(e)},getLastRng:function(){return Re(n)},isDefault:function(){return Ie(e,r)},isDefaultContent:function(t){return He(r,t)}}}
var Pe=function(t,e){var n=Le(t)
t.on("PreInit",(function(){return ke(t,n,e)}))
return{pasteFormat:e,pasteHtml:function(e,n){return ae(t,e,n)},pasteText:function(e){return ie(t,e)},pasteImageData:function(e,n){return xe(t,e,n)},getDataTransferItems:ue,hasHtmlOrText:le,hasContentType:se}}
var Ne=function(t,e){if("text"===e.pasteFormat.get()){e.pasteFormat.set("html")
N(t,false)}else{e.pasteFormat.set("text")
N(t,true)}t.focus()}
var Ve=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){Ne(t,e)}))
t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal)
n.text&&e.pasteText(n.text)}))}
var Fe=function(t){return false===R.iOS&&"function"===typeof(null===t||void 0===t?void 0:t.setData)}
var je=function(t,e,n){if(!Fe(t))return false
try{t.clearData()
t.setData("text/html",e)
t.setData("text/plain",n)
t.setData(ht(),e)
return true}catch(t){return false}}
var Ue=function(t,e,n,r){if(je(t.clipboardData,e.html,e.text)){t.preventDefault()
r()}else n(e.html,r)}
var We=function(t){return function(e,n){var r=dt(e)
var o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"})
var a=t.dom.create("div",{contenteditable:"true"},r)
t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"})
o.appendChild(a)
t.dom.add(t.getBody(),o)
var i=t.selection.getRng()
a.focus()
var u=t.dom.createRng()
u.selectNodeContents(a)
t.selection.setRng(u)
H.setTimeout((function(){t.selection.setRng(i)
o.parentNode.removeChild(o)
n()}),0)}}
var qe=function(t){return{html:t.selection.getContent({contextual:true}),text:t.selection.getContent({format:"text"})}}
var Ge=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}
var $e=function(t){return!t.selection.isCollapsed()||Ge(t)}
var Xe=function(t){return function(e){$e(t)&&Ue(e,qe(t),We(t),(function(){if(R.browser.isChrome()||R.browser.isFirefox()){var e=t.selection.getRng()
H.setEditorTimeout(t,(function(){t.selection.setRng(e)
t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}
var Ke=function(t){return function(e){$e(t)&&Ue(e,qe(t),We(t),c)}}
var Ye=function(t){t.on("cut",Xe(t))
t.on("copy",Ke(t))}
var Je=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Ze=function(t,e){return Je.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())}
var Qe=function(t){var e=t["text/plain"]
return!!e&&0===e.indexOf("file://")}
var tn=function(t,e){t.focus()
t.selection.setRng(e)}
var en=function(t,e,n){j(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault()
t.stopPropagation()}))
U(t)||t.on("drop",(function(t){var e=t.dataTransfer
e&&e.files&&e.files.length>0&&t.preventDefault()}))
t.on("drop",(function(r){var o=Ze(t,r)
if(r.isDefaultPrevented()||n.get())return
var a=e.getDataTransferItems(r.dataTransfer)
var i=e.hasContentType(a,ht())
if((!e.hasHtmlOrText(a)||Qe(a))&&e.pasteImageData(r,o))return
if(o&&W(t)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"]
if(u){r.preventDefault()
H.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a["mce-internal"]&&t.execCommand("Delete")
tn(t,o)
u=Mt(u)
a["text/html"]?e.pasteHtml(u,i):e.pasteText(u)}))}))}}}))
t.on("dragstart",(function(t){n.set(true)}))
t.on("dragover dragend",(function(e){if(U(t)&&false===n.get()){e.preventDefault()
tn(t,Ze(t,e))}"dragend"===e.type&&n.set(false)}))}
var nn=function(t){var e=t.plugins.paste
var n=q(t)
n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}))
var r=G(t)
r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))}
var rn=function(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}
var on=function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}
var an=function(t,e){if(!Rt(e))return e
var n=[]
F.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}))
var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g")
e=zt(e,[[r,"$1"]])
e=zt(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])
return e}
var un=function(t,e,n,r){if(r||n)return e
var o=$(t)
var a
if(false===X(t)||"all"===o)return e
o&&(a=o.split(/[, ]/))
if(a){var i=t.dom,u=t.selection.getNode()
e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var o=i.parseStyle(i.decode(n))
var c={}
if("none"===a)return e+r
for(var s=0;s<a.length;s++){var l=o[a[s]],v=i.getStyle(u,a[s],true)
if(/color/.test(a[s])){l=i.toHex(l)
v=i.toHex(v)}v!==l&&(c[a[s]]=l)}c=i.serializeStyle(c,"span")
if(c)return e+' style="'+c+'"'+r
return e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")
e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))
return e}
var cn=function(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,true)}))}
var sn=function(t){R.webkit&&rn(t,un)
if(R.ie){rn(t,an)
on(t,cn)}}
var ln=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get())
var r=function(t){return n.setActive(t.state)}
t.on("PastePlainTextToggle",r)
return function(){return t.off("PastePlainTextToggle",r)}}}
var vn=function(t,e){t.ui.registry.addToggleButton("pastetext",{active:false,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})
t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:ln(t,e)})}
function fn(){e.add("paste",(function(e){if(false===n(e)){var o=t(false)
var a=t(J(e)?"text":"html")
var i=Pe(e,a)
var u=sn(e)
vn(e,i)
Ve(e,i)
nn(e)
Ye(e)
en(e,i,o)
return r(i,u)}}))}fn()})()},"I9W/":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var n=function(t){return function(n){return e(n)===t}}
var r=function(t){return function(e){return typeof e===t}}
var o=n("string")
var a=n("object")
var i=n("array")
var u=r("boolean")
var c=r("function")
var s=r("number")
var l=function(){}
var v=function(t){return function(){return t}}
var f=function(t){return function(e){return!t(e)}}
var d=v(false)
var m=v(true)
var g=function(){return h}
var h=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:d,isSome:d,isNone:m,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:v(null),getOrUndefined:v(void 0),or:n,orThunk:e,map:g,each:l,bind:g,exists:d,forall:m,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:v("none()")}
return r}()
var p=function(t){var e=v(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return p(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,(function(e){return n(t,e)}))}}
return o}
var b=function(t){return null===t||void 0===t?h:p(t)}
var y={some:p,none:g,from:b}
var w=Array.prototype.slice
var x=Array.prototype.push
var C=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var S=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var O=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var k=function(t,e){if(0===t.length)return[]
var n=e(t[0])
var r=[]
var o=[]
for(var a=0,i=t.length;a<i;a++){var u=t[a]
var c=e(u)
if(c!==n){r.push(o)
o=[]}n=c
o.push(u)}0!==o.length&&r.push(o)
return r}
var T=function(t,e,n){S(t,(function(t){n=e(n,t)}))
return n}
var _=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return y.some(a)
if(n(a,r))break}return y.none()}
var z=function(t,e){return _(t,e,d)}
var E=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
x.apply(e,t[n])}return e}
var M=function(t,e){return E(C(t,e))}
var D=function(t){var e=w.call(t,0)
e.reverse()
return e}
var A=function(t,e){return e>=0&&e<t.length?y.some(t[e]):y.none()}
var R=function(t){return A(t,0)}
var H=function(t){return A(t,t.length-1)}
var B=function(){B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return B.apply(this,arguments)}
function I(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var L=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var P=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var f=!s&&!c&&!l
return{isiPad:v(o),isiPhone:v(a),isTablet:v(c),isPhone:v(s),isTouch:v(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:v(l),isDesktop:v(f)}}
var N=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var V=function(t,e){var n=N(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return U(r(1),r(2))}
var F=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return j()
return V(t,n)}
var j=function(){return U(0,0)}
var U=function(t,e){return{major:t,minor:e}}
var W={nu:U,detect:F,unknown:j}
var q=function(t,e){var n=String(e).toLowerCase()
return z(t,(function(t){return t.search(n)}))}
var G=function(t,e){return q(t,e).map((function(t){var n=W.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var $=function(t,e){return q(t,e).map((function(t){var n=W.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var X={detectBrowser:G,detectOs:$}
var K=function(t,e){return-1!==t.indexOf(e)}
var Y=function(t){return function(e){return e.replace(t,"")}}
var J=Y(/^\s+|\s+$/g)
var Z=function(t){return t.length>0}
var Q=function(t){return!Z(t)}
var tt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var et=function(t){return function(e){return K(e,t)}}
var nt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return K(t,"edge/")&&K(t,"chrome")&&K(t,"safari")&&K(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,tt],search:function(t){return K(t,"chrome")&&!K(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return K(t,"msie")||K(t,"trident")}},{name:"Opera",versionRegexes:[tt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:et("firefox")},{name:"Safari",versionRegexes:[tt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(K(t,"safari")||K(t,"mobile/"))&&K(t,"applewebkit")}}]
var rt=[{name:"Windows",search:et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return K(t,"iphone")||K(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:et("linux"),versionRegexes:[]},{name:"Solaris",search:et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var ot={browsers:v(nt),oses:v(rt)}
var at="Edge"
var it="Chrome"
var ut="IE"
var ct="Opera"
var st="Firefox"
var lt="Safari"
var vt=function(){return ft({current:void 0,version:W.unknown()})}
var ft=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(at),isChrome:r(it),isIE:r(ut),isOpera:r(ct),isFirefox:r(st),isSafari:r(lt)}}
var dt={unknown:vt,nu:ft,edge:v(at),chrome:v(it),ie:v(ut),opera:v(ct),firefox:v(st),safari:v(lt)}
var mt="Windows"
var gt="iOS"
var ht="Android"
var pt="Linux"
var bt="OSX"
var yt="Solaris"
var wt="FreeBSD"
var xt="ChromeOS"
var Ct=function(){return St({current:void 0,version:W.unknown()})}
var St=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(mt),isiOS:r(gt),isAndroid:r(ht),isOSX:r(bt),isLinux:r(pt),isSolaris:r(yt),isFreeBSD:r(wt),isChromeOS:r(xt)}}
var Ot={unknown:Ct,nu:St,windows:v(mt),ios:v(gt),android:v(ht),linux:v(pt),osx:v(bt),solaris:v(yt),freebsd:v(wt),chromeos:v(xt)}
var kt=function(t,e){var n=ot.browsers()
var r=ot.oses()
var o=X.detectBrowser(n,t).fold(dt.unknown,dt.nu)
var a=X.detectOs(r,t).fold(Ot.unknown,Ot.nu)
var i=P(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Tt={detect:kt}
var _t=function(t){return window.matchMedia(t).matches}
var zt=L((function(){return Tt.detect(navigator.userAgent,_t)}))
var Et=function(){return zt()}
var Mt=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var Dt=function(t,e){return Mt(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var At=1
var Rt=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return It(r.childNodes[0])}
var Ht=function(t,e){var n=e||document
var r=n.createElement(t)
return It(r)}
var Bt=function(t,e){var n=e||document
var r=n.createTextNode(t)
return It(r)}
var It=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var Lt=function(t,e,n){return y.from(t.dom.elementFromPoint(e,n)).map(It)}
var Pt={fromHtml:Rt,fromTag:Ht,fromText:Bt,fromDom:It,fromPoint:Lt}
var Nt=function(t,e){var n=t.dom
if(n.nodeType!==At)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var Vt=function(t,e){return t.dom===e.dom}
var Ft=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var jt=function(t,e){return Dt(t.dom,e.dom)}
var Ut=function(t,e){return Et().browser.isIE()?jt(t,e):Ft(t,e)}
var Wt=Nt
var qt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils")
var Gt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var $t=tinymce.util.Tools.resolve("tinymce.util.VK")
var Xt=Object.keys
var Kt=function(t,e){var n=Xt(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Yt=function(t){return function(e,n){t[n]=e}}
var Jt=function(t,e,n,r){var o={}
Kt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var Zt=function(t,e){var n={}
Jt(t,e,Yt(n),l)
return n}
"undefined"!==typeof window?window:Function("return this;")()
var Qt=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var te=function(t){return t.dom.nodeType}
var ee=function(t){return function(e){return te(e)===t}}
var ne=ee(At)
var re=function(t,e,n){if(!(o(n)||u(n)||s(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var oe=function(t,e){var n=t.dom
Kt(e,(function(t,e){re(n,e,t)}))}
var ae=function(t){return T(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var ie=function(t){return y.from(t.dom.parentNode).map(Pt.fromDom)}
var ue=function(t){return C(t.dom.childNodes,Pt.fromDom)}
var ce=function(t,e){var n=t.dom.childNodes
return y.from(n[e]).map(Pt.fromDom)}
var se=function(t){return ce(t,0)}
var le=function(t){return ce(t,t.dom.childNodes.length-1)}
var ve=function(t,e){var n=ie(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var fe=function(t,e){t.dom.appendChild(e.dom)}
var de=function(t,e){S(e,(function(e){ve(t,e)}))}
var me=function(t,e){S(e,(function(e){fe(t,e)}))}
var ge=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var he=function(t,e){return Pt.fromDom(t.dom.cloneNode(e))}
var pe=function(t){return he(t,true)}
var be=function(t,e){var n=Pt.fromTag(e)
var r=ae(t)
oe(n,r)
return n}
var ye=function(t,e){var n=be(t,e)
ve(t,n)
var r=ue(t)
me(n,r)
ge(t)
return n}
var we=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var xe=tinymce.util.Tools.resolve("tinymce.util.Tools")
var Ce=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}}
var Se=function(t){return function(e){return e&&t.test(e.nodeName)}}
var Oe=function(t){return t&&3===t.nodeType}
var ke=Se(/^(OL|UL|DL)$/)
var Te=Se(/^(OL|UL)$/)
var _e=Ce("ol")
var ze=Se(/^(LI|DT|DD)$/)
var Ee=Se(/^(DT|DD)$/)
var Me=Se(/^(TH|TD)$/)
var De=Ce("br")
var Ae=function(t){return t.parentNode.firstChild===t}
var Re=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]}
var He=function(t,e){return t&&t.nodeName in e}
var Be=function(t,e){if(!De(e))return false
return t.isBlock(e.nextSibling)&&!De(e.previousSibling)}
var Ie=function(t,e,n){var r=t.isEmpty(e)
if(n&&t.select("span[data-mce-type=bookmark]",e).length>0)return false
return r}
var Le=function(t,e){return t.isChildOf(e,t.getRoot())}
var Pe=function(t){return t.getParam("lists_indent_on_tab",true)}
var Ne=function(t){var e=t.getParam("forced_root_block","p")
return false===e?"":true===e?"p":e}
var Ve=function(t){return t.getParam("forced_root_block_attrs",{})}
var Fe=function(t,e){var n=t.dom
var r=t.schema.getBlockElements()
var o=n.createFragment()
var a=Ne(t)
var i,u,c
if(a){u=n.create(a)
u.tagName===a.toUpperCase()&&n.setAttribs(u,Ve(t))
He(e.firstChild,r)||o.appendChild(u)}if(e)while(i=e.firstChild){var s=i.nodeName
c||"SPAN"===s&&"bookmark"===i.getAttribute("data-mce-type")||(c=true)
if(He(i,r)){o.appendChild(i)
u=null}else if(a){if(!u){u=n.create(a)
o.appendChild(u)}u.appendChild(i)}else o.appendChild(i)}a?c||u.appendChild(n.create("br",{"data-mce-bogus":"1"})):o.appendChild(n.create("br"))
return o}
var je=we.DOM
var Ue=function(t,e,n){var r=function(t){xe.each(o,(function(e){t.parentNode.insertBefore(e,n.parentNode)}))
je.remove(t)}
var o=je.select('span[data-mce-type="bookmark"]',e)
var a=Fe(t,n)
var i=je.createRng()
i.setStartAfter(n)
i.setEndAfter(e)
var u=i.extractContents()
for(var c=u.firstChild;c;c=c.firstChild)if("LI"===c.nodeName&&t.dom.isEmpty(c)){je.remove(c)
break}t.dom.isEmpty(u)||je.insertAfter(u,e)
je.insertAfter(a,e)
Ie(t.dom,n.parentNode)&&r(n.parentNode)
je.remove(n)
Ie(t.dom,e)&&je.remove(e)}
var We=function(t,e){Wt(e,"dd")?ye(e,"dt"):Wt(e,"dt")&&ie(e).each((function(n){return Ue(t,n.dom,e.dom)}))}
var qe=function(t){Wt(t,"dt")&&ye(t,"dd")}
var Ge=function(t,e,n){S(n,"Indent"===e?qe:function(e){return We(t,e)})}
var $e=function(t,e){if(Oe(t))return{container:t,offset:e}
var n=qt.getNode(t,e)
if(Oe(n))return{container:n,offset:e>=t.childNodes.length?n.data.length:0}
if(n.previousSibling&&Oe(n.previousSibling))return{container:n.previousSibling,offset:n.previousSibling.data.length}
if(n.nextSibling&&Oe(n.nextSibling))return{container:n.nextSibling,offset:0}
return{container:t,offset:e}}
var Xe=function(t){var e=t.cloneRange()
var n=$e(t.startContainer,t.startOffset)
e.setStart(n.container,n.offset)
var r=$e(t.endContainer,t.endOffset)
e.setEnd(r.container,r.offset)
return e}
var Ke=tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
var Ye=function(t,e){var n=e||t.selection.getStart(true)
return t.dom.getParent(n,"OL,UL,DL",rn(t,n))}
var Je=function(t,e){return t&&1===e.length&&e[0]===t}
var Ze=function(t){return xe.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return ke(t)}))}
var Qe=function(t){var e=Ye(t)
var n=t.selection.getSelectedBlocks()
return Je(e,n)?Ze(e):xe.grep(n,(function(t){return ke(t)&&e!==t}))}
var tn=function(t,e){var n=xe.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",rn(t,e))
return n||e}))
return Ke.unique(n)}
var en=function(t){var e=t.selection.getSelectedBlocks()
return xe.grep(tn(t,e),(function(t){return ze(t)}))}
var nn=function(t){return O(en(t),Ee)}
var rn=function(t,e){var n=t.dom.getParents(e,"TD,TH")
var r=n.length>0?n[0]:t.getBody()
return r}
var on=function(t,e){var n=t.dom.getParents(e,"ol,ul",rn(t,e))
return H(n)}
var an=function(t){var e=on(t,t.selection.getStart())
var n=O(t.selection.getSelectedBlocks(),Te)
return e.toArray().concat(n)}
var un=function(t){var e=an(t)
return cn(t,e)}
var cn=function(t,e){var n=C(e,(function(e){return on(t,e).getOr(e)}))
return Ke.unique(n)}
var sn=function(t,e,n){return t.isSome()&&e.isSome()?y.some(n(t.getOrDie(),e.getOrDie())):y.none()}
var ln=function(t,e){var n=e||document
var r=n.createDocumentFragment()
S(t,(function(t){r.appendChild(t.dom)}))
return Pt.fromDom(r)}
var vn=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})}
var fn=function(t){return void 0!==t.style&&c(t.style.getPropertyValue)}
var dn=function(t,e,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}fn(t)&&t.style.setProperty(e,n)}
var mn=function(t,e,n){var r=t.dom
dn(r,e,n)}
var gn=function(t,e){fe(t.item,e.list)}
var hn=function(t){for(var e=1;e<t.length;e++)gn(t[e-1],t[e])}
var pn=function(t,e){sn(H(t),R(e),gn)}
var bn=function(t,e){var n={list:Pt.fromTag(e,t),item:Pt.fromTag("li",t)}
fe(n.list,n.item)
return n}
var yn=function(t,e,n){var r=[]
for(var o=0;o<n;o++)r.push(bn(t,e.listType))
return r}
var wn=function(t,e){for(var n=0;n<t.length-1;n++)mn(t[n].item,"list-style-type","none")
H(t).each((function(t){oe(t.list,e.listAttributes)
oe(t.item,e.itemAttributes)
me(t.item,e.content)}))}
var xn=function(t,e){Qt(t.list)!==e.listType&&(t.list=ye(t.list,e.listType))
oe(t.list,e.listAttributes)}
var Cn=function(t,e,n){var r=Pt.fromTag("li",t)
oe(r,e)
me(r,n)
return r}
var Sn=function(t,e){fe(t.list,e)
t.item=e}
var On=function(t,e,n){var r=e.slice(0,n.depth)
H(r).each((function(e){var r=Cn(t,n.itemAttributes,n.content)
Sn(e,r)
xn(e,n)}))
return r}
var kn=function(t,e,n){var r=yn(t,n,n.depth-e.length)
hn(r)
wn(r,n)
pn(e,r)
return e.concat(r)}
var Tn=function(t,e){var n=T(e,(function(e,n){return n.depth>e.length?kn(t,e,n):On(t,e,n)}),[])
return R(n).map((function(t){return t.list}))}
var _n=function(t){return Wt(t,"OL,UL")}
var zn=function(t){return se(t).map(_n).getOr(false)}
var En=function(t){return le(t).map(_n).getOr(false)}
var Mn=function(t){return t.depth>0}
var Dn=function(t){return t.isSelected}
var An=function(t){var e=ue(t)
var n=En(t)?e.slice(0,-1):e
return C(n,pe)}
var Rn=function(t,e,n){return ie(t).filter(ne).map((function(r){return{depth:e,dirty:false,isSelected:n,content:An(t),itemAttributes:ae(t),listAttributes:ae(r),listType:Qt(r)}}))}
var Hn=function(t,e){switch(t){case"Indent":e.depth++
break
case"Outdent":e.depth--
break
case"Flatten":e.depth=0}e.dirty=true}
var Bn=function(t,e){t.listType=e.listType
t.listAttributes=B({},e.listAttributes)}
var In=function(t){t.listAttributes=Zt(t.listAttributes,(function(t,e){return"start"!==e}))}
var Ln=function(t,e){var n=t[e].depth
var r=function(t){return t.depth===n&&!t.dirty}
var o=function(t){return t.depth<n}
return _(D(t.slice(0,e)),r,o).orThunk((function(){return _(t.slice(e+1),r,o)}))}
var Pn=function(t){S(t,(function(e,n){Ln(t,n).fold((function(){e.dirty&&In(e)}),(function(t){return Bn(e,t)}))}))
return t}
var Nn=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var Vn=function(t,e,n,r){return se(r).filter(_n).fold((function(){e.each((function(t){Vt(t.start,r)&&n.set(true)}))
var o=Rn(r,t,n.get())
e.each((function(t){Vt(t.end,r)&&n.set(false)}))
var a=le(r).filter(_n).map((function(r){return Fn(t,e,n,r)})).getOr([])
return o.toArray().concat(a)}),(function(r){return Fn(t,e,n,r)}))}
var Fn=function(t,e,n,r){return M(ue(r),(function(r){var o=_n(r)?Fn:Vn
var a=t+1
return o(a,e,n,r)}))}
var jn=function(t,e){var n=Nn(false)
var r=0
return C(t,(function(t){return{sourceList:t,entries:Fn(r,e,n,t)}}))}
var Un=function(t,e){var n=Pn(e)
return C(n,(function(e){var n=ln(e.content)
return Pt.fromDom(Fe(t,n.dom))}))}
var Wn=function(t,e){var n=Pn(e)
return Tn(t.contentDocument,n).toArray()}
var qn=function(t,e){return M(k(e,Mn),(function(e){var n=R(e).map(Mn).getOr(false)
return n?Wn(t,e):Un(t,e)}))}
var Gn=function(t,e){S(O(t,Dn),(function(t){return Hn(e,t)}))}
var $n=function(t){var e=C(en(t),Pt.fromDom)
return sn(z(e,f(zn)),z(D(e),f(zn)),(function(t,e){return{start:t,end:e}}))}
var Xn=function(t,e,n){var r=jn(e,$n(t))
S(r,(function(e){Gn(e.entries,n)
var r=qn(t,e.entries)
S(r,(function(e){vn(t,"Indent"===n?"IndentList":"OutdentList",e.dom)}))
de(e.sourceList,r)
ge(e.sourceList)}))}
var Kn=function(t,e){var n=C(un(t),Pt.fromDom)
var r=C(nn(t),Pt.fromDom)
var o=false
if(n.length||r.length){var a=t.selection.getBookmark()
Xn(t,n,e)
Ge(t,e,r)
t.selection.moveToBookmark(a)
t.selection.setRng(Xe(t.selection.getRng()))
t.nodeChanged()
o=true}return o}
var Yn=function(t){return Kn(t,"Indent")}
var Jn=function(t){return Kn(t,"Outdent")}
var Zn=function(t){return Kn(t,"Flatten")}
var Qn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager")
var tr=we.DOM
var er=function(t){var e={}
var n=function(n){var r,o,a
o=t[n?"startContainer":"endContainer"]
a=t[n?"startOffset":"endOffset"]
if(1===o.nodeType){r=tr.create("span",{"data-mce-type":"bookmark"})
if(o.hasChildNodes()){a=Math.min(a,o.childNodes.length-1)
n?o.insertBefore(r,o.childNodes[a]):tr.insertAfter(r,o.childNodes[a])}else o.appendChild(r)
o=r
a=0}e[n?"startContainer":"endContainer"]=o
e[n?"startOffset":"endOffset"]=a}
n(true)
t.collapsed||n()
return e}
var nr=function(t){var e=function(e){var n,r,o
var a=function(t){var e=t.parentNode.firstChild,n=0
while(e){if(e===t)return n
1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++
e=e.nextSibling}return-1}
n=o=t[e?"startContainer":"endContainer"]
r=t[e?"startOffset":"endOffset"]
if(!n)return
if(1===n.nodeType){r=a(n)
n=n.parentNode
tr.remove(o)
!n.hasChildNodes()&&tr.isBlock(n)&&n.appendChild(tr.create("br"))}t[e?"startContainer":"endContainer"]=n
t[e?"startOffset":"endOffset"]=r}
e(true)
e()
var n=tr.createRng()
n.setStart(t.startContainer,t.startOffset)
t.endContainer&&n.setEnd(t.endContainer,t.endOffset)
return Xe(n)}
var rr=function(t){switch(t){case"UL":return"ToggleUlList"
case"OL":return"ToggleOlList"
case"DL":return"ToggleDLList"}}
var or=function(t){return/\btox\-/.test(t.className)}
var ar=function(t,e,n){var r=function(t){var r=_(t.parents,ke,Me).filter((function(t){return t.nodeName===e&&!or(t)})).isSome()
n(r)}
var o=t.dom.getParents(t.selection.getNode())
r({parents:o})
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}
var ir=function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null
t.setStyle(e,"list-style-type",r)}
var ur=function(t,e){xe.each(e,(function(e,n){t.setAttribute(n,e)}))}
var cr=function(t,e,n){ur(e,n["list-attributes"])
xe.each(t.select("li",e),(function(t){ur(t,n["list-item-attributes"])}))}
var sr=function(t,e,n){ir(t,e,n)
cr(t,e,n)}
var lr=function(t,e,n){xe.each(n,(function(n){var r
return t.setStyle(e,(r={},r[n]="",r))}))}
var vr=function(t,e,n,r){var o=e[n?"startContainer":"endContainer"]
var a=e[n?"startOffset":"endOffset"]
1===o.nodeType&&(o=o.childNodes[Math.min(a,o.childNodes.length-1)]||o)
!n&&De(o.nextSibling)&&(o=o.nextSibling)
while(o.parentNode!==r){if(Re(t,o))return o
if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o
o=o.parentNode}return o}
var fr=function(t,e,n){var r=[],o=t.dom
var a=vr(t,e,true,n)
var i=vr(t,e,false,n)
var u
var c=[]
for(var s=a;s;s=s.nextSibling){c.push(s)
if(s===i)break}xe.each(c,(function(e){if(Re(t,e)){r.push(e)
u=null
return}if(o.isBlock(e)||De(e)){De(e)&&o.remove(e)
u=null
return}var a=e.nextSibling
if(Qn.isBookmarkNode(e)&&(ke(a)||Re(t,a)||!a&&e.parentNode===n)){u=null
return}if(!u){u=o.create("p")
e.parentNode.insertBefore(u,e)
r.push(u)}u.appendChild(e)}))
return r}
var dr=function(t,e,n){var r=t.getStyle(e,"list-style-type")
var o=n?n["list-style-type"]:""
o=null===o?"":o
return r===o}
var mr=function(t,e,n){var r=t.selection.getRng()
var o="LI"
var a=rn(t,t.selection.getStart(true))
var i=t.dom
if("false"===i.getContentEditable(t.selection.getNode()))return
e=e.toUpperCase()
"DL"===e&&(o="DT")
var u=er(r)
var c=fr(t,r,a)
xe.each(c,(function(r){var a
var u=r.previousSibling
var c=r.parentNode
if(!ze(c)){if(u&&ke(u)&&u.nodeName===e&&dr(i,u,n)){a=u
r=i.rename(r,o)
u.appendChild(r)}else{a=i.create(e)
r.parentNode.insertBefore(a,r)
a.appendChild(r)
r=i.rename(r,o)}lr(i,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"])
sr(i,a,n)
yr(t.dom,a)}}))
t.selection.setRng(nr(u))}
var gr=function(t,e){return t&&e&&ke(t)&&t.nodeName===e.nodeName}
var hr=function(t,e,n){var r=t.getStyle(e,"list-style-type",true)
var o=t.getStyle(n,"list-style-type",true)
return r===o}
var pr=function(t,e){return t.className===e.className}
var br=function(t,e,n){return gr(e,n)&&hr(t,e,n)&&pr(e,n)}
var yr=function(t,e){var n,r
n=e.nextSibling
if(br(t,e,n)){while(r=n.firstChild)e.appendChild(r)
t.remove(n)}n=e.previousSibling
if(br(t,e,n)){while(r=n.lastChild)e.insertBefore(r,e.firstChild)
t.remove(n)}}
var wr=function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n)
sr(t.dom,o,r)
vn(t,rr(n),o)}else{sr(t.dom,e,r)
vn(t,rr(n),e)}}
var xr=function(t,e,n,r,o){var a=ke(e)
if(a&&e.nodeName===r&&!Cr(o))Zn(t)
else{mr(t,r,o)
var i=er(t.selection.getRng(true))
var u=a?I([e],n):n
xe.each(u,(function(e){wr(t,e,r,o)}))
t.selection.setRng(nr(i))}}
var Cr=function(t){return"list-style-type"in t}
var Sr=function(t,e,n,r){if(e===t.getBody())return
if(e)if(e.nodeName!==n||Cr(r)||or(e)){var o=er(t.selection.getRng(true))
sr(t.dom,e,r)
var a=t.dom.rename(e,n)
yr(t.dom,a)
t.selection.setRng(nr(o))
mr(t,n,r)
vn(t,rr(n),a)}else Zn(t)
else{mr(t,n,r)
vn(t,rr(n),e)}}
var Or=function(t,e,n){var r=Ye(t)
var o=Qe(t)
var i=a(n)?n:{}
o.length>0?xr(t,r,o,e,i):Sr(t,r,e,i)}
var kr=we.DOM
var Tr=function(t,e){var n
var r=e.parentNode
if("LI"===r.nodeName&&r.firstChild===e){n=r.previousSibling
if(n&&"LI"===n.nodeName){n.appendChild(e)
Ie(t,r)&&kr.remove(r)}else kr.setStyle(r,"listStyleType","none")}if(ke(r)){n=r.previousSibling
n&&"LI"===n.nodeName&&n.appendChild(e)}}
var _r=function(t,e){xe.each(xe.grep(t.select("ol,ul",e)),(function(e){Tr(t,e)}))}
var zr=function(t,e,n,r){var o=e.startContainer
var a=e.startOffset
if(Oe(o)&&(n?a<o.data.length:a>0))return o
var i=t.schema.getNonEmptyElements()
1===o.nodeType&&(o=qt.getNode(o,a))
var u=new Gt(o,r)
n&&Be(t.dom,o)&&u.next()
while(o=u[n?"next":"prev2"]()){if("LI"===o.nodeName&&!o.hasChildNodes())return o
if(i[o.nodeName])return o
if(Oe(o)&&o.data.length>0)return o}}
var Er=function(t,e){var n=e.childNodes
return 1===n.length&&!ke(n[0])&&t.isBlock(n[0])}
var Mr=function(t,e){Er(t,e)&&t.remove(e.firstChild,true)}
var Dr=function(t,e,n){var r
var o=Er(t,n)?n.firstChild:n
Mr(t,e)
if(!Ie(t,e,true))while(r=e.firstChild)o.appendChild(r)}
var Ar=function(t,e,n){var r
var o=e.parentNode
if(!Le(t,e)||!Le(t,n))return
ke(n.lastChild)&&(r=n.lastChild)
o===n.lastChild&&De(o.previousSibling)&&t.remove(o.previousSibling)
var a=n.lastChild
a&&De(a)&&e.hasChildNodes()&&t.remove(a)
Ie(t,n,true)&&t.$(n).empty()
Dr(t,e,n)
r&&n.appendChild(r)
var i=Ut(Pt.fromDom(n),Pt.fromDom(e))
var u=i?t.getParents(e,ke,n):[]
t.remove(e)
S(u,(function(e){Ie(t,e)&&e!==t.getRoot()&&t.remove(e)}))}
var Rr=function(t,e,n){t.dom.$(n).empty()
Ar(t.dom,e,n)
t.selection.setCursorLocation(n,0)}
var Hr=function(t,e,n,r){var o=t.dom
if(o.isEmpty(r))Rr(t,n,r)
else{var a=er(e)
Ar(o,n,r)
t.selection.setRng(nr(a))}}
var Br=function(t,e,n,r){var o=er(e)
Ar(t.dom,n,r)
var a=nr(o)
t.selection.setRng(a)}
var Ir=function(t,e){var n=t.dom,r=t.selection
var o=r.getStart()
var a=rn(t,o)
var i=n.getParent(r.getStart(),"LI",a)
if(i){var u=i.parentNode
if(u===t.getBody()&&Ie(n,u))return true
var c=Xe(r.getRng())
var s=n.getParent(zr(t,c,e,a),"LI",a)
if(s&&s!==i){t.undoManager.transact((function(){e?Hr(t,c,s,i):Ae(i)?Jn(t):Br(t,c,i,s)}))
return true}if(!s&&!e&&0===c.startOffset&&0===c.endOffset){t.undoManager.transact((function(){Zn(t)}))
return true}}return false}
var Lr=function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n)
t.remove(e)
r&&t.isEmpty(r)&&t.remove(r)}
var Pr=function(t,e){var n=t.dom
var r=t.selection.getStart()
var o=rn(t,r)
var a=n.getParent(r,n.isBlock,o)
if(a&&n.isEmpty(a)){var i=Xe(t.selection.getRng())
var u=n.getParent(zr(t,i,e,o),"LI",o)
if(u){t.undoManager.transact((function(){Lr(n,a,o)
yr(n,u.parentNode)
t.selection.select(u,true)
t.selection.collapse(e)}))
return true}}return false}
var Nr=function(t,e){return Ir(t,e)||Pr(t,e)}
var Vr=function(t){var e=t.selection.getStart()
var n=rn(t,e)
var r=t.dom.getParent(e,"LI,DT,DD",n)
if(r||en(t).length>0){t.undoManager.transact((function(){t.execCommand("Delete")
_r(t.dom,t.getBody())}))
return true}return false}
var Fr=function(t,e){return t.selection.isCollapsed()?Nr(t,e):Vr(t)}
var jr=function(t){t.on("keydown",(function(e){e.keyCode===$t.BACKSPACE?Fr(t,false)&&e.preventDefault():e.keyCode===$t.DELETE&&Fr(t,true)&&e.preventDefault()}))}
var Ur=function(t){return{backspaceDelete:function(e){Fr(t,e)}}}
var Wr=function(t,e){var n=Ye(t)
t.undoManager.transact((function(){a(e.styles)&&t.dom.setStyles(n,e.styles)
a(e.attrs)&&Kt(e.attrs,(function(e,r){return t.dom.setAttrib(n,r,e)}))}))}
var qr=function(t){var e=D(J(t).split(""))
var n=C(e,(function(t,e){var n=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1
return Math.pow(26,e)*n}))
return T(n,(function(t,e){return t+e}),0)}
var Gr=function(t){t--
if(t<0)return""
var e=t%26
var n=Math.floor(t/26)
var r=Gr(n)
var o=String.fromCharCode("A".charCodeAt(0)+e)
return r+o}
var $r=function(t){return/^[A-Z]+$/.test(t)}
var Xr=function(t){return/^[a-z]+$/.test(t)}
var Kr=function(t){return/^[0-9]+$/.test(t)}
var Yr=function(t){return Kr(t)?2:$r(t)?0:Xr(t)?1:Q(t)?3:4}
var Jr=function(t){switch(Yr(t)){case 2:return y.some({listStyleType:y.none(),start:t})
case 0:return y.some({listStyleType:y.some("upper-alpha"),start:qr(t).toString()})
case 1:return y.some({listStyleType:y.some("lower-alpha"),start:qr(t).toString()})
case 3:return y.some({listStyleType:y.none(),start:""})
case 4:return y.none()}}
var Zr=function(t){var e=parseInt(t.start,10)
return t.listStyleType.is("upper-alpha")?Gr(e):t.listStyleType.is("lower-alpha")?Gr(e).toLowerCase():t.start}
var Qr=function(t){var e=Ye(t)
if(!_e(e))return
t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Zr({start:t.dom.getAttrib(e,"start","1"),listStyleType:y.some(t.dom.getStyle(e,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(e){var n=e.getData()
Jr(n.start).each((function(e){t.execCommand("mceListUpdate",false,{attrs:{start:"1"===e.start?"":e.start},styles:{"list-style-type":e.listStyleType.getOr("")}})}))
e.close()}})}
var to=function(t,e){return function(){var n=Ye(t)
return n&&n.nodeName===e}}
var eo=function(t){t.addCommand("mceListProps",(function(){Qr(t)}))}
var no=function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase()
"indent"===n?Yn(t):"outdent"===n&&Jn(t)}))
t.addCommand("InsertUnorderedList",(function(e,n){Or(t,"UL",n)}))
t.addCommand("InsertOrderedList",(function(e,n){Or(t,"OL",n)}))
t.addCommand("InsertDefinitionList",(function(e,n){Or(t,"DL",n)}))
t.addCommand("RemoveList",(function(){Zn(t)}))
eo(t)
t.addCommand("mceListUpdate",(function(e,n){a(n)&&Wr(t,n)}))
t.addQueryStateHandler("InsertUnorderedList",to(t,"UL"))
t.addQueryStateHandler("InsertOrderedList",to(t,"OL"))
t.addQueryStateHandler("InsertDefinitionList",to(t,"DL"))}
var ro=function(t){t.on("keydown",(function(e){if(e.keyCode!==$t.TAB||$t.metaKeyPressed(e))return
t.undoManager.transact((function(){(e.shiftKey?Jn(t):Yn(t))&&e.preventDefault()}))}))}
var oo=function(t){Pe(t)&&ro(t)
jr(t)}
var ao=function(t){var e=function(e){return function(){return t.execCommand(e)}}
if(!t.hasPlugin("advlist")){t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:false,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return ar(t,"OL",e.setActive)}})
t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:false,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return ar(t,"UL",e.setActive)}})}}
var io=function(t){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return t.execCommand("mceListProps")},onSetup:function(e){return ar(t,"OL",(function(t){return e.setDisabled(!t)}))}}
t.ui.registry.addMenuItem("listprops",e)
t.ui.registry.addContextMenu("lists",{update:function(e){var n=Ye(t,e)
return _e(n)?["listprops"]:[]}})}
function uo(){t.add("lists",(function(t){if(false===t.hasPlugin("rtc",true)){oo(t)
no(t)}else eo(t)
ao(t)
io(t)
return Ur(t)}))}uo()})()},LCgA:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=tinymce.util.Tools.resolve("tinymce.Env")
var r=tinymce.util.Tools.resolve("tinymce.util.Delay")
var o=function(t){return t.fire("ResizeEditor")}
var a=function(t){return t.getParam("min_height",t.getElement().offsetHeight,"number")}
var i=function(t){return t.getParam("max_height",0,"number")}
var u=function(t){return t.getParam("autoresize_overflow_padding",1,"number")}
var c=function(t){return t.getParam("autoresize_bottom_margin",50,"number")}
var s=function(t){return t.getParam("autoresize_on_init",true,"boolean")}
var l=function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()}
var v=function(t,e,n,o,a){r.setEditorTimeout(t,(function(){m(t,e)
n--?v(t,e,n,o,a):a&&a()}),o)}
var f=function(t,e){var n=t.getBody()
if(n){n.style.overflowY=e?"":"hidden"
e||(n.scrollTop=0)}}
var d=function(t,e,n,r){var o=parseInt(t.getStyle(e,n,r),10)
return isNaN(o)?0:o}
var m=function(t,e){var r=t.dom
var u=t.getDoc()
if(!u)return
if(l(t)){f(t,true)
return}var s=u.documentElement
var v=c(t)
var g=a(t)
var h=d(r,s,"margin-top",true)
var p=d(r,s,"margin-bottom",true)
var b=s.offsetHeight+h+p+v
b<0&&(b=0)
var y=t.getContainer().offsetHeight
var w=t.getContentAreaContainer().offsetHeight
var x=y-w
b+x>a(t)&&(g=b+x)
var C=i(t)
if(C&&g>C){g=C
f(t,true)}else f(t,false)
if(g!==e.get()){var S=g-e.get()
r.setStyle(t.getContainer(),"height",g+"px")
e.set(g)
o(t)
if(n.browser.isSafari()&&n.mac){var O=t.getWin()
O.scrollTo(O.pageXOffset,O.pageYOffset)}t.hasFocus()&&t.selection.scrollIntoView(t.selection.getNode())
n.webkit&&S<0&&m(t,e)}}
var g=function(t,e){t.on("init",(function(){var e=u(t)
var n=t.dom
n.setStyles(t.getDoc().documentElement,{height:"auto"})
n.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}))
t.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(){m(t,e)}))
s(t)&&t.on("init",(function(){v(t,e,20,100,(function(){v(t,e,5,1e3)}))}))}
var h=function(t,e){t.addCommand("mceAutoResize",(function(){m(t,e)}))}
function p(){e.add("autoresize",(function(e){e.settings.hasOwnProperty("resize")||(e.settings.resize=false)
if(!e.inline){var n=t(0)
h(e,n)
g(e,n)}}))}p()})()},NVgN:function(t,e,n){"use strict"
n.r(e)
n.d(e,"default",(function(){return c}))
var r=n("q1tI")
var o=n.n(r)
var a=n("17x9")
var i=n("WEeK")
var u=n("NFDp")
function c({fileUrl:t,setFileUrl:e}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i["a"],{name:"file-url",renderLabel:Object(u["a"])("File URL"),type:"url",value:t,onChange:(t,n)=>e(n)}))}c.propTypes={fileUrl:a["string"].isRequired,setFileUrl:a["func"].isRequired}},NhbT:function(t,e,n){n("rU96")},Rwab:function(t,e){(function(){"use strict"
var t=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var e=tinymce.util.Tools.resolve("tinymce.PluginManager")
var n=function(t){return{isFullscreen:function(){return null!==t.get()}}}
var r=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var o=function(t){return function(e){return r(e)===t}}
var a=function(t){return function(e){return typeof e===t}}
var i=o("string")
var u=o("array")
var c=a("boolean")
var s=function(t){return null===t||void 0===t}
var l=function(t){return!s(t)}
var v=a("function")
var f=a("number")
var d=function(){}
var m=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var g=function(t,e){return function(n){return t(e(n))}}
var h=function(t){return function(){return t}}
function p(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var b=h(false)
var y=h(true)
var w=function(){return x}
var x=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:b,isSome:b,isNone:y,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:e,map:w,each:d,bind:w,exists:b,forall:y,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:h("none()")}
return r}()
var C=function(t){var e=h(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:y,isNone:b,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return C(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:x},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(b,(function(e){return n(t,e)}))}}
return o}
var S=function(t){return null===t||void 0===t?x:C(t)}
var O={some:C,none:w,from:S}
var k=function(e){var n=t(O.none())
var r=function(){return n.get().each(e)}
var o=function(){r()
n.set(O.none())}
var a=function(){return n.get().isSome()}
var i=function(t){r()
n.set(O.some(t))}
return{clear:o,isSet:a,set:i}}
var T=function(){return k((function(t){return t.unbind()}))}
var _=function(){var e=t(O.none())
var n=function(){return e.set(O.none())}
var r=function(t){return e.set(O.some(t))}
var o=function(){return e.get().isSome()}
var a=function(t){return e.get().each(t)}
return{clear:n,set:r,isSet:o,on:a}}
var z=Array.prototype.push
var E=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var M=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var D=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var A=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
z.apply(e,t[n])}return e}
var R=function(t,e){return A(E(t,e))}
var H=function(t,e){return e>=0&&e<t.length?O.some(t[e]):O.none()}
var B=function(t){return H(t,0)}
var I=Object.keys
var L=function(t,e){var n=I(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var P=function(t){return void 0!==t.style&&v(t.style.getPropertyValue)}
var N=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return j(r.childNodes[0])}
var V=function(t,e){var n=e||document
var r=n.createElement(t)
return j(r)}
var F=function(t,e){var n=e||document
var r=n.createTextNode(t)
return j(r)}
var j=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var U=function(t,e,n){return O.from(t.dom.elementFromPoint(e,n)).map(j)}
var W={fromHtml:N,fromTag:V,fromText:F,fromDom:j,fromPoint:U}
"undefined"!==typeof window?window:Function("return this;")()
var q=9
var G=11
var $=1
var X=3
var K=function(t){return t.dom.nodeType}
var Y=function(t){return function(e){return K(e)===t}}
var J=Y($)
var Z=Y(X)
var Q=Y(q)
var tt=Y(G)
var et=function(t,e){var n=t.dom
if(n.nodeType!==$)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var nt=function(t){return t.nodeType!==$&&t.nodeType!==q&&t.nodeType!==G||0===t.childElementCount}
var rt=function(t,e){var n=void 0===e?document:e.dom
return nt(n)?[]:E(n.querySelectorAll(t),W.fromDom)}
var ot=function(t,e){return t.dom===e.dom}
var at=function(t){return W.fromDom(t.dom.ownerDocument)}
var it=function(t){return Q(t)?t:at(t)}
var ut=function(t){return O.from(t.dom.parentNode).map(W.fromDom)}
var ct=function(t,e){var n=v(e)?e:b
var r=t.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=W.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var st=function(t){var e=function(e){return D(e,(function(e){return!ot(t,e)}))}
return ut(t).map(lt).map(e).getOr([])}
var lt=function(t){return E(t.dom.childNodes,W.fromDom)}
var vt=function(t){return tt(t)&&l(t.dom.host)}
var ft=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode)
var dt=h(ft)
var mt=ft?function(t){return W.fromDom(t.dom.getRootNode())}:it
var gt=function(t){var e=mt(t)
return vt(e)?O.some(e):O.none()}
var ht=function(t){return W.fromDom(t.dom.host)}
var pt=function(t){if(dt()&&l(t.target)){var e=W.fromDom(t.target)
if(J(e)&&bt(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return B(n)}}return O.from(t.target)}
var bt=function(t){return l(t.dom.shadowRoot)}
var yt=function(t){var e=Z(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return gt(W.fromDom(e)).fold((function(){return n.body.contains(e)}),g(yt,ht))}
var wt=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return W.fromDom(e)}
var xt=function(t,e,n){if(!(i(n)||c(n)||f(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Ct=function(t,e,n){xt(t.dom,e,n)}
var St=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var Ot=function(t,e){t.dom.removeAttribute(e)}
var kt=function(t,e,n){if(!i(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}P(t)&&t.style.setProperty(e,n)}
var Tt=function(t,e){var n=t.dom
L(e,(function(t,e){kt(n,e,t)}))}
var _t=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||yt(t)?o:zt(n,e)}
var zt=function(t,e){return P(t)?t.style.getPropertyValue(e):""}
var Et=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Mt=function(t){var e=W.fromDom(pt(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var o=m(r,n)
return Et(e,t.clientX,t.clientY,n,r,o,t)}
var Dt=function(t,e){return function(n){t(n)&&e(Mt(n))}}
var At=function(t,e,n,r,o){var a=Dt(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:p(Ht,t,e,a,o)}}
var Rt=function(t,e,n,r){return At(t,e,n,r,false)}
var Ht=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Bt=y
var It=function(t,e,n){return Rt(t,e,Bt,n)}
var Lt=function(t,e){var n=function(n,r){return Lt(t+n,e+r)}
return{left:t,top:e,translate:n}}
var Pt=Lt
var Nt=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return Pt(n,r)}
var Vt=function(t){var e=void 0===t?window:t
return O.from(e["visualViewport"])}
var Ft=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}}
var jt=function(t){var e=void 0===t?window:t
var n=e.document
var r=Nt(W.fromDom(n))
return Vt(e).fold((function(){var t=e.document.documentElement
var n=t.clientWidth
var o=t.clientHeight
return Ft(r.left,r.top,n,o)}),(function(t){return Ft(Math.max(t.pageLeft,r.left),Math.max(t.pageTop,r.top),t.width,t.height)}))}
var Ut=function(t,e,n){return Vt(n).map((function(n){var r=function(t){return e(Mt(t))}
n.addEventListener(t,r)
return{unbind:function(){return n.removeEventListener(t,r)}}})).getOrThunk((function(){return{unbind:d}}))}
var Wt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var qt=tinymce.util.Tools.resolve("tinymce.Env")
var Gt=tinymce.util.Tools.resolve("tinymce.util.Delay")
var $t=function(t,e){t.fire("FullscreenStateChanged",{state:e})}
var Xt=function(t){return t.getParam("fullscreen_native",false,"boolean")}
var Kt=function(t){var e=W.fromDom(t.getElement())
return gt(e).map(ht).getOrThunk((function(){return wt(at(e))}))}
var Yt=function(t){return void 0!==t.fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null}
var Jt=function(){return void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange"}
var Zt=function(t){var e=t.dom
e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}
var Qt=function(t){var e=t.dom
e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen()}
var te=function(t){return t.dom===Yt(at(t).dom)}
var ee=function(t,e,n){return D(ct(t,n),e)}
var ne=function(t,e){return D(st(t),e)}
var re=function(t){return rt(t)}
var oe=function(t,e,n){return ee(t,(function(t){return et(t,e)}),n)}
var ae=function(t,e){return ne(t,(function(t){return et(t,e)}))}
var ie="data-ephox-mobile-fullscreen-style"
var ue="display:none!important;"
var ce="position:absolute!important;"
var se="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;"
var le="background-color:rgb(255,255,255)!important;"
var ve=qt.os.isAndroid()
var fe=function(t){var e=_t(t,"background-color")
return void 0!==e&&""!==e?"background-color:"+e+"!important":le}
var de=function(t,e,n){var r=function(t){return ae(t,"*:not(.tox-silver-sink)")}
var o=function(e){return function(n){var r=St(n,"style")
var o=void 0===r?"no-styles":r.trim()
if(o===e)return
Ct(n,ie,o)
Tt(n,t.parseStyle(e))}}
var a=oe(e,"*")
var i=R(a,r)
var u=fe(n)
M(i,o(ue))
M(a,o(ce+se+u))
var c=true===ve?"":ce
o(c+se+u)(e)}
var me=function(t){var e=re("["+ie+"]")
M(e,(function(e){var n=St(e,ie)
"no-styles"!==n?Tt(e,t.parseStyle(n)):Ot(e,"style")
Ot(e,ie)}))}
var ge=Wt.DOM
var he=function(){var t=jt(window)
return{x:t.x,y:t.y}}
var pe=function(t){window.scrollTo(t.x,t.y)}
var be=Vt().fold((function(){return{bind:d,unbind:d}}),(function(t){var e=_()
var n=T()
var r=T()
var o=function(){document.body.scrollTop=0
document.documentElement.scrollTop=0}
var a=function(){window.requestAnimationFrame((function(){e.on((function(e){return Tt(e,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})}))}))}
var i=Gt.throttle((function(){o()
a()}),50)
var u=function(t){e.set(t)
i()
n.set(Ut("resize",i))
r.set(Ut("scroll",i))}
var c=function(){e.on((function(){n.clear()
r.clear()}))
e.clear()}
return{bind:u,unbind:c}}))
var ye=function(t,e){var n=document.body
var r=document.documentElement
var o=t.getContainer()
var a=W.fromDom(o)
var i=Kt(t)
var u=e.get()
var c=W.fromDom(t.getBody())
var s=qt.deviceType.isTouch()
var l=o.style
var v=t.iframeElement
var f=v.style
var d=function(t){t(n,"tox-fullscreen")
t(r,"tox-fullscreen")
t(o,"tox-fullscreen")
gt(a).map((function(t){return ht(t).dom})).each((function(e){t(e,"tox-fullscreen")
t(e,"tox-shadowhost")}))}
var m=function(){s&&me(t.dom)
d(ge.removeClass)
be.unbind()
O.from(e.get()).each((function(t){return t.fullscreenChangeHandler.unbind()}))}
if(u){u.fullscreenChangeHandler.unbind()
Xt(t)&&te(i)&&Qt(at(i))
f.width=u.iframeWidth
f.height=u.iframeHeight
l.width=u.containerWidth
l.height=u.containerHeight
l.top=u.containerTop
l.left=u.containerLeft
pe(u.scrollPos)
e.set(null)
$t(t,false)
m()
t.off("remove",m)}else{var g=It(at(i),Jt(),(function(n){Xt(t)&&(te(i)||null===e.get()||ye(t,e))}))
var h={scrollPos:he(),containerWidth:l.width,containerHeight:l.height,containerTop:l.top,containerLeft:l.left,iframeWidth:f.width,iframeHeight:f.height,fullscreenChangeHandler:g}
s&&de(t.dom,a,c)
f.width=f.height="100%"
l.width=l.height=""
d(ge.addClass)
be.bind(a)
t.on("remove",m)
e.set(h)
Xt(t)&&Zt(i)
$t(t,true)}}
var we=function(t,e){t.addCommand("mceFullScreen",(function(){ye(t,e)}))}
var xe=function(t,e){return function(n){n.setActive(null!==e.get())
var r=function(t){return n.setActive(t.state)}
t.on("FullscreenStateChanged",r)
return function(){return t.off("FullscreenStateChanged",r)}}}
var Ce=function(t,e){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:xe(t,e)})
t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:xe(t,e)})}
function Se(){e.add("fullscreen",(function(e){var r=t(null)
if(e.inline)return n(r)
we(e,r)
Ce(e,r)
e.addShortcut("Meta+Shift+F","","mceFullScreen")
return n(r)}))}Se()})()},Xg8j:function(t,e){(function(){"use strict"
var t=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var e=function(e){return function(n){return t(n)===e}}
var n=function(t){return function(e){return typeof e===t}}
var r=function(t){return function(e){return t===e}}
var o=e("string")
var a=e("object")
var i=e("array")
var u=n("boolean")
var c=r(void 0)
var s=function(t){return null===t||void 0===t}
var l=function(t){return!s(t)}
var v=n("function")
var f=n("number")
var d=function(){}
var m=function(t,e){return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
return t(e.apply(null,n))}}
var g=function(t,e){return function(n){return t(e(n))}}
var h=function(t){return function(){return t}}
var p=function(t){return t}
function b(t){var e=[]
for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n]
return function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o=e.concat(n)
return t.apply(null,o)}}var y=function(t){return function(e){return!t(e)}}
var w=function(t){return function(){throw new Error(t)}}
var x=h(false)
var C=h(true)
var S=function(){return O}
var O=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:x,isSome:x,isNone:C,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:h(null),getOrUndefined:h(void 0),or:n,orThunk:e,map:S,each:d,bind:S,exists:x,forall:C,filter:S,equals:t,equals_:t,toArray:function(){return[]},toString:h("none()")}
return r}()
var k=function(t){var e=h(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:C,isNone:x,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return k(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:O},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(x,(function(e){return n(t,e)}))}}
return o}
var T=function(t){return null===t||void 0===t?O:k(t)}
var _={some:k,none:S,from:T}
var z=Array.prototype.slice
var E=Array.prototype.indexOf
var M=Array.prototype.push
var D=function(t,e){return E.call(t,e)}
var A=function(t,e){return D(t,e)>-1}
var R=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return true}return false}
var H=function(t,e){var n=[]
for(var r=0;r<t;r++)n.push(e(r))
return n}
var B=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var I=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var L=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n]
e(r,n)}}
var P=function(t,e){var n=[]
var r=[]
for(var o=0,a=t.length;o<a;o++){var i=t[o]
var u=e(i,o)?n:r
u.push(i)}return{pass:n,fail:r}}
var N=function(t,e){var n=[]
for(var r=0,o=t.length;r<o;r++){var a=t[r]
e(a,r)&&n.push(a)}return n}
var V=function(t,e,n){L(t,(function(t){n=e(n,t)}))
return n}
var F=function(t,e,n){I(t,(function(t){n=e(n,t)}))
return n}
var j=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var a=t[r]
if(e(a,r))return _.some(a)
if(n(a,r))break}return _.none()}
var U=function(t,e){return j(t,e,x)}
var W=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
if(e(o,n))return _.some(n)}return _.none()}
var q=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
M.apply(e,t[n])}return e}
var G=function(t,e){return q(B(t,e))}
var $=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n]
if(true!==e(o,n))return false}return true}
var X=function(t){var e=z.call(t,0)
e.reverse()
return e}
var K=function(t,e){var n={}
for(var r=0,o=t.length;r<o;r++){var a=t[r]
n[String(a)]=e(a,r)}return n}
var Y=function(t){return[t]}
var J=function(t,e){var n=z.call(t,0)
n.sort(e)
return n}
var Z=function(t,e){return e>=0&&e<t.length?_.some(t[e]):_.none()}
var Q=function(t){return Z(t,0)}
var tt=function(t){return Z(t,t.length-1)}
var et=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return _.none()}
var nt=function(){nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return nt.apply(this,arguments)}
function rt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length
var r=Array(t),o=0
for(e=0;e<n;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)r[o]=a[i]
return r}var ot=function(t){var e=false
var n
return function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
if(!e){e=true
n=t.apply(null,r)}return n}}
var at=function(t,e,n,r){var o=t.isiOS()&&true===/ipad/i.test(n)
var a=t.isiOS()&&!o
var i=t.isiOS()||t.isAndroid()
var u=i||r("(pointer:coarse)")
var c=o||!a&&i&&r("(min-device-width:768px)")
var s=a||i&&!c
var l=e.isSafari()&&t.isiOS()&&false===/safari/i.test(n)
var v=!s&&!c&&!l
return{isiPad:h(o),isiPhone:h(a),isTablet:h(c),isPhone:h(s),isTouch:h(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:h(l),isDesktop:h(v)}}
var it=function(t,e){for(var n=0;n<t.length;n++){var r=t[n]
if(r.test(e))return r}return}
var ut=function(t,e){var n=it(t,e)
if(!n)return{major:0,minor:0}
var r=function(t){return Number(e.replace(n,"$"+t))}
return lt(r(1),r(2))}
var ct=function(t,e){var n=String(e).toLowerCase()
if(0===t.length)return st()
return ut(t,n)}
var st=function(){return lt(0,0)}
var lt=function(t,e){return{major:t,minor:e}}
var vt={nu:lt,detect:ct,unknown:st}
var ft=function(t,e){var n=String(e).toLowerCase()
return U(t,(function(t){return t.search(n)}))}
var dt=function(t,e){return ft(t,e).map((function(t){var n=vt.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var mt=function(t,e){return ft(t,e).map((function(t){var n=vt.detect(t.versionRegexes,e)
return{current:t.name,version:n}}))}
var gt={detectBrowser:dt,detectOs:mt}
var ht=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}
var pt=function(t,e){return-1!==t.indexOf(e)}
var bt=function(t,e){return ht(t,e,0)}
var yt=function(t,e){return ht(t,e,t.length-e.length)}
var wt=function(t){return function(e){return e.replace(t,"")}}
var xt=wt(/^\s+|\s+$/g)
var Ct=function(t){return t.length>0}
var St=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/
var Ot=function(t){return function(e){return pt(e,t)}}
var kt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return pt(t,"edge/")&&pt(t,"chrome")&&pt(t,"safari")&&pt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,St],search:function(t){return pt(t,"chrome")&&!pt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return pt(t,"msie")||pt(t,"trident")}},{name:"Opera",versionRegexes:[St,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ot("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ot("firefox")},{name:"Safari",versionRegexes:[St,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(pt(t,"safari")||pt(t,"mobile/"))&&pt(t,"applewebkit")}}]
var Tt=[{name:"Windows",search:Ot("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return pt(t,"iphone")||pt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ot("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ot("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ot("linux"),versionRegexes:[]},{name:"Solaris",search:Ot("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ot("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ot("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}]
var _t={browsers:h(kt),oses:h(Tt)}
var zt="Edge"
var Et="Chrome"
var Mt="IE"
var Dt="Opera"
var At="Firefox"
var Rt="Safari"
var Ht=function(){return Bt({current:void 0,version:vt.unknown()})}
var Bt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isEdge:r(zt),isChrome:r(Et),isIE:r(Mt),isOpera:r(Dt),isFirefox:r(At),isSafari:r(Rt)}}
var It={unknown:Ht,nu:Bt,edge:h(zt),chrome:h(Et),ie:h(Mt),opera:h(Dt),firefox:h(At),safari:h(Rt)}
var Lt="Windows"
var Pt="iOS"
var Nt="Android"
var Vt="Linux"
var Ft="OSX"
var jt="Solaris"
var Ut="FreeBSD"
var Wt="ChromeOS"
var qt=function(){return Gt({current:void 0,version:vt.unknown()})}
var Gt=function(t){var e=t.current
var n=t.version
var r=function(t){return function(){return e===t}}
return{current:e,version:n,isWindows:r(Lt),isiOS:r(Pt),isAndroid:r(Nt),isOSX:r(Ft),isLinux:r(Vt),isSolaris:r(jt),isFreeBSD:r(Ut),isChromeOS:r(Wt)}}
var $t={unknown:qt,nu:Gt,windows:h(Lt),ios:h(Pt),android:h(Nt),linux:h(Vt),osx:h(Ft),solaris:h(jt),freebsd:h(Ut),chromeos:h(Wt)}
var Xt=function(t,e){var n=_t.browsers()
var r=_t.oses()
var o=gt.detectBrowser(n,t).fold(It.unknown,It.nu)
var a=gt.detectOs(r,t).fold($t.unknown,$t.nu)
var i=at(a,o,t,e)
return{browser:o,os:a,deviceType:i}}
var Kt={detect:Xt}
var Yt=function(t){return window.matchMedia(t).matches}
var Jt=ot((function(){return Kt.detect(navigator.userAgent,Yt)}))
var Zt=function(){return Jt()}
var Qt=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)}
var te=function(t,e){return Qt(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)}
var ee=8
var ne=9
var re=11
var oe=1
var ae=3
var ie=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return se(r.childNodes[0])}
var ue=function(t,e){var n=e||document
var r=n.createElement(t)
return se(r)}
var ce=function(t,e){var n=e||document
var r=n.createTextNode(t)
return se(r)}
var se=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var le=function(t,e,n){return _.from(t.dom.elementFromPoint(e,n)).map(se)}
var ve={fromHtml:ie,fromTag:ue,fromText:ce,fromDom:se,fromPoint:le}
var fe=function(t,e){var n=t.dom
if(n.nodeType!==oe)return false
var r=n
if(void 0!==r.matches)return r.matches(e)
if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e)
if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e)
if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e)
throw new Error("Browser lacks native selectors")}
var de=function(t){return t.nodeType!==oe&&t.nodeType!==ne&&t.nodeType!==re||0===t.childElementCount}
var me=function(t,e){var n=void 0===e?document:e.dom
return de(n)?[]:B(n.querySelectorAll(t),ve.fromDom)}
var ge=function(t,e){var n=void 0===e?document:e.dom
return de(n)?_.none():_.from(n.querySelector(t)).map(ve.fromDom)}
var he=function(t,e){return t.dom===e.dom}
var pe=function(t,e){var n=t.dom
var r=e.dom
return n!==r&&n.contains(r)}
var be=function(t,e){return te(t.dom,e.dom)}
var ye=function(t,e){return Zt().browser.isIE()?be(t,e):pe(t,e)}
var we=fe
var xe=Object.keys
var Ce=Object.hasOwnProperty
var Se=function(t,e){var n=xe(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var Oe=function(t,e){return ke(t,(function(t,n){return{k:n,v:e(t,n)}}))}
var ke=function(t,e){var n={}
Se(t,(function(t,r){var o=e(t,r)
n[o.k]=o.v}))
return n}
var Te=function(t){return function(e,n){t[n]=e}}
var _e=function(t,e,n,r){var o={}
Se(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var ze=function(t,e){var n={}
_e(t,e,Te(n),d)
return n}
var Ee=function(t,e){var n=[]
Se(t,(function(t,r){n.push(e(t,r))}))
return n}
var Me=function(t){return Ee(t,(function(t){return t}))}
var De=function(t){return xe(t).length}
var Ae=function(t,e){return Re(t,e)?_.from(t[e]):_.none()}
var Re=function(t,e){return Ce.call(t,e)}
var He=function(t,e){return Re(t,e)&&void 0!==t[e]&&null!==t[e]}
var Be=function(t){for(var e in t)if(Ce.call(t,e))return false
return true}
var Ie=["tfoot","thead","tbody","colgroup"]
var Le=function(t){return A(Ie,t)}
var Pe=function(t,e){return{rows:t,columns:e}}
var Ne=function(t,e){return{row:t,column:e}}
var Ve=function(t,e,n){return{element:t,rowspan:e,colspan:n}}
var Fe=function(t,e,n,r){return{element:t,rowspan:e,colspan:n,isNew:r}}
var je=function(t,e,n,r,o,a){return{element:t,rowspan:e,colspan:n,row:r,column:o,isLocked:a}}
var Ue=function(t,e,n){return{element:t,cells:e,section:n}}
var We=function(t,e,n){return{element:t,isNew:e,isLocked:n}}
var qe=function(t,e,n,r){return{element:t,cells:e,section:n,isNew:r}}
var Ge=function(t,e){return{cells:t,section:e}}
var $e=function(t,e){return{details:t,section:e}}
var Xe=function(t,e,n,r){return{startRow:t,startCol:e,finishRow:n,finishCol:r}}
var Ke=function(t,e,n){return{element:t,colspan:e,column:n}}
"undefined"!==typeof window?window:Function("return this;")()
var Ye=function(t){var e=t.dom.nodeName
return e.toLowerCase()}
var Je=function(t){return t.dom.nodeType}
var Ze=function(t){return function(e){return Je(e)===t}}
var Qe=function(t){return Je(t)===ee||"#comment"===Ye(t)}
var tn=Ze(oe)
var en=Ze(ae)
var nn=Ze(ne)
var rn=Ze(re)
var on=function(t){return function(e){return tn(e)&&Ye(e)===t}}
var an=function(t){return ve.fromDom(t.dom.ownerDocument)}
var un=function(t){return nn(t)?t:an(t)}
var cn=function(t){return ve.fromDom(un(t).dom.defaultView)}
var sn=function(t){return _.from(t.dom.parentNode).map(ve.fromDom)}
var ln=function(t,e){var n=v(e)?e:x
var r=t.dom
var o=[]
while(null!==r.parentNode&&void 0!==r.parentNode){var a=r.parentNode
var i=ve.fromDom(a)
o.push(i)
if(true===n(i))break
r=a}return o}
var vn=function(t){return _.from(t.dom.offsetParent).map(ve.fromDom)}
var fn=function(t){return _.from(t.dom.previousSibling).map(ve.fromDom)}
var dn=function(t){return _.from(t.dom.nextSibling).map(ve.fromDom)}
var mn=function(t){return B(t.dom.childNodes,ve.fromDom)}
var gn=function(t,e){var n=t.dom.childNodes
return _.from(n[e]).map(ve.fromDom)}
var hn=function(t){return gn(t,0)}
var pn=function(t){return rn(t)&&l(t.dom.host)}
var bn=v(Element.prototype.attachShadow)&&v(Node.prototype.getRootNode)
var yn=h(bn)
var wn=bn?function(t){return ve.fromDom(t.dom.getRootNode())}:un
var xn=function(t){var e=wn(t)
return pn(e)?_.some(e):_.none()}
var Cn=function(t){return ve.fromDom(t.dom.host)}
var Sn=function(t){if(yn()&&l(t.target)){var e=ve.fromDom(t.target)
if(tn(e)&&On(e)&&t.composed&&t.composedPath){var n=t.composedPath()
if(n)return Q(n)}}return _.from(t.target)}
var On=function(t){return l(t.dom.shadowRoot)}
var kn=function(t){var e=en(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return xn(ve.fromDom(e)).fold((function(){return n.body.contains(e)}),g(kn,Cn))}
var Tn=function(){return _n(ve.fromDom(document))}
var _n=function(t){var e=t.dom.body
if(null===e||void 0===e)throw new Error("Body is not available yet")
return ve.fromDom(e)}
var zn=function(t,e,n){return N(ln(t,n),e)}
var En=function(t,e){return N(mn(t),e)}
var Mn=function(t,e){var n=[]
I(mn(t),(function(t){e(t)&&(n=n.concat([t]))
n=n.concat(Mn(t,e))}))
return n}
var Dn=function(t,e,n){return zn(t,(function(t){return fe(t,e)}),n)}
var An=function(t,e){return En(t,(function(t){return fe(t,e)}))}
var Rn=function(t,e){return me(e,t)}
function Hn(t,e,n,r,o){return t(n,r)?_.some(n):v(o)&&o(n)?_.none():e(n,r,o)}var Bn=function(t,e,n){var r=t.dom
var o=v(n)?n:x
while(r.parentNode){r=r.parentNode
var a=ve.fromDom(r)
if(e(a))return _.some(a)
if(o(a))break}return _.none()}
var In=function(t,e,n){var r=function(t,e){return e(t)}
return Hn(r,Bn,t,e,n)}
var Ln=function(t,e){var n=function(t){return e(ve.fromDom(t))}
var r=U(t.dom.childNodes,n)
return r.map(ve.fromDom)}
var Pn=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=ve.fromDom(t.childNodes[r])
if(e(o))return _.some(o)
var a=n(t.childNodes[r])
if(a.isSome())return a}return _.none()}
return n(t.dom)}
var Nn=function(t,e,n){return Bn(t,(function(t){return fe(t,e)}),n)}
var Vn=function(t,e){return Ln(t,(function(t){return fe(t,e)}))}
var Fn=function(t,e){return ge(e,t)}
var jn=function(t,e,n){var r=function(t,e){return fe(t,e)}
return Hn(r,Nn,t,e,n)}
var Un=function(t,e,n){if(!(o(n)||u(n)||f(n))){console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t)
throw new Error("Attribute value was not simple")}t.setAttribute(e,n+"")}
var Wn=function(t,e,n){Un(t.dom,e,n)}
var qn=function(t,e){var n=t.dom
Se(e,(function(t,e){Un(n,e,t)}))}
var Gn=function(t,e){var n=t.dom.getAttribute(e)
return null===n?void 0:n}
var $n=function(t,e){return _.from(Gn(t,e))}
var Xn=function(t,e){t.dom.removeAttribute(e)}
var Kn=function(t){return F(t.dom.attributes,(function(t,e){t[e.name]=e.value
return t}),{})}
var Yn=function(t){return void 0!==t.style&&v(t.style.getPropertyValue)}
var Jn=function(t,e,n){if(!o(n)){console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t)
throw new Error("CSS value must be a string: "+n)}Yn(t)&&t.style.setProperty(e,n)}
var Zn=function(t,e){Yn(t)&&t.style.removeProperty(e)}
var Qn=function(t,e,n){var r=t.dom
Jn(r,e,n)}
var tr=function(t,e){var n=t.dom
Se(e,(function(t,e){Jn(n,e,t)}))}
var er=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||kn(t)?o:nr(n,e)}
var nr=function(t,e){return Yn(t)?t.style.getPropertyValue(e):""}
var rr=function(t,e){var n=t.dom
var r=nr(n,e)
return _.from(r).filter((function(t){return t.length>0}))}
var or=function(t,e){var n=t.dom
Zn(n,e)
$n(t,"style").map(xt).is("")&&Xn(t,"style")}
var ar=function(t,e){var n=t.dom
var r=e.dom
Yn(n)&&Yn(r)&&(r.style.cssText=n.style.cssText)}
var ir=function(t,e,n){void 0===n&&(n=0)
return $n(t,e).map((function(t){return parseInt(t,10)})).getOr(n)}
var ur=function(t,e){return ir(t,e,1)}
var cr=function(t){return ur(t,"colspan")>1}
var sr=function(t){return ur(t,"rowspan")>1}
var lr=function(t,e){return parseInt(er(t,e),10)}
var vr=h(10)
var fr=h(10)
var dr=function(t,e){return mr(t,e,C)}
var mr=function(t,e,n){return G(mn(t),(function(t){return fe(t,e)?n(t)?[t]:[]:mr(t,e,n)}))}
var gr=function(t,e,n){void 0===n&&(n=x)
if(n(e))return _.none()
if(A(t,Ye(e)))return _.some(e)
var r=function(t){return fe(t,"table")||n(t)}
return Nn(e,t.join(","),r)}
var hr=function(t,e){return gr(["td","th"],t,e)}
var pr=function(t){return dr(t,"th,td")}
var br=function(t){return fe(t,"colgroup")?An(t,"col"):G(xr(t),(function(t){return An(t,"col")}))}
var yr=function(t,e){return jn(t,"table",e)}
var wr=function(t){return dr(t,"tr")}
var xr=function(t){return yr(t).fold(h([]),(function(t){return An(t,"colgroup")}))}
var Cr=function(t,e){return B(t,(function(t){if("colgroup"===Ye(t)){var n=B(br(t),(function(t){var e=ir(t,"span",1)
return Ve(t,1,e)}))
return Ue(t,n,"colgroup")}n=B(pr(t),(function(t){var e=ir(t,"rowspan",1)
var n=ir(t,"colspan",1)
return Ve(t,e,n)}))
return Ue(t,n,e(t))}))}
var Sr=function(t){return sn(t).map((function(t){var e=Ye(t)
return Le(e)?e:"tbody"})).getOr("tbody")}
var Or=function(t){var e=wr(t)
var n=xr(t)
var r=rt(n,e)
return Cr(r,Sr)}
var kr=function(t,e){return Cr(t,(function(){return e}))}
var Tr=function(t,e,n){var r=t.cells
var o=r.slice(0,e)
var a=r.slice(e)
var i=o.concat(n).concat(a)
return Er(t,i)}
var _r=function(t,e,n){return Tr(t,e,[n])}
var zr=function(t,e,n){var r=t.cells
r[e]=n}
var Er=function(t,e){return Ge(e,t.section)}
var Mr=function(t,e){var n=t.cells
var r=B(n,e)
return Ge(r,t.section)}
var Dr=function(t,e){return t.cells[e]}
var Ar=function(t,e){return Dr(t,e).element}
var Rr=function(t){return t.cells.length}
var Hr=function(t){var e=P(t,(function(t){return"colgroup"===t.section}))
return{rows:e.fail,cols:e.pass}}
var Br="data-snooker-locked-cols"
var Ir=function(t){return $n(t,Br).bind((function(t){return _.from(t.match(/\d+/g))})).map((function(t){return K(t,C)}))}
var Lr=function(t){var e=F(Hr(t).rows,(function(t,e){I(e.cells,(function(e,n){e.isLocked&&(t[n]=true)}))
return t}),{})
var n=Ee(e,(function(t,e){return parseInt(e,10)}))
return J(n)}
var Pr=function(t,e){return t+","+e}
var Nr=function(t,e,n){var r=t.access[Pr(e,n)]
return void 0!==r?_.some(r):_.none()}
var Vr=function(t,e,n){var r=Fr(t,(function(t){return n(e,t.element)}))
return r.length>0?_.some(r[0]):_.none()}
var Fr=function(t,e){var n=G(t.all,(function(t){return t.cells}))
return N(n,e)}
var jr=function(t){var e={}
var n=0
I(t.cells,(function(t){var r=t.colspan
H(r,(function(o){var a=n+o
e[a]=Ke(t.element,r,a)}))
n+=r}))
return e}
var Ur=function(t){var e={}
var n=[]
var r={}
var o=Q(t).map((function(t){return t.element})).bind(yr)
var a=o.bind(Ir).getOr({})
var i=0
var u=0
var c=0
I(t,(function(t){if("colgroup"===t.section)r=jr(t)
else{var o=[]
I(t.cells,(function(t){var n=0
while(void 0!==e[Pr(c,n)])n++
var r=He(a,n.toString())
var i=je(t.element,t.rowspan,t.colspan,c,n,r)
for(var s=0;s<t.colspan;s++)for(var l=0;l<t.rowspan;l++){var v=c+l
var f=n+s
var d=Pr(v,f)
e[d]=i
u=Math.max(u,f+1)}o.push(i)}))
i++
n.push(Ue(t.element,o,t.section))
c++}}))
var s=Pe(i,u)
return{grid:s,access:e,all:n,columns:r}}
var Wr=function(t){var e=Or(t)
return Ur(e)}
var qr=function(t){return G(t.all,(function(t){return t.cells}))}
var Gr=function(t){return Me(t.columns)}
var $r=function(t){return xe(t.columns).length>0}
var Xr=function(t,e){return _.from(t.columns[e])}
var Kr={fromTable:Wr,generate:Ur,getAt:Nr,findItem:Vr,filterItems:Fr,justCells:qr,justColumns:Gr,hasColumns:$r,getColumnAt:Xr}
var Yr=function(t,e){var n=e.column
var r=e.column+e.colspan-1
var o=e.row
var a=e.row+e.rowspan-1
return n<=t.finishCol&&r>=t.startCol&&o<=t.finishRow&&a>=t.startRow}
var Jr=function(t,e){return e.column>=t.startCol&&e.column+e.colspan-1<=t.finishCol&&e.row>=t.startRow&&e.row+e.rowspan-1<=t.finishRow}
var Zr=function(t,e){var n=true
var r=b(Jr,e)
for(var o=e.startRow;o<=e.finishRow;o++)for(var a=e.startCol;a<=e.finishCol;a++)n=n&&Kr.getAt(t,o,a).exists(r)
return n?_.some(e):_.none()}
var Qr=function(t,e){return Xe(Math.min(t.row,e.row),Math.min(t.column,e.column),Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),Math.max(t.column+t.colspan-1,e.column+e.colspan-1))}
var to=function(t,e,n){var r=Kr.findItem(t,e,he)
var o=Kr.findItem(t,n,he)
return r.bind((function(t){return o.map((function(e){return Qr(t,e)}))}))}
var eo=function(t,e,n){return to(t,e,n).bind((function(e){return Zr(t,e)}))}
var no=function(t,e,n,r){return Kr.findItem(t,e,he).bind((function(e){var o=n>0?e.row+e.rowspan-1:e.row
var a=r>0?e.column+e.colspan-1:e.column
var i=Kr.getAt(t,o+n,a+r)
return i.map((function(t){return t.element}))}))}
var ro=function(t,e,n){return to(t,e,n).map((function(e){var n=Kr.filterItems(t,b(Yr,e))
return B(n,(function(t){return t.element}))}))}
var oo=function(t,e){var n=function(t,e){return ye(e,t)}
return Kr.findItem(t,e,n).map((function(t){return t.element}))}
var ao=function(t,e,n){return yr(t).bind((function(r){var o=so(r)
return no(o,t,e,n)}))}
var io=function(t,e,n){var r=so(t)
return ro(r,e,n)}
var uo=function(t,e,n,r,o){var a=so(t)
var i=he(t,n)?_.some(e):oo(a,e)
var u=he(t,o)?_.some(r):oo(a,r)
return i.bind((function(t){return u.bind((function(e){return ro(a,t,e)}))}))}
var co=function(t,e,n){var r=so(t)
return eo(r,e,n)}
var so=Kr.fromTable
var lo=function(t,e){var n=sn(t)
n.each((function(n){n.dom.insertBefore(e.dom,t.dom)}))}
var vo=function(t,e){var n=dn(t)
n.fold((function(){var n=sn(t)
n.each((function(t){mo(t,e)}))}),(function(t){lo(t,e)}))}
var fo=function(t,e){var n=hn(t)
n.fold((function(){mo(t,e)}),(function(n){t.dom.insertBefore(e.dom,n.dom)}))}
var mo=function(t,e){t.dom.appendChild(e.dom)}
var go=function(t,e){lo(t,e)
mo(e,t)}
var ho=function(t,e){I(e,(function(e){lo(t,e)}))}
var po=function(t,e){I(e,(function(n,r){var o=0===r?t:e[r-1]
vo(o,n)}))}
var bo=function(t,e){I(e,(function(e){mo(t,e)}))}
var yo=function(t){t.dom.textContent=""
I(mn(t),(function(t){wo(t)}))}
var wo=function(t){var e=t.dom
null!==e.parentNode&&e.parentNode.removeChild(e)}
var xo=function(t){var e=mn(t)
e.length>0&&ho(t,e)
wo(t)}
var Co=function(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node")
return r(n).getOr("")}
var r=function(e){return t(e)?_.from(e.dom.nodeValue):_.none()}
var o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node")
n.dom.nodeValue=r}
return{get:n,getOption:r,set:o}}
var So=Co(en,"text")
var Oo=function(t){return So.get(t)}
var ko=function(t){return So.getOption(t)}
var To=function(t,e){return So.set(t,e)}
var _o=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
function zo(){var t=function(t){return ve.fromDom(t.dom.cloneNode(false))}
var e=function(t){return un(t).dom}
var n=function(t){if(!tn(t))return false
if("body"===Ye(t))return true
return A(_o,Ye(t))}
var r=function(t){if(!tn(t))return false
return A(["br","img","hr","input"],Ye(t))}
var o=function(t){return tn(t)&&"false"===Gn(t,"contenteditable")}
var a=function(t,e){return t.dom.compareDocumentPosition(e.dom)}
var i=function(t,e){var n=Kn(t)
qn(e,n)}
var u=function(t){var e=Ye(t)
return A(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)}
return{up:h({selector:Nn,closest:jn,predicate:Bn,all:ln}),down:h({selector:Rn,predicate:Mn}),styles:h({get:er,getRaw:rr,set:Qn,remove:or}),attrs:h({get:Gn,set:Wn,remove:Xn,copyTo:i}),insert:h({before:lo,after:vo,afterAll:po,append:mo,appendAll:bo,prepend:fo,wrap:go}),remove:h({unwrap:xo,remove:wo}),create:h({nu:ve.fromTag,clone:t,text:ve.fromText}),query:h({comparePosition:a,prevSibling:fn,nextSibling:dn}),property:h({children:mn,name:Ye,parent:sn,document:e,isText:en,isComment:Qe,isElement:tn,isSpecial:u,getText:Oo,setText:To,isBoundary:n,isEmptyTag:r,isNonEditable:o}),eq:he,is:we}}var Eo=function(t,e,n,r){var o=n[0]
var a=n.slice(1)
return r(t,e,o,a)}
var Mo=function(t,e,n){return n.length>0?Eo(t,e,n,Do):_.none()}
var Do=function(t,e,n,r){var o=e(t,n)
return V(r,(function(n,r){var o=e(t,r)
return Ao(t,n,o)}),o)}
var Ao=function(t,e,n){return e.bind((function(e){return n.filter(b(t.eq,e))}))}
var Ro=function(t,e){return b(t.eq,e)}
var Ho=function(t,e,n,r){void 0===r&&(r=x)
var o=[e].concat(t.up().all(e))
var a=[n].concat(t.up().all(n))
var i=function(t){var e=W(t,r)
return e.fold((function(){return t}),(function(e){return t.slice(0,e+1)}))}
var u=i(o)
var c=i(a)
var s=U(u,(function(e){return R(c,Ro(t,e))}))
return{firstpath:u,secondpath:c,shared:s}}
var Bo=Mo
var Io=Ho
var Lo=zo()
var Po=function(t,e){return Bo(Lo,(function(e,n){return t(n)}),e)}
var No=function(t,e,n){return Io(Lo,t,e,n)}
var Vo=function(t){return Nn(t,"table")}
var Fo=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||he(e,t)}}
return he(t,e)?_.some({boxes:_.some([t]),start:t,finish:e}):Vo(t).bind((function(o){return Vo(e).bind((function(a){if(he(o,a))return _.some({boxes:io(o,t,e),start:t,finish:e})
if(ye(o,a)){var i=Dn(e,"td,th",r(o))
var u=i.length>0?i[i.length-1]:e
return _.some({boxes:uo(o,t,o,e,a),start:t,finish:u})}if(ye(a,o)){i=Dn(t,"td,th",r(a))
var c=i.length>0?i[i.length-1]:t
return _.some({boxes:uo(a,t,o,e,a),start:t,finish:c})}return No(t,e).shared.bind((function(i){return jn(i,"table",n).bind((function(n){var i=Dn(e,"td,th",r(n))
var u=i.length>0?i[i.length-1]:e
var c=Dn(t,"td,th",r(n))
var s=c.length>0?c[c.length-1]:t
return _.some({boxes:uo(n,t,o,e,a),start:s,finish:u})}))}))}))}))}
var jo=function(t,e){var n=Rn(t,e)
return n.length>0?_.some(n):_.none()}
var Uo=function(t,e){return U(t,(function(t){return fe(t,e)}))}
var Wo=function(t,e,n){return Fn(t,e).bind((function(e){return Fn(t,n).bind((function(t){return Po(Vo,[e,t]).map((function(n){return{first:e,last:t,table:n}}))}))}))}
var qo=function(t,e){return Nn(t,"table").bind((function(n){return Fn(n,e).bind((function(e){return Fo(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))}
var Go=function(t,e,n,r,o){return Uo(t,o).bind((function(t){return ao(t,e,n).bind((function(t){return qo(t,r)}))}))}
var $o=function(t,e){return jo(t,e)}
var Xo=function(t,e,n){return Wo(t,e,n).bind((function(e){var n=function(e){return he(t,e)}
var r="thead,tfoot,tbody,table"
var o=Nn(e.first,r,n)
var a=Nn(e.last,r,n)
return o.bind((function(t){return a.bind((function(n){return he(t,n)?co(e.table,e.first,e.last):_.none()}))}))}))}
var Ko=function(t){if(!i(t))throw new Error("cases must be an array")
if(0===t.length)throw new Error("there must be at least one case")
var e=[]
var n={}
I(t,(function(r,o){var a=xe(r)
if(1!==a.length)throw new Error("one and only one name per case")
var u=a[0]
var c=r[u]
if(void 0!==n[u])throw new Error("duplicate key detected:"+u)
if("cata"===u)throw new Error("cannot have a case named cata (sorry)")
if(!i(c))throw new Error("case arguments must be an array")
e.push(u)
n[u]=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var a=n.length
if(a!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+a)
var i=function(t){var r=xe(t)
if(e.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+r.join(","))
var o=$(e,(function(t){return A(r,t)}))
if(!o)throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+e.join(", "))
return t[u].apply(null,n)}
return{fold:function(){var e=[]
for(var r=0;r<arguments.length;r++)e[r]=arguments[r]
if(e.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+e.length)
var a=e[o]
return a.apply(null,n)},match:i,log:function(t){console.log(t,{constructors:e,constructor:u,params:n})}}}}))
return n}
var Yo={generate:Ko}
var Jo=Yo.generate([{none:[]},{multiple:["elements"]},{single:["element"]}])
var Zo=function(t,e,n,r){return t.fold(e,n,r)}
var Qo=Jo.none
var ta=Jo.multiple
var ea=Jo.single
var na=function(t,e,n){var r=function(){return $o(t(),n).fold((function(){return e().map(ea).getOrThunk(Qo)}),(function(t){return ta(t)}))}
return{get:r}}
var ra=tinymce.util.Tools.resolve("tinymce.PluginManager")
var oa=function(t,e){return ve.fromDom(t.dom.cloneNode(e))}
var aa=function(t){return oa(t,false)}
var ia=function(t){return oa(t,true)}
var ua=function(t,e){var n=ve.fromTag(e)
var r=Kn(t)
qn(n,r)
return n}
var ca=function(t,e){var n=ua(t,e)
var r=mn(ia(t))
bo(n,r)
return n}
var sa=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var la=function(t,e,n){return t.isSome()&&e.isSome()?_.some(n(t.getOrDie(),e.getOrDie())):_.none()}
var va=function(t,e){return void 0!==t&&null!==t?e(t):_.none()}
var fa=function(t,e){return t?_.some(e):_.none()}
var da=function(t,e){var n=function(e,n){if(!f(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n)
var r=e.dom
Yn(r)&&(r.style[t]=n+"px")}
var r=function(n){var r=e(n)
if(r<=0||null===r){var o=er(n,t)
return parseFloat(o)||0}return r}
var o=r
var a=function(t,e){return F(e,(function(e,n){var r=er(t,n)
var o=void 0===r?0:parseInt(r,10)
return isNaN(o)?e:e+o}),0)}
var i=function(t,e,n){var r=a(t,n)
var o=e>r?e-r:0
return o}
return{set:n,get:r,getOuter:o,aggregate:a,max:i}}
var ma=da("width",(function(t){return t.dom.offsetWidth}))
var ga=function(t){return ma.get(t)}
var ha=function(t){return ma.getOuter(t)}
var pa=function(t,e){void 0===e&&(e=C)
var n=t.grid
var r=H(n.columns,p)
var o=H(n.rows,p)
return B(r,(function(n){var r=function(){return G(o,(function(e){return Kr.getAt(t,e,n).filter((function(t){return t.column===n})).toArray()}))}
var a=function(t){return 1===t.colspan&&e(t.element)}
var i=function(){return Kr.getAt(t,0,n)}
return ba(r,a,i)}))}
var ba=function(t,e,n){var r=t()
var o=U(r,e)
var a=o.orThunk((function(){return _.from(r[0]).orThunk(n)}))
return a.map((function(t){return t.element}))}
var ya=function(t){var e=t.grid
var n=H(e.rows,p)
var r=H(e.columns,p)
return B(n,(function(e){var n=function(){return G(r,(function(n){return Kr.getAt(t,e,n).filter((function(t){return t.row===e})).fold(h([]),(function(t){return[t]}))}))}
var o=function(t){return 1===t.rowspan}
var a=function(){return Kr.getAt(t,e,0)}
return ba(n,o,a)}))}
var wa=function(t,e){if(e<0||e>=t.length-1)return _.none()
var n=t[e].fold((function(){var n=X(t.slice(0,e))
return et(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return _.some({value:t,delta:0})}))
var r=t[e+1].fold((function(){var n=t.slice(e+1)
return et(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return _.some({value:t,delta:1})}))
return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta
return Math.abs(e.value-t.value)/n}))}))}
var xa=function(t,e){return function(n){return"rtl"===Ca(n)?e:t}}
var Ca=function(t){return"rtl"===er(t,"direction")?"rtl":"ltr"}
var Sa=da("height",(function(t){var e=t.dom
return kn(t)?e.getBoundingClientRect().height:e.offsetHeight}))
var Oa=function(t){return Sa.get(t)}
var ka=function(t){return Sa.getOuter(t)}
var Ta=function(t,e){var n=function(n,r){return Ta(t+n,e+r)}
return{left:t,top:e,translate:n}}
var _a=Ta
var za=function(t){var e=t.getBoundingClientRect()
return _a(e.left,e.top)}
var Ea=function(t,e){return void 0!==t?t:void 0!==e?e:0}
var Ma=function(t){var e=t.dom.ownerDocument
var n=e.body
var r=e.defaultView
var o=e.documentElement
if(n===t.dom)return _a(n.offsetLeft,n.offsetTop)
var a=Ea(null===r||void 0===r?void 0:r.pageYOffset,o.scrollTop)
var i=Ea(null===r||void 0===r?void 0:r.pageXOffset,o.scrollLeft)
var u=Ea(o.clientTop,n.clientTop)
var c=Ea(o.clientLeft,n.clientLeft)
return Da(t).translate(i-c,a-u)}
var Da=function(t){var e=t.dom
var n=e.ownerDocument
var r=n.body
if(r===e)return _a(r.offsetLeft,r.offsetTop)
if(!kn(t))return _a(0,0)
return za(e)}
var Aa=function(t,e){return{row:t,y:e}}
var Ra=function(t,e){return{col:t,x:e}}
var Ha=function(t){var e=Ma(t)
return e.left+ha(t)}
var Ba=function(t){return Ma(t).left}
var Ia=function(t,e){return Ra(t,Ba(e))}
var La=function(t,e){return Ra(t,Ha(e))}
var Pa=function(t){return Ma(t).top}
var Na=function(t,e){return Aa(t,Pa(e))}
var Va=function(t,e){return Aa(t,Pa(e)+ka(e))}
var Fa=function(t,e,n){if(0===n.length)return[]
var r=B(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))}))
var o=n[n.length-1].map((function(t){return e(n.length-1,t)}))
return r.concat([o])}
var ja=function(t){return-t}
var Ua={delta:p,positions:function(t){return Fa(Na,Va,t)},edge:Pa}
var Wa={delta:p,edge:Ba,positions:function(t){return Fa(Ia,La,t)}}
var qa={delta:ja,edge:Ha,positions:function(t){return Fa(La,Ia,t)}}
var Ga=xa(Wa,qa)
var $a={delta:function(t,e){return Ga(e).delta(t,e)},positions:function(t,e){return Ga(e).positions(t,e)},edge:function(t){return Ga(t).edge(t)}}
var Xa={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]}
var Ka=(Ya="[0-9]+",Ja="[+-]?"+Ya,Za="[eE]"+Ja,Qa="\\.",ti=function(t){return"(?:"+t+")?"},ei=["Infinity",Ya+Qa+ti(Ya)+ti(Za),Qa+Ya+ti(Za),Ya+ti(Za)].join("|"),ni="[+-]?(?:"+ei+")",new RegExp("^("+ni+")(.*)$"))
var Ya,Ja,Za,Qa,ti,ei,ni
var ri=function(t,e){return R(e,(function(e){return R(Xa[e],(function(e){return t===e}))}))}
var oi=function(t,e){var n=_.from(Ka.exec(t))
return n.bind((function(t){var n=Number(t[1])
var r=t[2]
return ri(r,e)?_.some({value:n,unit:r}):_.none()}))}
var ai=function(){var t=Zt().browser
return t.isIE()||t.isEdge()}
var ii=function(t,e){var n=parseFloat(t)
return isNaN(n)?e:n}
var ui=function(t,e,n){return ii(er(t,e),n)}
var ci=function(t){var e=t.dom.getBoundingClientRect().height
var n=er(t,"box-sizing")
if("border-box"===n)return e
var r=ui(t,"padding-top",0)
var o=ui(t,"padding-bottom",0)
var a=ui(t,"border-top-width",0)
var i=ui(t,"border-bottom-width",0)
var u=a+i
return e-r-o-u}
var si=function(t){var e=t.dom.getBoundingClientRect().width
var n=er(t,"box-sizing")
if("border-box"===n)return e
var r=ui(t,"padding-left",0)
var o=ui(t,"padding-right",0)
var a=ui(t,"border-left-width",0)
var i=ui(t,"border-right-width",0)
var u=a+i
return e-r-o-u}
var li=function(t){return ai()?ci(t):ui(t,"height",Oa(t))}
var vi=function(t){return ai()?si(t):ui(t,"width",ga(t))}
var fi=/(\d+(\.\d+)?)%/
var di=/(\d+(\.\d+)?)px|em/
var mi=function(t,e){var n=vn(t).getOr(_n(an(t)))
return e(t)/e(n)*100}
var gi=function(t,e){Qn(t,"width",e+"px")}
var hi=function(t,e){Qn(t,"width",e+"%")}
var pi=function(t,e){Qn(t,"height",e+"px")}
var bi=function(t){return rr(t,"height").getOrThunk((function(){return li(t)+"px"}))}
var yi=function(t,e,n,r){var o=yr(t).map((function(t){var r=n(t)
return Math.floor(e/100*r)})).getOr(e)
r(t,o)
return o}
var wi=function(t,e,n,r){var o=parseInt(t,10)
return yt(t,"%")&&"table"!==Ye(e)?yi(e,o,n,r):o}
var xi=function(t){var e=bi(t)
if(!e)return Oa(t)
return wi(e,t,Oa,pi)}
var Ci=function(t,e,n){var r=n(t)
var o=ur(t,e)
return r/o}
var Si=function(t){var e=rr(t,"width")
return e.fold((function(){return _.from(Gn(t,"width"))}),(function(t){return _.some(t)}))}
var Oi=function(t,e){return t/e.pixelWidth()*100}
var ki=function(t,e,n){var r=fi.exec(e)
if(null!==r)return parseFloat(r[1])
var o=vi(t)
return Oi(o,n)}
var Ti=function(t,e){var n=Si(t)
return n.fold((function(){var n=ga(t)
return Oi(n,e)}),(function(n){return ki(t,n,e)}))}
var _i=function(t,e){return t/100*e.pixelWidth()}
var zi=function(t,e,n){var r=di.exec(e)
if(null!==r)return parseInt(r[1],10)
var o=fi.exec(e)
if(null!==o){var a=parseFloat(o[1])
return _i(a,n)}return vi(t)}
var Ei=function(t,e){var n=Si(t)
return n.fold((function(){return vi(t)}),(function(n){return zi(t,n,e)}))}
var Mi=function(t){return Ci(t,"rowspan",xi)}
var Di=function(t){var e=Si(t)
return e.bind((function(t){return oi(t,["fixed","relative","empty"])}))}
var Ai=function(t,e,n){Qn(t,"width",e+n)}
var Ri=function(t){return ga(t)+"px"}
var Hi=function(t){return mi(t,ga)+"%"}
var Bi=function(t){return Si(t).exists((function(t){return fi.test(t)}))}
var Ii=function(t){return Si(t).exists((function(t){return di.test(t)}))}
var Li=function(t){return Si(t).isNone()}
var Pi=h(fi)
var Ni=h(di)
var Vi=on("col")
var Fi=function(t,e,n){return rr(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))}
var ji=function(t,e){var n=function(t){return Vi(t)?ga(t):Ei(t,e)}
return Fi(t,"width",n)}
var Ui=function(t){return Fi(t,"height",Mi)}
var Wi=function(t){return B(Kr.justColumns(t),(function(t){return _.from(t.element)}))}
var qi=function(t,e){return rr(t,e).isSome()}
var Gi=function(t){return!Vi(t)||qi(t,"width")}
var $i=function(t,e,n,r,o,a){return t.filter(r).fold((function(){return a(wa(n,e))}),(function(t){return o(t)}))}
var Xi=function(t,e,n,r,o){var a=pa(t,(function(t){return qi(t,"width")}))
var i=Kr.hasColumns(t)?Wi(t):a
var u=[_.some($a.edge(e))].concat(B($a.positions(a,e),(function(t){return t.map((function(t){return t.x}))})))
var c=y(cr)
return B(i,(function(t,e){return $i(t,e,u,c,(function(t){if(Gi(t))return n(t,o)
var i=va(a[e],p)
return $i(i,e,u,c,(function(t){return r(_.some(ga(t)))}),r)}),r)}))}
var Ki=function(t){return t.map((function(t){return t+"px"})).getOr("")}
var Yi=function(t,e,n){return Xi(t,e,ji,Ki,n)}
var Ji=function(t,e,n){return Xi(t,e,Ti,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)}
var Zi=function(t,e,n){return Xi(t,e,Ei,(function(t){return t.getOrThunk(n.minCellWidth)}),n)}
var Qi=function(t,e,n,r,o){var a=ya(t)
var i=[_.some(n.edge(e))].concat(B(n.positions(a,e),(function(t){return t.map((function(t){return t.y}))})))
return B(a,(function(t,e){return $i(t,e,i,y(sr),r,o)}))}
var tu=function(t,e,n){return Qi(t,e,n,Mi,(function(t){return t.getOrThunk(fr)}))}
var eu=function(t,e,n){return Qi(t,e,n,Ui,Ki)}
var nu=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var ru=function(t){var e=function(){return ga(t)}
var n=h(0)
var r=function(e,n){return Zi(e,t,n)}
return{width:e,pixelWidth:e,getWidths:r,getCellDelta:n,singleColumnWidth:h([0]),minCellWidth:n,setElementWidth:d,adjustTableWidth:d,isRelative:true,label:"none"}}
var ou=function(t,e){var n=nu(parseFloat(t))
var r=nu(ga(e))
var o=function(t){return t/r.get()*100}
var a=function(t,e){return[100-t]}
var i=function(){return vr()/r.get()*100}
var u=function(t){var o=n.get()
var a=t/100*o
var i=o+a
hi(e,i)
n.set(i)
r.set(ga(e))}
var c=function(t,n){return Ji(t,e,n)}
return{width:n.get,pixelWidth:r.get,getWidths:c,getCellDelta:o,singleColumnWidth:a,minCellWidth:i,setElementWidth:hi,adjustTableWidth:u,isRelative:true,label:"percent"}}
var au=function(t,e){var n=nu(t)
var r=n.get
var o=p
var a=function(t,e){var n=Math.max(vr(),t+e)
return[n-t]}
var i=function(t){var o=r()+t
gi(e,o)
n.set(o)}
var u=function(t,n){return Zi(t,e,n)}
return{width:r,pixelWidth:r,getWidths:u,getCellDelta:o,singleColumnWidth:a,minCellWidth:vr,setElementWidth:gi,adjustTableWidth:i,isRelative:false,label:"pixel"}}
var iu=function(t,e){var n=Pi().exec(e)
if(null!==n)return ou(n[1],t)
var r=Ni().exec(e)
if(null!==r){var o=parseInt(r[1],10)
return au(o,t)}var a=ga(t)
return au(a,t)}
var uu=function(t){var e=Si(t)
return e.fold((function(){return ru(t)}),(function(e){return iu(t,e)}))}
var cu={getTableSize:uu,pixelSize:au,percentageSize:ou,noneSize:ru}
var su=function(t,e,n,r,o,a){return{minRow:t,minCol:e,maxRow:n,maxCol:r,allCells:o,selectedCells:a}}
var lu=function(t,e){var n=t.grid.columns
var r=t.grid.rows
var o=r
var a=n
var i=0
var u=0
var c=[]
var s=[]
Se(t.access,(function(t){c.push(t)
if(e(t)){s.push(t)
var n=t.row
var r=n+t.rowspan-1
var l=t.column
var v=l+t.colspan-1
n<o?o=n:r>i&&(i=r)
l<a?a=l:v>u&&(u=v)}}))
return su(o,a,i,u,c,s)}
var vu=function(t,e,n){var r=t[n].element
var o=ve.fromTag("td")
mo(o,ve.fromTag("br"))
var a=e?mo:fo
a(r,o)}
var fu=function(t,e,n,r){var o=e.grid.columns
var a=e.grid.rows
for(var i=0;i<a;i++){var u=false
for(var c=0;c<o;c++)if(!(i<n.minRow||i>n.maxRow||c<n.minCol||c>n.maxCol)){var s=Kr.getAt(e,i,c).filter(r).isNone()
s?vu(t,u,i):u=true}}}
var du=function(t,e,n,r){Se(n.columns,(function(t){(t.column<e.minCol||t.column>e.maxCol)&&wo(t.element)}))
var o=N(dr(t,"tr"),(function(t){return 0===t.dom.childElementCount}))
I(o,wo)
e.minCol!==e.maxCol&&e.minRow!==e.maxRow||I(dr(t,"th,td"),(function(t){Xn(t,"rowspan")
Xn(t,"colspan")}))
Xn(t,Br)
Xn(t,"data-snooker-col-series")
var a=cu.getTableSize(t)
a.adjustTableWidth(r)}
var mu=function(t,e,n,r){if(0===r.minCol&&e.grid.columns===r.maxCol+1)return 0
var o=Zi(e,t,n)
var a=F(o,(function(t,e){return t+e}),0)
var i=F(o.slice(r.minCol,r.maxCol+1),(function(t,e){return t+e}),0)
var u=i/a*n.pixelWidth()
var c=u-n.pixelWidth()
return n.getCellDelta(c)}
var gu=function(t,e){var n=function(t){return fe(t.element,e)}
var r=ia(t)
var o=Or(r)
var a=cu.getTableSize(t)
var i=Kr.generate(o)
var u=lu(i,n)
var c="th:not("+e+"),td:not("+e+")"
var s=mr(r,"th,td",(function(t){return fe(t,c)}))
I(s,wo)
fu(o,i,u,n)
var l=Kr.fromTable(t)
var v=mu(t,l,a,u)
du(r,u,i,v)
return r}
var hu=""
var pu=function(t){return"img"===Ye(t)?1:ko(t).fold((function(){return mn(t).length}),(function(t){return t.length}))}
var bu=function(t){return ko(t).filter((function(t){return 0!==t.trim().length||t.indexOf(hu)>-1})).isSome()}
var yu=["img","br"]
var wu=function(t){var e=bu(t)
return e||A(yu,Ye(t))}
var xu=function(t){return Pn(t,wu)}
var Cu=function(t){return Su(t,wu)}
var Su=function(t,e){var n=function(t){var r=mn(t)
for(var o=r.length-1;o>=0;o--){var a=r[o]
if(e(a))return _.some(a)
var i=n(a)
if(i.isSome())return i}return _.none()}
return n(t)}
var Ou={scope:["row","col"]}
var ku=function(){var t=ve.fromTag("td")
mo(t,ve.fromTag("br"))
return t}
var Tu=function(){return ve.fromTag("col")}
var _u=function(){return ve.fromTag("colgroup")}
var zu=function(t,e,n){var r=ca(t,e)
Se(n,(function(t,e){null===t?Xn(r,e):Wn(r,e,t)}))
return r}
var Eu=function(t){return t}
var Mu=function(t){return function(){return ve.fromTag("tr",t.dom)}}
var Du=function(t,e,n){var r=xu(t)
return r.map((function(r){var o=n.join(",")
var a=Dn(r,o,(function(e){return he(e,t)}))
return V(a,(function(t,e){var n=aa(e)
Xn(n,"contenteditable")
mo(t,n)
return n}),e)})).getOr(e)}
var Au=function(t,e){Se(Ou,(function(n,r){return $n(t,r).filter((function(t){return A(n,t)})).each((function(t){return Wn(e,r,t)}))}))}
var Ru=function(t,e,n){var r=function(t,e){ar(t.element,e)
or(e,"height")
1!==t.colspan&&or(e,"width")}
var o=function(e){var o=an(e.element)
var a=ve.fromTag(Ye(e.element),o.dom)
var i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"])
var u=i.length>0?Du(e.element,a,i):a
mo(u,ve.fromTag("br"))
r(e,a)
Au(e.element,a)
t(e.element,a)
return a}
var a=function(e){var n=an(e.element)
var o=ve.fromTag(Ye(e.element),n.dom)
r(e,o)
t(e.element,o)
return o}
return{col:a,colgroup:_u,row:Mu(e),cell:o,replace:zu,gap:ku}}
var Hu=function(t){return{col:Tu,colgroup:_u,row:Mu(t),cell:ku,replace:Eu,gap:ku}}
var Bu=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
return mn(ve.fromDom(r))}
var Iu=function(t){return B(t,ve.fromDom)}
var Lu=function(t){return t.nodeName.toLowerCase()}
var Pu=function(t){return ve.fromDom(t.getBody())}
var Nu=function(t){return t.getBoundingClientRect().width}
var Vu=function(t){return t.getBoundingClientRect().height}
var Fu=function(t){return function(e){return he(e,Pu(t))}}
var ju=function(t){return t?t.replace(/px$/,""):""}
var Uu=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t}
var Wu=function(t){Xn(t,"data-mce-style")
var e=function(t){return Xn(t,"data-mce-style")}
I(pr(t),e)
I(br(t),e)}
var qu=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width")
return _.from(n).filter(Ct)}
var Gu=function(t){return/^(\d+(\.\d+)?)%$/.test(t)}
var $u=function(t){return/^(\d+(\.\d+)?)px$/.test(t)}
var Xu=function(t){return ve.fromDom(t.selection.getStart())}
var Ku=function(t){return Zo(t.get(),h([]),p,Y)}
var Yu=function(t){var e=function(t,e){return $n(t,e).exists((function(t){return parseInt(t,10)>1}))}
var n=function(t){return e(t,"rowspan")||e(t,"colspan")}
var r=Ku(t)
return r.length>0&&$(r,n)?_.some(r):_.none()}
var Ju=function(t,e,n){return Zo(e.get(),_.none,(function(e){return e.length<=1?_.none():Xo(t,n.firstSelectedSelector,n.lastSelectedSelector).map((function(t){return{bounds:t,cells:e}}))}),_.none)}
var Zu="data-mce-selected"
var Qu="td["+Zu+"],th["+Zu+"]"
var tc="["+Zu+"]"
var ec="data-mce-first-selected"
var nc="td["+ec+"],th["+ec+"]"
var rc="data-mce-last-selected"
var oc="td["+rc+"],th["+rc+"]"
var ac=tc
var ic={selected:Zu,selectedSelector:Qu,firstSelected:ec,firstSelectedSelector:nc,lastSelected:rc,lastSelectedSelector:oc}
var uc=function(t){return{element:t,mergable:_.none(),unmergable:_.none(),selection:[t]}}
var cc=function(t,e,n){return{element:n,mergable:Ju(e,t,ic),unmergable:Yu(t),selection:Ku(t)}}
var sc=function(t,e,n){return{element:t,clipboard:e,generators:n}}
var lc=function(t,e,n,r){return{selection:Ku(t),clipboard:n,generators:r}}
var vc=function(t){return yr(t[0]).map((function(t){var e=gu(t,ac)
Wu(e)
return[e]}))}
var fc=function(t,e){return B(e,(function(e){return t.selection.serializer.serialize(e.dom,{})})).join("")}
var dc=function(t){return B(t,(function(t){return t.dom.innerText})).join("")}
var mc=function(t,e,n,r){t.on("BeforeGetContent",(function(n){var r=function(e){n.preventDefault()
vc(e).each((function(e){n.content="text"===n.format?dc(e):fc(t,e)}))}
true===n.selection&&Zo(e.get(),d,r,d)}))
t.on("BeforeSetContent",(function(e){if(true===e.selection&&true===e.paste){var o=_.from(t.dom.getParent(t.selection.getStart(),"th,td"))
o.each((function(o){var a=ve.fromDom(o)
yr(a).each((function(o){var i=N(Bu(e.content),(function(t){return"meta"!==Ye(t)}))
var u=function(t){return"table"===Ye(t)}
if(1===i.length&&u(i[0])){e.preventDefault()
var c=ve.fromDom(t.getDoc())
var s=Hu(c)
var l=sc(a,i[0],s)
n.pasteCells(o,l).each((function(e){t.selection.setRng(e.rng)
t.focus()
r.clear(o)}))}}))}))}}))}
var gc=Yo.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])
var hc=nt({},gc)
var pc=function(t,e){if(0===t.length)return hc.none()
if(1===t.length)return hc.only(0)
if(0===e)return hc.left(0,1)
if(e===t.length-1)return hc.right(e-1,e)
if(e>0&&e<t.length-1)return hc.middle(e-1,e,e+1)
return hc.none()}
var bc=function(t,e,n,r,o){var a=t.slice(0)
var i=pc(t,e)
var u=h(B(a,h(0)))
var c=function(t){return r.singleColumnWidth(a[t],n)}
var s=function(t,e){return o.calcLeftEdgeDeltas(a,t,e,n,r.minCellWidth(),r.isRelative)}
var l=function(t,e,i){return o.calcMiddleDeltas(a,t,e,i,n,r.minCellWidth(),r.isRelative)}
var v=function(t,e){return o.calcRightEdgeDeltas(a,t,e,n,r.minCellWidth(),r.isRelative)}
return i.fold(u,c,s,l,v)}
var yc=function(t,e,n){var r=0
for(var o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0
return r}
var wc=function(t,e){var n=Kr.justCells(t)
return B(n,(function(t){var n=yc(t.column,t.column+t.colspan,e)
return{element:t.element,width:n,colspan:t.colspan}}))}
var xc=function(t,e){var n=Kr.justColumns(t)
return B(n,(function(t,n){return{element:t.element,width:e[n],colspan:t.colspan}}))}
var Cc=function(t,e){var n=Kr.justCells(t)
return B(n,(function(t){var n=yc(t.row,t.row+t.rowspan,e)
return{element:t.element,height:n,rowspan:t.rowspan}}))}
var Sc=function(t,e){return B(t.all,(function(t,n){return{element:t.element,height:e[n]}}))}
var Oc=function(t){return V(t,(function(t,e){return t+e}),0)}
var kc=function(t,e){return Kr.hasColumns(t)?xc(t,e):wc(t,e)}
var Tc=function(t,e,n){var r=kc(t,e)
I(r,(function(t){n.setElementWidth(t.element,t.width)}))}
var _c=function(t,e,n,r,o){var a=Kr.fromTable(t)
var i=o.getCellDelta(e)
var u=o.getWidths(a,o)
var c=n===a.grid.columns-1
var s=r.clampTableDelta(u,n,i,o.minCellWidth(),c)
var l=bc(u,n,s,o,r)
var v=B(l,(function(t,e){return t+u[e]}))
Tc(a,v,o)
r.resizeTable(o.adjustTableWidth,s,c)}
var zc=function(t,e,n,r){var o=Kr.fromTable(t)
var a=tu(o,t,r)
var i=B(a,(function(t,r){return n===r?Math.max(e+t,fr()):t}))
var u=Cc(o,i)
var c=Sc(o,i)
I(c,(function(t){pi(t.element,t.height)}))
I(u,(function(t){pi(t.element,t.height)}))
var s=Oc(i)
pi(t,s)}
var Ec=function(t,e,n,r,o){var a=Kr.generate(e)
var i=r.getWidths(a,r)
var u=r.pixelWidth()
var c=o.calcRedestributedWidths(i,u,n.pixelDelta,r.isRelative),s=c.newSizes,l=c.delta
Tc(a,s,r)
r.adjustTableWidth(l)}
var Mc=function(t,e,n,r){var o=Kr.generate(e)
var a=r.getWidths(o,r)
Tc(o,a,r)}
var Dc=function(t){return B(t,h(0))}
var Ac=function(t,e,n,r,o){return o(t.slice(0,e)).concat(r).concat(o(t.slice(n)))}
var Rc=function(t){return function(e,n,r,o){if(t(r)){var a=Math.max(o,e[n]-Math.abs(r))
var i=Math.abs(a-e[n])
return r>=0?i:-i}return r}}
var Hc=Rc((function(t){return t<0}))
var Bc=Rc(C)
var Ic=function(){var t=function(t,e,n,r,o){var a=Hc(t,e,r,o)
return Ac(t,e,n+1,[a,0],Dc)}
var e=function(t,e,n,r){var o=(100+n)/100
var a=Math.max(r,(t[e]+n)/o)
return B(t,(function(t,n){var r=n===e?a:t/o
return r-t}))}
var n=function(n,r,o,a,i,u){return u?e(n,r,a,i):t(n,r,o,a,i)}
var r=function(t,e,r,o,a,i,u){return n(t,r,o,a,i,u)}
var o=function(t,e){return t(e)}
var a=function(t,n,r,o,a,i){if(i)return e(t,r,o,a)
var u=Hc(t,r,o,a)
return Dc(t.slice(0,r)).concat([u])}
var i=function(t,e,n,r){if(r){var o=e+n
var a=o/e
var i=B(t,(function(t){return t/a}))
return{delta:100*a-100,newSizes:i}}return{delta:n,newSizes:t}}
return{resizeTable:o,clampTableDelta:Hc,calcLeftEdgeDeltas:n,calcMiddleDeltas:r,calcRightEdgeDeltas:a,calcRedestributedWidths:i}}
var Lc=function(){var t=function(t,e,n,r,o){var a=r>=0?n:e
var i=Bc(t,a,r,o)
return Ac(t,e,n+1,[i,-i],Dc)}
var e=function(e,n,r,o,a,i){return t(e,r,o,a,i)}
var n=function(t,e,n){n&&t(e)}
var r=function(t,e,n,r,o,a){if(a)return Dc(t)
var i=r/t.length
return B(t,h(i))}
var o=function(t,e,n,r,o){if(o){if(n>=0)return n
var a=F(t,(function(t,e){return t+e-r}),0)
return Math.max(-a,n)}return Hc(t,e,n,r)}
var a=function(t,e,n,r){return{delta:0,newSizes:t}}
return{resizeTable:n,clampTableDelta:o,calcLeftEdgeDeltas:t,calcMiddleDeltas:e,calcRightEdgeDeltas:r,calcRedestributedWidths:a}}
var Pc=function(t,e){var n=_.from(t.dom.documentElement).map(ve.fromDom).getOr(t)
return{parent:h(n),view:h(t),origin:h(_a(0,0)),isResizable:e}}
var Nc=function(t,e,n){var r=function(){return Ma(e)}
return{parent:h(e),view:h(t),origin:r,isResizable:n}}
var Vc=function(t,e,n){return{parent:h(e),view:h(t),origin:h(_a(0,0)),isResizable:n}}
var Fc={only:Pc,detached:Nc,body:Vc}
var jc=Yo.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}])
var Uc=function(t,e,n){var r=n.substring(0,n.length-t.length)
var o=parseFloat(r)
return r===o.toString()?e(o):jc.invalid(n)}
var Wc=function(t){if(yt(t,"%"))return Uc("%",jc.percent,t)
if(yt(t,"px"))return Uc("px",jc.pixels,t)
return jc.invalid(t)}
var qc=nt(nt({},jc),{from:Wc})
var Gc=function(t,e){return B(t,(function(t){var n=qc.from(t)
return n.fold((function(){return t}),(function(t){var n=t/e*100
return n+"%"}),(function(t){return t+"%"}))}))}
var $c=function(t,e,n){var r=n/e
return B(t,(function(t){var e=qc.from(t)
return e.fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))}
var Xc=function(t,e){var n=t.fold((function(){return h("")}),(function(t){var n=t/e
return h(n+"px")}),(function(){var t=100/e
return h(t+"%")}))
return H(e,n)}
var Kc=function(t,e,n){return t.fold((function(){return e}),(function(t){return $c(e,n,t)}),(function(t){return Gc(e,n)}))}
var Yc=function(t,e,n){var r=qc.from(n)
var o=$(t,(function(t){return"0px"===t}))?Xc(r,t.length):Kc(r,t,e)
return ts(o)}
var Jc=function(t,e){if(0===t.length)return e
return V(t,(function(t,e){return qc.from(e).fold(h(0),p,p)+t}),0)}
var Zc=function(t,e){var n=Math.floor(t)
return{value:n+e,remainder:t-n}}
var Qc=function(t,e){return qc.from(t).fold(h(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))}
var ts=function(t){if(0===t.length)return t
var e=V(t,(function(t,e){var n=qc.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return Zc(t,"px")}),(function(t){return{value:t+"%",remainder:0}}))
return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0})
var n=e.output
return n.slice(0,n.length-1).concat([Qc(n[n.length-1],Math.round(e.remainder))])}
var es=qc.from
var ns=function(t,e,n){I(e,(function(e){var r=t.slice(e.column,e.colspan+e.column)
var o=Jc(r,vr())
Qn(e.element,"width",o+n)}))}
var rs=function(t,e,n){I(e,(function(e,r){var o=Jc([t[r]],vr())
Qn(e.element,"width",o+n)}))}
var os=function(t,e,n,r){I(n,(function(e){var n=t.slice(e.row,e.rowspan+e.row)
var o=Jc(n,fr())
Qn(e.element,"height",o+r)}))
I(e,(function(e,n){Qn(e.element,"height",t[n])}))}
var as=function(t){return es(t).fold(h("px"),h("px"),h("%"))}
var is=function(t,e,n,r){var o=Kr.fromTable(t)
var a=o.all
var i=Kr.justCells(o)
var u=Kr.justColumns(o)
e.each((function(e){var n=as(e)
var a=ga(t)
var c=Yi(o,t,r)
var s=Yc(c,a,e)
Kr.hasColumns(o)?rs(s,u,n):ns(s,i,n)
Qn(t,"width",e)}))
n.each((function(e){var n=as(e)
var r=Oa(t)
var u=eu(o,t,Ua)
var c=Yc(u,r,e)
os(c,a,i,n)
Qn(t,"height",e)}))}
var us=Bi
var cs=Ii
var ss=Li
var ls=Hi
var vs=function(t){var e=Kr.fromTable(t)
return e.grid}
var fs=function(t){var e=[]
var n=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler")
e.push(t)}
var r=function(t){e=N(e,(function(e){return e!==t}))}
var o=function(){var n=[]
for(var r=0;r<arguments.length;r++)n[r]=arguments[r]
var o={}
I(t,(function(t,e){o[t]=n[e]}))
I(e,(function(t){t(o)}))}
return{bind:n,unbind:r,trigger:o}}
var ds=function(t){var e=Oe(t,(function(t){return{bind:t.bind,unbind:t.unbind}}))
var n=Oe(t,(function(t){return t.trigger}))
return{registry:e,trigger:n}}
var ms=function(t,e){var n=null
var r=function(){if(null!==n){clearTimeout(n)
n=null}}
var o=function(){var r=[]
for(var o=0;o<arguments.length;o++)r[o]=arguments[o]
null!==n&&clearTimeout(n)
n=setTimeout((function(){t.apply(null,r)
n=null}),e)}
return{cancel:r,throttle:o}}
var gs=function(t){return t.slice(0).sort()}
var hs=function(t,e){throw new Error("All required keys ("+gs(t).join(", ")+") were not specified. Specified keys were: "+gs(e).join(", ")+".")}
var ps=function(t){throw new Error("Unsupported keys for object: "+gs(t).join(", "))}
var bs=function(t,e){if(!i(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".")
I(e,(function(e){if(!o(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))}
var ys=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+gs(t).join(", ")+") were not.")}
var ws=function(t){var e=gs(t)
var n=U(e,(function(t,n){return n<e.length-1&&t===e[n+1]}))
n.each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))}
var xs=function(t,e){return Cs(t,e,{validate:v,label:"function"})}
var Cs=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.")
bs("required",e)
ws(e)
return function(r){var o=xe(r)
var a=$(e,(function(t){return A(o,t)}))
a||hs(e,o)
t(e,o)
var i=N(e,(function(t){return!n.validate(r[t],t)}))
i.length>0&&ys(i,n.label)
return r}}
var Ss=function(t,e){var n=N(e,(function(e){return!A(t,e)}))
n.length>0&&ps(n)}
var Os=function(t){return xs(Ss,t)}
var ks=Os(["compare","extract","mutate","sink"])
var Ts=Os(["element","start","stop","destroy"])
var _s=Os(["forceDrop","drop","move","delayDrop"])
var zs=function(){var t=_.none()
var e=function(){t=_.none()}
var n=function(e,n){var r=t.map((function(t){return e.compare(t,n)}))
t=_.some(n)
return r}
var r=function(t,e){var r=e.extract(t)
r.each((function(t){var r=n(e,t)
r.each((function(t){o.trigger.move(t)}))}))}
var o=ds({move:fs(["info"])})
return{onEvent:r,reset:e,events:o.registry}}
var Es=function(){var t=ds({move:fs(["info"])})
return{onEvent:d,reset:d,events:t.registry}}
var Ms=function(){var t=Es()
var e=zs()
var n=t
var r=function(){n.reset()
n=e}
var o=function(){n.reset()
n=t}
var a=function(t,e){n.onEvent(t,e)}
var i=function(){return n===e}
return{on:r,off:o,isOn:i,onEvent:a,events:e.events}}
var Ds=function(t,e,n){var r=false
var o=ds({start:fs([]),stop:fs([])})
var a=Ms()
var i=function(){d.stop()
if(a.isOn()){a.off()
o.trigger.stop()}}
var u=ms(i,200)
var c=function(t){d.start(t)
a.on()
o.trigger.start()}
var s=function(t){u.cancel()
a.onEvent(t,e)}
a.events.move.bind((function(n){e.mutate(t,n.info)}))
var l=function(){r=true}
var v=function(){r=false}
var f=function(t){return function(){var e=[]
for(var n=0;n<arguments.length;n++)e[n]=arguments[n]
r&&t.apply(null,e)}}
var d=e.sink(_s({forceDrop:i,drop:f(i),move:f(s),delayDrop:f(u.throttle)}),n)
var m=function(){d.destroy()}
return{element:d.element,go:c,on:l,off:v,destroy:m,events:o.registry}}
var As=function(t,e,n,r,o,a,i){return{target:t,x:e,y:n,stop:r,prevent:o,kill:a,raw:i}}
var Rs=function(t){var e=ve.fromDom(Sn(t).getOr(t.target))
var n=function(){return t.stopPropagation()}
var r=function(){return t.preventDefault()}
var o=m(r,n)
return As(e,t.clientX,t.clientY,n,r,o,t)}
var Hs=function(t,e){return function(n){t(n)&&e(Rs(n))}}
var Bs=function(t,e,n,r,o){var a=Hs(n,r)
t.dom.addEventListener(e,a,o)
return{unbind:b(Ls,t,e,a,o)}}
var Is=function(t,e,n,r){return Bs(t,e,n,r,false)}
var Ls=function(t,e,n,r){t.dom.removeEventListener(e,n,r)}
var Ps=C
var Ns=function(t,e,n){return Is(t,e,Ps,n)}
var Vs=Rs
var Fs=function(t,e){var n=Gn(t,e)
return void 0===n||""===n?[]:n.split(" ")}
var js=function(t,e,n){var r=Fs(t,e)
var o=r.concat([n])
Wn(t,e,o.join(" "))
return true}
var Us=function(t,e,n){var r=N(Fs(t,e),(function(t){return t!==n}))
r.length>0?Wn(t,e,r.join(" ")):Xn(t,e)
return false}
var Ws=function(t){return void 0!==t.dom.classList}
var qs=function(t){return Fs(t,"class")}
var Gs=function(t,e){return js(t,"class",e)}
var $s=function(t,e){return Us(t,"class",e)}
var Xs=function(t,e){Ws(t)?t.dom.classList.add(e):Gs(t,e)}
var Ks=function(t){var e=Ws(t)?t.dom.classList:qs(t)
0===e.length&&Xn(t,"class")}
var Ys=function(t,e){if(Ws(t)){var n=t.dom.classList
n.remove(e)}else $s(t,e)
Ks(t)}
var Js=function(t,e){return Ws(t)&&t.dom.classList.contains(e)}
var Zs=function(t){var e=t.replace(/\./g,"-")
var n=function(t){return e+"-"+t}
return{resolve:n}}
var Qs=Zs("ephox-dragster")
var tl=Qs.resolve
var el=function(t){var e=nt({layerClass:tl("blocker")},t)
var n=ve.fromTag("div")
Wn(n,"role","presentation")
tr(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"})
Xs(n,tl("blocker"))
Xs(n,e.layerClass)
var r=function(){return n}
var o=function(){wo(n)}
return{element:r,destroy:o}}
var nl=function(t,e){return _a(e.left-t.left,e.top-t.top)}
var rl=function(t){return _.some(_a(t.x,t.y))}
var ol=function(t,e){t.mutate(e.left,e.top)}
var al=function(t,e){var n=el(e)
var r=Ns(n.element(),"mousedown",t.forceDrop)
var o=Ns(n.element(),"mouseup",t.drop)
var a=Ns(n.element(),"mousemove",t.move)
var i=Ns(n.element(),"mouseout",t.delayDrop)
var u=function(){n.destroy()
o.unbind()
a.unbind()
i.unbind()
r.unbind()}
var c=function(t){mo(t,n.element())}
var s=function(){wo(n.element())}
return Ts({element:n.element,start:c,stop:s,destroy:u})}
var il=ks({compare:nl,extract:rl,sink:al,mutate:ol})
var ul=function(t,e){void 0===e&&(e={})
var n=void 0!==e.mode?e.mode:il
return Ds(t,n,e)}
var cl=function(t){return"true"===Gn(t,"contenteditable")}
var sl=function(t,e){return jn(t,"[contenteditable]",e)}
var ll=Zs("ephox-snooker")
var vl=ll.resolve
var fl=function(){var t=ds({drag:fs(["xDelta","yDelta"])})
var e=function(e,n){t.trigger.drag(e,n)}
return{mutate:e,events:t.registry}}
var dl=function(){var t=ds({drag:fs(["xDelta","yDelta","target"])})
var e=_.none()
var n=fl()
n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta,n.yDelta,e)}))}))
var r=function(t){e=_.some(t)}
var o=function(){return e}
return{assign:r,get:o,mutate:n.mutate,events:t.registry}}
var ml=function(t,e,n,r,o){var a=ve.fromTag("div")
tr(a,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"})
qn(a,{"data-column":t,role:"presentation"})
return a}
var gl=function(t,e,n,r,o){var a=ve.fromTag("div")
tr(a,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"})
qn(a,{"data-row":t,role:"presentation"})
return a}
var hl=vl("resizer-bar")
var pl=vl("resizer-rows")
var bl=vl("resizer-cols")
var yl=7
var wl=function(t,e){return G(t.all,(function(t,n){return e(t.element)?[n]:[]}))}
var xl=function(t,e){var n=[]
H(t.grid.columns,(function(r){var o=Kr.getColumnAt(t,r).map((function(t){return t.element}))
o.forall(e)&&n.push(r)}))
return N(n,(function(n){var r=Kr.filterItems(t,(function(t){return t.column===n}))
return $(r,(function(t){return e(t.element)}))}))}
var Cl=function(t){var e=Rn(t.parent(),"."+hl)
I(e,wo)}
var Sl=function(t,e,n){var r=t.origin()
I(e,(function(e){e.each((function(e){var o=n(r,e)
Xs(o,hl)
mo(t.parent(),o)}))}))}
var Ol=function(t,e,n,r){Sl(t,e,(function(t,e){var o=ml(e.col,e.x-t.left,n.top-t.top,yl,r)
Xs(o,bl)
return o}))}
var kl=function(t,e,n,r){Sl(t,e,(function(t,e){var o=gl(e.row,n.left-t.left,e.y-t.top,r,yl)
Xs(o,pl)
return o}))}
var Tl=function(t,e,n,r,o){var a=Ma(n)
var i=e.isResizable
var u=r.length>0?Ua.positions(r,n):[]
var c=u.length>0?wl(t,i):[]
var s=N(u,(function(t,e){return R(c,(function(t){return e===t}))}))
kl(e,s,a,ha(n))
var l=o.length>0?$a.positions(o,n):[]
var v=l.length>0?xl(t,i):[]
var f=N(l,(function(t,e){return R(v,(function(t){return e===t}))}))
Ol(e,f,a,ka(n))}
var _l=function(t,e){Cl(t)
if(t.isResizable(e)){var n=Kr.fromTable(e)
var r=ya(n)
var o=pa(n)
Tl(n,t,e,r,o)}}
var zl=function(t,e){var n=Rn(t.parent(),"."+hl)
I(n,e)}
var El=function(t){zl(t,(function(t){Qn(t,"display","none")}))}
var Ml=function(t){zl(t,(function(t){Qn(t,"display","block")}))}
var Dl=function(t){return Js(t,pl)}
var Al=function(t){return Js(t,bl)}
var Rl=vl("resizer-bar-dragging")
var Hl=function(t){var e=dl()
var n=ul(e,{})
var r=_.none()
var o=function(t,e){return _.from(Gn(t,e))}
e.events.drag.bind((function(t){o(t.target,"data-row").each((function(e){var n=lr(t.target,"top")
Qn(t.target,"top",n+t.yDelta+"px")}))
o(t.target,"data-column").each((function(e){var n=lr(t.target,"left")
Qn(t.target,"left",n+t.xDelta+"px")}))}))
var a=function(t,e){var n=lr(t,e)
var r=ir(t,"data-initial-"+e,0)
return n-r}
n.events.stop.bind((function(){e.get().each((function(e){r.each((function(n){o(e,"data-row").each((function(t){var r=a(e,"top")
Xn(e,"data-initial-top")
d.trigger.adjustHeight(n,r,parseInt(t,10))}))
o(e,"data-column").each((function(t){var r=a(e,"left")
Xn(e,"data-initial-left")
d.trigger.adjustWidth(n,r,parseInt(t,10))}))
_l(t,n)}))}))}))
var i=function(r,o){d.trigger.startAdjust()
e.assign(r)
Wn(r,"data-initial-"+o,lr(r,o))
Xs(r,Rl)
Qn(r,"opacity","0.2")
n.go(t.parent())}
var u=Ns(t.parent(),"mousedown",(function(t){Dl(t.target)&&i(t.target,"top")
Al(t.target)&&i(t.target,"left")}))
var c=function(e){return he(e,t.view())}
var s=function(t){return jn(t,"table",c).filter((function(t){return sl(t,c).exists(cl)}))}
var l=Ns(t.view(),"mouseover",(function(e){s(e.target).fold((function(){kn(e.target)&&Cl(t)}),(function(e){r=_.some(e)
_l(t,e)}))}))
var v=function(){u.unbind()
l.unbind()
n.destroy()
Cl(t)}
var f=function(e){_l(t,e)}
var d=ds({adjustHeight:fs(["table","delta","row"]),adjustWidth:fs(["table","delta","column"]),startAdjust:fs([])})
return{destroy:v,refresh:f,on:n.on,off:n.off,hideBars:b(El,t),showBars:b(Ml,t),events:d.registry}}
var Bl=function(t,e,n){var r=Ua
var o=$a
var a=Hl(t)
var i=ds({beforeResize:fs(["table","type"]),afterResize:fs(["table","type"]),startDrag:fs([])})
a.events.adjustHeight.bind((function(t){var e=t.table
i.trigger.beforeResize(e,"row")
var n=r.delta(t.delta,e)
zc(e,n,t.row,r)
i.trigger.afterResize(e,"row")}))
a.events.startAdjust.bind((function(t){i.trigger.startDrag()}))
a.events.adjustWidth.bind((function(t){var r=t.table
i.trigger.beforeResize(r,"col")
var a=o.delta(t.delta,r)
var u=n(r)
_c(r,a,t.column,e,u)
i.trigger.afterResize(r,"col")}))
return{on:a.on,off:a.off,hideBars:a.hideBars,showBars:a.showBars,destroy:a.destroy,events:i.registry}}
var Il={create:Bl}
var Ll=function(t,e){return t.fire("newrow",{node:e})}
var Pl=function(t,e){return t.fire("newcell",{node:e})}
var Nl=function(t,e,n,r,o){t.fire("ObjectResizeStart",{target:e,width:n,height:r,origin:o})}
var Vl=function(t,e,n,r,o){t.fire("ObjectResized",{target:e,width:n,height:r,origin:o})}
var Fl=function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})}
var jl=function(t){t.fire("TableSelectionClear")}
var Ul=function(t,e,n){t.fire("TableModified",nt(nt({},n),{table:e}))}
var Wl={structure:false,style:true}
var ql={structure:true,style:false}
var Gl="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"
var $l={"border-collapse":"collapse",width:"100%"}
var Xl=function(t){if(dv(t)){var e=t.getBody().offsetWidth
return nt(nt({},$l),{width:e+"px"})}return mv(t)?ze($l,(function(t,e){return"width"!==e})):$l}
var Kl={border:"1"}
var Yl="preservetable"
var Jl=function(t){return t.getParam("table_sizing_mode","auto")}
var Zl=function(t){return t.getParam("table_responsive_width")}
var Ql=function(t){return t.getParam("table_default_attributes",Kl,"object")}
var tv=function(t){return t.getParam("table_default_styles",Xl(t),"object")}
var ev=function(t){return t.getParam("table_resize_bars",true,"boolean")}
var nv=function(t){return t.getParam("table_tab_navigation",true,"boolean")}
var rv=function(t){return t.getParam("table_cell_advtab",true,"boolean")}
var ov=function(t){return t.getParam("table_row_advtab",true,"boolean")}
var av=function(t){return t.getParam("table_advtab",true,"boolean")}
var iv=function(t){return t.getParam("table_appearance_options",true,"boolean")}
var uv=function(t){return t.getParam("table_grid",true,"boolean")}
var cv=function(t){return t.getParam("table_style_by_css",false,"boolean")}
var sv=function(t){return t.getParam("table_cell_class_list",[],"array")}
var lv=function(t){return t.getParam("table_row_class_list",[],"array")}
var vv=function(t){return t.getParam("table_class_list",[],"array")}
var fv=function(t){return"relative"===Jl(t)||true===Zl(t)}
var dv=function(t){return"fixed"===Jl(t)||false===Zl(t)}
var mv=function(t){return"responsive"===Jl(t)}
var gv=function(t){return t.getParam("table_toolbar",Gl)}
var hv=function(t){return t.getParam("table_use_colgroups",false,"boolean")}
var pv=function(t){var e="section"
var n=t.getParam("table_header_type",e,"string")
var r=["section","cells","sectionCells","auto"]
return A(r,n)?n:e}
var bv=function(t){var e=["preservetable","resizetable"]
var n=t.getParam("table_column_resizing",Yl,"string")
return U(e,(function(t){return t===n})).getOr(Yl)}
var yv=function(t){return"preservetable"===bv(t)}
var wv=function(t){return"resizetable"===bv(t)}
var xv=function(t){var e=t.getParam("table_clone_elements")
return o(e)?_.some(e.split(/[ ,]/)):Array.isArray(e)?_.some(e):_.none()}
var Cv=function(t){var e=t.getParam("object_resizing",true)
return o(e)?"table"===e:e}
var Sv=function(t,e){if(fv(t)){var n=qu(t,e.dom).filter(Gu).getOrThunk((function(){return ls(e)}))
return cu.percentageSize(n,e)}return dv(t)?cu.pixelSize(ga(e),e):cu.getTableSize(e)}
var Ov=function(t){Xn(t,"width")}
var kv=function(t,e){var n=Hi(t)
is(t,_.some(n),_.none(),e)
Ov(t)}
var Tv=function(t,e){var n=Ri(t)
is(t,_.some(n),_.none(),e)
Ov(t)}
var _v=function(t){or(t,"width")
var e=br(t)
var n=e.length>0?e:pr(t)
I(n,(function(t){or(t,"width")
Ov(t)}))
Ov(t)}
var zv=function(t,e){var n=Sv(t,e)
kv(e,n)}
var Ev=function(t,e){var n=Sv(t,e)
Tv(e,n)}
var Mv=_v
var Dv=function(t){var e=Kr.fromTable(t)
Kr.hasColumns(e)||I(pr(t),(function(t){var e=er(t,"width")
Qn(t,"width",e)
Xn(t,"width")}))}
var Av=function(){var t=ve.fromTag("div")
tr(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"})
mo(Tn(),t)
return t}
var Rv=function(t,e){return t.inline?Fc.body(Pu(t),Av(),e):Fc.only(ve.fromDom(t.getDoc()),e)}
var Hv=function(t,e){t.inline&&wo(e.parent())}
var Bv="bar-"
var Iv=function(t){return"false"!==Gn(t,"data-mce-resize")}
var Lv=function(t){var e=_.none()
var n=_.none()
var r=_.none()
var o
var a
var i=function(t){return"TABLE"===t.nodeName}
var u=function(){return n}
var c=function(){return r.getOr(Fc.only(ve.fromDom(t.getBody()),Iv))}
var s=function(e){return Sv(t,e)}
var l=function(){return yv(t)?Lc():Ic()}
var v=function(t){return vs(t).columns}
var f=function(e,n,r){var i=yt(n,"e")
""===a&&zv(t,e)
if(r!==o&&""!==a){Qn(e,"width",a)
var u=l()
var c=s(e)
var f=yv(t)||i?v(e)-1:0
_c(e,r-o,f,u,c)}else if(Gu(a)){var d=parseFloat(a.replace("%",""))
var m=r*d/o
Qn(e,"width",m+"%")}$u(a)&&Dv(e)}
var d=function(){n.each((function(t){t.destroy()}))
r.each((function(e){Hv(t,e)}))}
t.on("init",(function(){var o=Rv(t,Iv)
r=_.some(o)
if(Cv(t)&&ev(t)){var a=l()
var i=Il.create(o,a,s)
i.on()
i.events.startDrag.bind((function(n){e=_.some(t.selection.getRng())}))
i.events.beforeResize.bind((function(e){var n=e.table.dom
Nl(t,n,Nu(n),Vu(n),Bv+e.type)}))
i.events.afterResize.bind((function(n){var r=n.table
var o=r.dom
Wu(r)
e.each((function(e){t.selection.setRng(e)
t.focus()}))
Vl(t,o,Nu(o),Vu(o),Bv+n.type)
t.undoManager.add()}))
n=_.some(i)}}))
t.on("ObjectResizeStart",(function(e){var n=e.target
if(i(n)){var r=ve.fromDom(n)
I(t.dom.select(".mce-clonedresizable"),(function(e){t.dom.addClass(e,"mce-"+bv(t)+"-columns")}))
!cs(r)&&dv(t)?Ev(t,r):!us(r)&&fv(t)&&zv(t,r)
ss(r)&&bt(e.origin,Bv)&&zv(t,r)
o=e.width
a=mv(t)?"":qu(t,n).getOr("")}}))
t.on("ObjectResized",(function(e){var n=e.target
if(i(n)){var r=ve.fromDom(n)
var o=e.origin
bt(o,"corner-")&&f(r,o,e.width)
Wu(r)
Ul(t,r.dom,Wl)}}))
t.on("SwitchMode",(function(){u().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))}))
return{lazyResize:u,lazyWire:c,destroy:d}}
var Pv=function(t,e){return{element:t,offset:e}}
var Nv=function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return Nv(t,e,n).orThunk((function(){return _.some(e)}))})):_.none()}
var Vv=function(t,e){if(t.property().isText(e))return t.property().getText(e).length
var n=t.property().children(e)
return n.length}
var Fv=function(t,e){var n=Nv(t,e,t.query().prevSibling).getOr(e)
if(t.property().isText(n))return Pv(n,Vv(t,n))
var r=t.property().children(n)
return r.length>0?Fv(t,r[r.length-1]):Pv(n,Vv(t,n))}
var jv=Fv
var Uv=zo()
var Wv=function(t){return jv(Uv,t)}
var qv=function(t,e){var n=ur(t,"colspan")
if(1===n){var r=Di(t)
r.each((function(n){var r=n.value/2
Ai(t,r,n.unit)
Ai(e,r,n.unit)}))}}
var Gv=function(t,e,n,r){n===r?Xn(t,e):Wn(t,e,n)}
var $v=function(t,e,n){tt(An(t,e)).fold((function(){return fo(t,n)}),(function(t){return vo(t,n)}))}
var Xv=function(t,e){var n=Vn(t,e).getOrThunk((function(){var n=ve.fromTag(e,an(t).dom)
"thead"===e?$v(t,"caption,colgroup",n):"colgroup"===e?$v(t,"caption",n):mo(t,n)
return n}))
yo(n)
return n}
var Kv=function(t,e){var n=[]
var r=[]
var o=function(t){return B(t,(function(t){t.isNew&&n.push(t.element)
var e=t.element
yo(e)
I(t.cells,(function(t){t.isNew&&r.push(t.element)
Gv(t.element,"colspan",t.colspan,1)
Gv(t.element,"rowspan",t.rowspan,1)
mo(e,t.element)}))
return e}))}
var a=function(t){return G(t,(function(t){return B(t.cells,(function(t){Gv(t.element,"span",t.colspan,1)
return t.element}))}))}
var i=function(e,n){var r=Xv(t,n)
var i="colgroup"===n?a:o
var u=i(e)
bo(r,u)}
var u=function(e){Vn(t,e).each(wo)}
var c=function(t,e){t.length>0?i(t,e):u(e)}
var s=[]
var l=[]
var v=[]
var f=[]
I(e,(function(t){switch(t.section){case"thead":s.push(t)
break
case"tbody":l.push(t)
break
case"tfoot":v.push(t)
break
case"colgroup":f.push(t)}}))
c(f,"colgroup")
c(s,"thead")
c(l,"tbody")
c(v,"tfoot")
return{newRows:n,newCells:r}}
var Yv=function(t){return B(t,(function(t){var e=aa(t.element)
I(t.cells,(function(t){var n=ia(t.element)
Gv(n,"colspan",t.colspan,1)
Gv(n,"rowspan",t.rowspan,1)
mo(e,n)}))
return e}))}
var Jv=function(t,e){return B(t,(function(t){return Dr(t,e)}))}
var Zv=function(t,e){return t[e]}
var Qv=function(t,e){if(0===t.length)return 0
var n=t[0]
var r=W(t,(function(t){return!e(n.element,t.element)}))
return r.fold((function(){return t.length}),(function(t){return t}))}
var tf=function(t,e,n,r){var o=Zv(t,e).cells.slice(n)
var a=Qv(o,r)
var i=Jv(t,n).slice(e)
var u=Qv(i,r)
return{colspan:a,rowspan:u}}
var ef=function(t,e){var n=B(t,(function(t){return B(t.cells,x)}))
var r=function(t,e,r,o){for(var a=t;a<t+r;a++)for(var i=e;i<e+o;i++)n[a][i]=true}
return B(t,(function(o,a){var i=G(o.cells,(function(o,i){if(false===n[a][i]){var u=tf(t,a,i,e)
r(a,i,u.rowspan,u.colspan)
return[Fe(o.element,u.rowspan,u.colspan,o.isNew)]}return[]}))
return $e(i,o.section)}))}
var nf=function(t,e,n){var r=[]
if(Kr.hasColumns(t)){var o=B(Kr.justColumns(t),(function(t){return We(t.element,n,false)}))
r.push(Ge(o,"colgroup"))}for(var a=0;a<t.grid.rows;a++){var i=[]
for(var u=0;u<t.grid.columns;u++){var c=Kr.getAt(t,a,u).map((function(t){return We(t.element,n,t.isLocked)})).getOrThunk((function(){return We(e.gap(),true,false)}))
i.push(c)}var s=Ge(i,t.all[a].section)
r.push(s)}return r}
var rf=function(t,e){return nf(t,e,false)}
var of=function(t,e){var n=function(t){var n=et(t,(function(t){return sn(t.element).map((function(t){var e=sn(t).isNone()
return We(t,e,false)}))}))
return n.getOrThunk((function(){return We(e.row(),true,false)}))}
return B(t,(function(t){var e=n(t.details)
return qe(e.element,t.details,t.section,e.isNew)}))}
var af=function(t,e){var n=ef(t,he)
return of(n,e)}
var uf=function(t,e){return et(t.all,(function(t){return U(t.cells,(function(t){return he(e,t.element)}))}))}
var cf=function(t,e,n){var r=B(e.selection,(function(e){return hr(e).bind((function(e){return uf(t,e)})).filter(n)}))
var o=sa(r)
return fa(o.length>0,o)}
var sf=function(t,e,n,r,o){return function(a,i,u,c,s,l){var v=Kr.fromTable(i)
var f=e(v,u).map((function(e){var n=rf(v,c)
var r=t(n,e,he,o(c))
var a=Lr(r.grid)
var i=af(r.grid,c)
return{info:e,grid:i,cursor:r.cursor,lockedColumns:a}}))
return f.bind((function(t){var e=Kv(i,t.grid)
var o=_.from(s).getOrThunk((function(){return cu.getTableSize(i)}))
var u=_.from(l).getOrThunk(Lc)
n(i,t.grid,t.info,o,u)
r(i)
_l(a,i)
Xn(i,Br)
t.lockedColumns.length>0&&Wn(i,Br,t.lockedColumns.join(","))
return _.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})}))}}
var lf=function(t,e){return hr(e.element).bind((function(e){return uf(t,e)}))}
var vf=function(t,e){return hr(e.element).bind((function(n){return uf(t,n).map((function(t){var n=nt(nt({},t),{generators:e.generators,clipboard:e.clipboard})
return n}))}))}
var ff=function(t,e){return cf(t,e,C).map((function(t){return{cells:t,generators:e.generators,clipboard:e.clipboard}}))}
var df=function(t,e){return e.mergable}
var mf=function(t,e){return e.unmergable}
var gf=function(t,e){return cf(t,e,C)}
var hf=function(t,e){return lf(t,e).filter((function(t){return!t.isLocked}))}
var pf=function(t,e){return cf(t,e,(function(t){return!t.isLocked}))}
var bf=function(t,e){return uf(t,e).exists((function(t){return!t.isLocked}))}
var yf=function(t,e){return $(e,(function(e){return bf(t,e)}))}
var wf=function(t,e){return df(t,e).filter((function(e){return yf(t,e.cells)}))}
var xf=function(t,e){return mf(t,e).filter((function(e){return yf(t,e)}))}
var Cf=function(t,e,n,r){var o=Hr(t).rows
if(0===o.length)return t
for(var a=e.startRow;a<=e.finishRow;a++)for(var i=e.startCol;i<=e.finishCol;i++){var u=o[a]
var c=Dr(u,i).isLocked
zr(u,i,We(r(),false,c))}return t}
var Sf=function(t,e,n,r){var o=Hr(t).rows
var a=true
for(var i=0;i<o.length;i++)for(var u=0;u<Rr(o[0]);u++){var c=o[i]
var s=Dr(c,u)
var l=s.element
var v=n(l,e)
true===v&&false===a?zr(c,u,We(r(),true,s.isLocked)):true===v&&(a=false)}return t}
var Of=function(t,e){return F(t,(function(t,n){return R(t,(function(t){return e(t.element,n.element)}))?t:t.concat([n])}),[])}
var kf=function(t,e,n,r){e>0&&e<t[0].cells.length&&I(t,(function(t){var o=t.cells[e-1]
var a=t.cells[e]
var i=n(a.element,o.element)
i&&zr(t,e,We(r(),true,a.isLocked))}))
return t}
var Tf=function(t,e,n,r){var o=Hr(t).rows
if(e>0&&e<o.length){var a=o[e-1].cells
var i=Of(a,n)
I(i,(function(t){var a=_.none()
for(var i=e;i<o.length;i++){var u=function(e){var u=o[i]
var c=Dr(u,e)
var s=n(c.element,t.element)
if(s){a.isNone()&&(a=_.some(r()))
a.each((function(t){zr(u,e,We(t,true,c.isLocked))}))}}
for(var c=0;c<Rr(o[0]);c++)u(c)}}))}return t}
var _f=function(t){var e=function(e){return t===e}
var n=function(e){return _f(t)}
var r=function(e){return _f(t)}
var o=function(e){return _f(e(t))}
var a=function(e){return _f(t)}
var i=function(e){e(t)}
var u=function(e){return e(t)}
var c=function(e,n){return n(t)}
var s=function(e){return e(t)}
var l=function(e){return e(t)}
var v=function(){return _.some(t)}
return{is:e,isValue:C,isError:x,getOr:h(t),getOrThunk:h(t),getOrDie:h(t),or:n,orThunk:r,fold:c,map:o,mapError:a,each:i,bind:u,exists:s,forall:l,toOptional:v}}
var zf=function(t){var e=function(t){return t()}
var n=function(){return w(String(t))()}
var r=function(t){return t}
var o=function(t){return t()}
var a=function(e){return zf(t)}
var i=function(e){return zf(e(t))}
var u=function(e){return zf(t)}
var c=function(e,n){return e(t)}
return{is:x,isValue:x,isError:C,getOr:p,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:a,mapError:i,each:d,bind:u,exists:x,forall:C,toOptional:_.none}}
var Ef=function(t,e){return t.fold((function(){return zf(e)}),_f)}
var Mf={value:_f,error:zf,fromOption:Ef}
var Df=function(t,e,n){if(t.row>=e.length||t.column>Rr(e[0]))return Mf.error("invalid start address out of table bounds, row: "+t.row+", column: "+t.column)
var r=e.slice(t.row)
var o=r[0].cells.slice(t.column)
var a=Rr(n[0])
var i=n.length
return Mf.value({rowDelta:r.length-i,colDelta:o.length-a})}
var Af=function(t,e){var n=Rr(t[0])
var r=Rr(e[0])
return{rowDelta:0,colDelta:n-r}}
var Rf=function(t,e){var n=t.length
var r=e.length
return{rowDelta:n-r,colDelta:0}}
var Hf=function(t,e,n,r){var o="colgroup"===e.section?n.col:n.cell
return H(t,(function(t){return We(o(),true,r(t))}))}
var Bf=function(t,e,n,r){return t.concat(H(e,(function(){var e=t[t.length-1]
var o=Hf(e.cells.length,e,n,(function(t){return Re(r,t.toString())}))
return Er(e,o)})))}
var If=function(t,e,n,r){return B(t,(function(t){var o=Hf(e,t,n,x)
return Tr(t,r,o)}))}
var Lf=function(t,e,n){return B(t,(function(t){return F(n,(function(n,r){var o=Hf(1,t,e,C)[0]
return _r(n,r,o)}),t)}))}
var Pf=function(t,e,n){var r=e.colDelta<0?If:p
var o=e.rowDelta<0?Bf:p
var a=Lr(t)
var i=Rr(t[0])
var u=R(a,(function(t){return t===i-1}))
var c=r(t,Math.abs(e.colDelta),n,u?i-1:i)
var s=Lr(c)
return o(c,Math.abs(e.rowDelta),n,K(s,C))}
var Nf=function(t,e,n,r){var o=Dr(t[e],n)
var a=b(r,o.element)
var i=t[e]
return t.length>1&&Rr(i)>1&&(n>0&&a(Ar(i,n-1))||n<i.cells.length-1&&a(Ar(i,n+1))||e>0&&a(Ar(t[e-1],n))||e<t.length-1&&a(Ar(t[e+1],n)))}
var Vf=function(t,e,n,r,o,a){var i=t.row
var u=t.column
var c=n.length
var s=Rr(n[0])
var l=i+c
var v=u+s+a.length
var f=K(a,C)
for(var d=i;d<l;d++){var m=0
for(var g=u;g<v;g++){if(f[g]){m++
continue}Nf(e,d,g,o)&&Sf(e,Ar(e[d],g),o,r.cell)
var h=g-u-m
var p=Dr(n[d-i],h)
var b=p.element
var y=r.replace(b)
zr(e[d],g,We(y,true,p.isLocked))}}return e}
var Ff=function(t,e,n){var r=Rr(e[0])
var o=H(r-t.column,(function(e){return e+t.column}))
var a=U(o,(function(t){return $(n,(function(e){return e!==t}))})).getOr(r-1)
return nt(nt({},t),{column:a})}
var jf=function(t,e,n){return N(n,(function(n){return n>=t.column&&n<=Rr(e[0])+t.column}))}
var Uf=function(t,e,n,r,o){var a=Lr(e)
var i=Ff(t,e,a)
var u=jf(i,n,a)
var c=Df(i,e,n)
return c.map((function(t){var a=nt(nt({},t),{colDelta:t.colDelta-u.length})
var c=Pf(e,a,r)
var s=Lr(c)
var l=jf(i,n,s)
return Vf(i,c,n,r,o,l)}))}
var Wf=function(t,e,n,r,o){kf(e,t,o,r.cell)
var a=Rf(n,e)
var i=Pf(n,a,r)
var u=Rf(e,i)
var c=Pf(e,u,r)
return B(c,(function(e,n){return Tr(e,t,i[n].cells)}))}
var qf=function(t,e,n,r,o){Tf(e,t,o,r.cell)
var a=Lr(e)
var i=Af(e,n)
var u=nt(nt({},i),{colDelta:i.colDelta-a.length})
var c=Pf(e,u,r)
var s=Hr(c),l=s.cols,v=s.rows
var f=Lr(c)
var d=Af(n,e)
var m=nt(nt({},d),{colDelta:d.colDelta+f.length})
var g=Lf(n,r,f)
var h=Pf(g,m,r)
return l.concat(v.slice(0,t)).concat(h).concat(v.slice(t,v.length))}
var Gf=function(t,e,n,r,o){var a=Hr(t),i=a.rows,u=a.cols
var c=i.slice(0,e)
var s=i.slice(e)
var l=Mr(i[n],(function(t,n){var a=e>0&&e<i.length&&r(Ar(i[e-1],n),Ar(i[e],n))
var u=a?Dr(i[e],n):We(o(t.element,r),true,t.isLocked)
return u}))
return u.concat(c).concat([l]).concat(s)}
var $f=function(t,e,n,r,o,a,i){if("colgroup"!==n&&r)return Dr(t,e)
var u=Dr(t,o)
return We(i(u.element,a),true,false)}
var Xf=function(t,e,n,r,o){return B(t,(function(t){var a=e>0&&e<Rr(t)&&r(Ar(t,e-1),Ar(t,e))
var i=$f(t,e,t.section,a,n,r,o)
return _r(t,e,i)}))}
var Kf=function(t,e){return G(t,(function(t){var n=t.cells
var r=V(e,(function(t,e){return e>=0&&e<t.length?t.slice(0,e).concat(t.slice(e+1)):t}),n)
return r.length>0?[Ge(r,t.section)]:[]}))}
var Yf=function(t,e,n){var r=Hr(t),o=r.rows,a=r.cols
return a.concat(o.slice(0,e)).concat(o.slice(n+1))}
var Jf=function(t,e,n,r){var o=function(t){return R(e,(function(e){return n(t.element,e.element)}))}
return B(t,(function(t){return Mr(t,(function(t){return o(t)?We(r(t.element,n),true,t.isLocked):t}))}))}
var Zf=function(t,e,n,r){return void 0!==Ar(t[e],n)&&e>0&&r(Ar(t[e-1],n),Ar(t[e],n))}
var Qf=function(t,e,n){return e>0&&n(Ar(t,e-1),Ar(t,e))}
var td=function(t,e,n,r){var o=Hr(t).rows
var a=G(o,(function(r,o){var a=Zf(t,o,e,n)||Qf(r,e,n)
return a?[]:[Dr(r,e)]}))
return Jf(t,a,n,r)}
var ed=function(t,e,n,r){var o=Hr(t).rows
var a=o[e]
var i=G(a.cells,(function(t,r){var i=Zf(o,e,r,n)||Qf(a,r,n)
return i?[]:[t]}))
return Jf(t,i,n,r)}
var nd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.column===e.column}))
return n?t:t.concat([e])}
return F(t,e,[]).sort((function(t,e){return t.column-e.column}))}
var rd=function(t){var e=ir(t,"colspan",1)
var n=ir(t,"rowspan",1)
return{element:t,colspan:e,rowspan:n}}
var od=function(t,e){void 0===e&&(e=rd)
var n=nu(_.none())
var r=function(e){switch(Ye(e.element)){case"col":return t.col(e)
default:return t.cell(e)}}
var o=function(t){var n=e(t)
return r(n)}
var a=function(t){var e=o(t)
n.get().isNone()&&n.set(_.some(e))
i=_.some({item:t,replacement:e})
return e}
var i=_.none()
var u=function(t,e){return i.fold((function(){return a(t)}),(function(n){return e(t,n.item)?n.replacement:a(t)}))}
return{getOrInit:u,cursor:n.get}}
var ad=function(t,e){return function(n){var r=nu(_.none())
var o=[]
var a=function(t,e){return U(o,(function(n){return e(n.item,t)}))}
var i=function(a){var i={scope:t}
var u=n.replace(a,e,i)
o.push({item:a,sub:u})
r.get().isNone()&&r.set(_.some(u))
return u}
var u=function(t,e){return"col"===Ye(t)?t:a(t,e).fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.sub:i(t)}))}
return{replaceOrInit:u,cursor:r.get}}}
var id=function(t){return $n(t,"scope").map((function(t){return t.substr(0,3)}))}
var ud=function(t){var e=nu(_.none())
var n=function(n){e.get().isNone()&&e.set(_.some(n))
var r=id(n)
r.each((function(t){return Wn(n,"scope",t)}))
return function(){var e=t.cell({element:n,colspan:1,rowspan:1})
or(e,"width")
or(n,"width")
r.each((function(t){return Wn(e,"scope",t)}))
return e}}
var r=function(t){var e=function(){var e=sa(B(t,id))
if(0===e.length)return _.none()
var n=e[0]
var r=["row","col"]
var o=R(e,(function(t){return t!==n&&A(r,t)}))
return o?_.none():_.from(n)}
or(t[0],"width")
e().fold((function(){return Xn(t[0],"scope")}),(function(e){return Wn(t[0],"scope",e+"group")}))
return h(t[0])}
return{unmerge:n,merge:r,cursor:e.get}}
var cd={modification:od,transform:ad,merging:ud}
var sd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"]
var ld=function(t,e){var n=t.property().name(e)
return A(["ol","ul"],n)}
var vd=function(t,e){var n=t.property().name(e)
return A(sd,n)}
var fd=function(t,e){return A(["br","img","hr","input"],t.property().name(e))}
var dd=zo()
var md=function(t){return vd(dd,t)}
var gd=function(t){return ld(dd,t)}
var hd=function(t){return fd(dd,t)}
var pd=function(t){var e=function(t){return"br"===Ye(t)}
var n=function(t){return $(t,(function(t){return e(t)||en(t)&&0===Oo(t).trim().length}))}
var r=function(t){return"li"===Ye(t)||Bn(t,gd).isSome()}
var o=function(t){return dn(t).map((function(t){if(md(t))return true
if(hd(t))return"img"!==Ye(t)
return false})).getOr(false)}
var a=function(t){return Cu(t).bind((function(n){var a=o(n)
return sn(n).map((function(o){return true===a||r(o)||e(n)||md(o)&&!he(t,o)?[]:[ve.fromTag("br")]}))})).getOr([])}
var i=function(){var e=G(t,(function(t){var e=mn(t)
return n(e)?[]:e.concat(a(t))}))
return 0===e.length?[ve.fromTag("br")]:e}
var u=i()
yo(t[0])
bo(t[0],u)}
var bd=function(t){var e=pr(t)
0===e.length&&wo(t)}
var yd=function(t,e){return{grid:t,cursor:e}}
var wd=function(t,e,n){var r=Hr(t).rows
return xd(r,e,n).orThunk((function(){return xd(r,0,0)}))}
var xd=function(t,e,n){return _.from(t[e]).bind((function(t){return _.from(t.cells[n]).bind((function(t){return _.from(t.element)}))}))}
var Cd=function(t,e,n){var r=Hr(t).rows
return yd(t,xd(r,e,n))}
var Sd=function(t){var e=function(t,e){var n=R(t,(function(t){return t.row===e.row}))
return n?t:t.concat([e])}
return F(t,e,[]).sort((function(t,e){return t.row-e.row}))}
var Od=function(t,e,n,r){var o=e[0].row
var a=Sd(e)
var i=V(a,(function(t,e){var a=Gf(t.grid,o,e.row+t.delta,n,r.getOrInit)
return{grid:a,delta:t.delta+1}}),{grid:t,delta:0}).grid
return Cd(i,o,e[0].column)}
var kd=function(t,e,n,r){var o=Sd(e)
var a=o[o.length-1]
var i=a.row+a.rowspan
var u=V(o,(function(t,e){return Gf(t,i,e.row,n,r.getOrInit)}),t)
return Cd(u,i,e[0].column)}
var Td=function(t,e,n,r){var o=e.details
var a=nd(o)
var i=a[0].column
var u=V(a,(function(t,e){var o=Xf(t.grid,i,e.column+t.delta,n,r.getOrInit)
return{grid:o,delta:t.delta+1}}),{grid:t,delta:0}).grid
return Cd(u,o[0].row,i)}
var _d=function(t,e,n,r){var o=e.details
var a=o[o.length-1]
var i=a.column+a.colspan
var u=nd(o)
var c=V(u,(function(t,e){return Xf(t,i,e.column,n,r.getOrInit)}),t)
return Cd(c,o[0].row,i)}
var zd=function(t,e,n,r){var o=ed(t,e.row,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Ed=function(t,e,n,r){var o=Sd(e)
var a=function(t,e){return ed(t,e.row,n,r.replaceOrInit)}
var i=F(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Md=function(t,e,n,r){var o=td(t,e.column,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Dd=function(t,e,n,r){var o=nd(e)
var a=function(t,e){return td(t,e.column,n,r.replaceOrInit)}
var i=F(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Ad=function(t,e,n,r){var o=ed(t,e.row,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Rd=function(t,e,n,r){var o=Sd(e)
var a=function(t,e){return ed(t,e.row,n,r.replaceOrInit)}
var i=F(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Hd=function(t,e,n,r){var o=td(t,e.column,n,r.replaceOrInit)
return Cd(o,e.row,e.column)}
var Bd=function(t,e,n,r){var o=nd(e)
var a=function(t,e){return td(t,e.column,n,r.replaceOrInit)}
var i=F(o,a,t)
return Cd(i,e[0].row,e[0].column)}
var Id=function(t,e,n,r){var o=nd(e.details)
var a=Kf(t,B(o,(function(t){return t.column})))
var i=wd(a,o[0].row,o[0].column)
return yd(a,i)}
var Ld=function(t,e,n,r){var o=Sd(e)
var a=Yf(t,o[0].row,o[o.length-1].row)
var i=wd(a,e[0].row,e[0].column)
return yd(a,i)}
var Pd=function(t,e,n,r){var o=e.cells
pd(o)
var a=Cf(t,e.bounds,n,r.merge(o))
return yd(a,_.from(o[0]))}
var Nd=function(t,e,n,r){var o=function(t,e){return Sf(t,e,n,r.unmerge(e))}
var a=V(e,o,t)
return yd(a,_.from(e[0]))}
var Vd=function(t,e,n,r){var o=function(t,e){var n=Kr.fromTable(t)
return nf(n,e,true)}
var a=o(e.clipboard,e.generators)
var i=Ne(e.row,e.column)
var u=Uf(i,t,a,e.generators,n)
return u.fold((function(){return yd(t,_.some(e.element))}),(function(t){var n=wd(t,e.row,e.column)
return yd(t,n)}))}
var Fd=function(t,e,n){var r=kr(t,n.section)
var o=Kr.generate(r)
return nf(o,e,true)}
var jd=function(t,e,n,r){var o=Hr(t).rows
var a=e.cells[0].column
var i=o[e.cells[0].row]
var u=Fd(e.clipboard,e.generators,i)
var c=Wf(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Ud=function(t,e,n,r){var o=Hr(t).rows
var a=e.cells[e.cells.length-1].column+e.cells[e.cells.length-1].colspan
var i=o[e.cells[0].row]
var u=Fd(e.clipboard,e.generators,i)
var c=Wf(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Wd=function(t,e,n,r){var o=Hr(t).rows
var a=e.cells[0].row
var i=o[a]
var u=Fd(e.clipboard,e.generators,i)
var c=qf(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var qd=function(t,e,n,r){var o=Hr(t).rows
var a=e.cells[e.cells.length-1].row+e.cells[e.cells.length-1].rowspan
var i=o[e.cells[0].row]
var u=Fd(e.clipboard,e.generators,i)
var c=qf(a,t,u,e.generators,n)
var s=wd(c,e.cells[0].row,e.cells[0].column)
return yd(c,s)}
var Gd=function(t,e){var n=Kr.fromTable(t)
var r=gf(n,e)
return r.bind((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=q(B(n.all,(function(t){return N(t.cells,(function(t){return t.column>=r&&t.column<o}))})))
return $d(a,(function(t){return"th"===Ye(t.element)}))})).getOr("")}
var $d=function(t,e){var n=N(t,e)
return 0===n.length?_.some("td"):n.length===t.length?_.some("th"):_.none()}
var Xd=Mc
var Kd=Ec
var Yd=function(t,e){return R(e,(function(t){return 0===t.column&&t.isLocked}))}
var Jd=function(t,e){return R(e,(function(e){return e.column+e.colspan>=t.grid.columns&&e.isLocked}))}
var Zd=function(t,e){var n=pa(t)
var r=nd(e)
return F(r,(function(t,e){var r=n[e.column]
var o=r.map(ha).getOr(0)
return t+o}),0)}
var Qd=function(t){return function(e,n){return gf(e,n).filter((function(n){var r=t?Yd:Jd
return!r(e,n)})).map((function(t){return{details:t,pixelDelta:Zd(e,t)}}))}}
var tm=function(t,e){return pf(t,e).map((function(e){return{details:e,pixelDelta:-Zd(t,e)}}))}
var em=function(t){return function(e,n){return ff(e,n).filter((function(n){var r=t?Yd:Jd
return!r(e,n.cells)}))}}
var nm=sf(Od,gf,d,d,cd.modification)
var rm=sf(kd,gf,d,d,cd.modification)
var om=sf(Td,Qd(true),Kd,d,cd.modification)
var am=sf(_d,Qd(false),Kd,d,cd.modification)
var im=sf(Id,tm,Kd,bd,cd.modification)
var um=sf(Ld,gf,d,bd,cd.modification)
sf(Md,hf,d,d,cd.transform("row","th"))
var cm=sf(Dd,pf,d,d,cd.transform("row","th"))
sf(Hd,hf,d,d,cd.transform(null,"td"))
var sm=sf(Bd,pf,d,d,cd.transform(null,"td"))
sf(zd,lf,d,d,cd.transform("col","th"))
sf(Ed,gf,d,d,cd.transform("col","th"))
sf(Ad,lf,d,d,cd.transform(null,"td"))
sf(Rd,gf,d,d,cd.transform(null,"td"))
var lm=sf(Pd,wf,Xd,d,cd.merging)
var vm=sf(Nd,xf,Xd,d,cd.merging)
var fm=sf(Vd,vf,Xd,d,cd.modification)
var dm=sf(jd,em(true),d,d,cd.modification)
var mm=sf(Ud,em(false),d,d,cd.modification)
var gm=sf(Wd,ff,d,d,cd.modification)
var hm=sf(qd,ff,d,d,cd.modification)
var pm=Gd
var bm=function(t){return Lu(t.parentNode)}
var ym=function(t){return"thead"===t?"header":"tfoot"===t?"footer":"body"}
var wm=function(t,e){var n="thead"===bm(e)
var r=!R(e.cells,(function(t){return"th"!==Lu(t)}))
return n||r?_.some({thead:n,ths:r}):_.none()}
var xm=function(t,e){return ym(wm(t,e).fold((function(){return bm(e)}),(function(t){return"thead"})))}
var Cm=function(t,e,n){var r=t.getParent(e,"table")
var o=e.parentNode
var a=Lu(o)
if(n!==a){var i=t.select(n,r)[0]
if(!i){i=t.create(n)
var u=r.firstChild
"thead"===n?tt(An(ve.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(i,u)}),(function(e){return t.insertAfter(i,e.dom)})):r.appendChild(i)}"tbody"===n&&"thead"===a&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e)
o.hasChildNodes()||t.remove(o)}}
var Sm=function(t,e,n){if(l(n)&&Lu(e)!==n){var r=t.dom.rename(e,n)
Pl(t,r)
return r}return e}
var Om=function(t,e,n,r){var o=t.dom
var a=Sm(t,e,n)
c(r)||o.setAttrib(a,"scope",r)
return a}
var km=function(t,e,n,r){return I(e,(function(e){return Om(t,e,n,r)}))}
var Tm=function(t,e,n){var r=function(){var n=yr(ve.fromDom(e.cells[0])).map((function(t){return wr(t)})).getOr([])
return et(n,(function(e){return wm(t,e.dom)})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")}
var o=t.dom
if("header"===n){var a=pv(t)
var i="auto"===a?r():a
km(t,e.cells,"section"===i?"td":"th","col")
Cm(o,e,"cells"===i?"tbody":"thead")}else{km(t,e.cells,"td",null)
Cm(o,e,"footer"===n?"tfoot":"tbody")}}
var _m=function(t){return yr(t).bind((function(t){return $o(t,ic.firstSelectedSelector)})).fold((function(){return t}),(function(t){return t[0]}))}
var zm=function(t){return function(e,n){var r=Ye(e)
var o="col"===r||"colgroup"===r?_m(e):e
return jn(o,t,n)}}
var Em=zm("th,td")
var Mm=zm("th,td,caption")
var Dm=function(t,e,n){return Em(t,n).map((function(t){return Ku(e)})).getOr([])}
var Am=function(t,e){var n=Em(t)
var r=n.bind((function(t){return yr(t)})).map((function(t){return wr(t)}))
return la(n,r,(function(t,n){return N(n,(function(n){return R(Iu(n.dom.cells),(function(n){return"1"===Gn(n,e)||he(n,t)}))}))})).getOr([])}
var Rm=function(t,e,n){var r=function(t){return"table"===Ye(Pu(t))}
var o=function(e){return false===r(t)||vs(e).rows>1}
var a=function(e){return false===r(t)||vs(e).columns>1}
var i=xv(t)
var u=wv(t)?d:qv
var c=function(e,n,r,o,a){return function(u,c){Wu(u)
var s=o()
var l=ve.fromDom(t.getDoc())
var v=Ru(r,l,i)
var f=Sv(t,u)
var d=wv(t)?Ic():Lc()
return n(u)?e(s,u,c,v,f,d).bind((function(e){I(e.newRows,(function(e){Ll(t,e.dom)}))
I(e.newCells,(function(e){Pl(t,e.dom)}))
return e.cursor.map((function(e){var n=Wv(e)
var r=t.dom.createRng()
r.setStart(n.element.dom,n.offset)
r.setEnd(n.element.dom,n.offset)
return{rng:r,effect:a}}))})):_.none()}}
var s=c(um,o,d,e,ql)
var l=c(im,a,d,e,ql)
var v=c(nm,C,d,e,ql)
var f=c(rm,C,d,e,ql)
var m=c(om,C,u,e,ql)
var g=c(am,C,u,e,ql)
var h=c(lm,C,d,e,ql)
var p=c(vm,C,d,e,ql)
var b=c(dm,C,d,e,ql)
var y=c(mm,C,d,e,ql)
var w=c(gm,C,d,e,ql)
var x=c(hm,C,d,e,ql)
var S=c(fm,C,d,e,ql)
var O=function(t,e){return Ae(t,"type").filter((function(t){return A(e,t)}))}
var k=function(t,e){return O(e,["td","th"]).each((function(e){var r=B(Dm(Xu(t),n),(function(t){return t.dom}))
km(t,r,e,null)}))}
var T=function(t,e){return O(e,["header","body","footer"]).each((function(e){B(Am(Xu(t),ic.selected),(function(n){return Tm(t,n.dom,e)}))}))}
var z=c(cm,C,d,e,ql)
var E=c(sm,C,d,e,ql)
var M=function(t){var e=Am(Xu(t),ic.selected)
if(e.length>0){var n=B(e,(function(e){return xm(t,e.dom)}))
var r=A(n,"header")
var o=A(n,"footer")
if(r||o){var a=A(n,"body")
return!r||a||o?r||a||!o?"":"footer":"header"}return"body"}}
var D=function(t){return $d(Dm(Xu(t),n),(function(t){return"th"===Ye(t)})).getOr("")}
var R=pm
return{deleteRow:s,deleteColumn:l,insertRowsBefore:v,insertRowsAfter:f,insertColumnsBefore:m,insertColumnsAfter:g,mergeCells:h,unmergeCells:p,pasteColsBefore:b,pasteColsAfter:y,pasteRowsBefore:w,pasteRowsAfter:x,pasteCells:S,setTableCellType:k,setTableRowType:T,makeColumnsHeader:z,unmakeColumnsHeader:E,getTableRowType:M,getTableCellType:D,getTableColType:R}}
var Hm={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:false}
var Bm=function(){return ve.fromTag("th")}
var Im=function(){return ve.fromTag("td")}
var Lm=function(){return ve.fromTag("col")}
var Pm=function(t,e,n,r){var o=ve.fromTag("tr")
for(var a=0;a<t;a++){var i=r<e||a<n?Bm():Im()
a<n&&Wn(i,"scope","row")
r<e&&Wn(i,"scope","col")
mo(i,ve.fromTag("br"))
mo(o,i)}return o}
var Nm=function(t){var e=ve.fromTag("colgroup")
H(t,(function(){return mo(e,Lm())}))
return e}
var Vm=function(t,e,n,r){return H(t,(function(t){return Pm(e,n,r,t)}))}
var Fm=function(t,e,n,r,o,a){void 0===a&&(a=Hm)
var i=ve.fromTag("table")
var u="cells"!==o
tr(i,a.styles)
qn(i,a.attributes)
a.colGroups&&mo(i,Nm(e))
var c=Math.min(t,n)
if(u&&n>0){var s=ve.fromTag("thead")
mo(i,s)
var l="sectionCells"===o?c:0
var v=Vm(n,e,l,r)
bo(s,v)}var f=ve.fromTag("tbody")
mo(i,f)
var d=u?t-c:t
var m=u?0:n
var g=Vm(d,e,m,r)
bo(f,g)
return i}
var jm=function(t){return t.dom.innerHTML}
var Um=function(t){var e=ve.fromTag("div")
var n=ve.fromDom(t.dom.cloneNode(true))
mo(e,n)
return jm(e)}
var Wm=function(t,e){t.selection.select(e.dom,true)
t.selection.collapse(true)}
var qm=function(t,e){Fn(e,"td,th").each(b(Wm,t))}
var Gm=function(t,e){I(Rn(e,"tr"),(function(e){Ll(t,e.dom)
I(Rn(e,"th,td"),(function(e){Pl(t,e.dom)}))}))}
var $m=function(t){return o(t)&&-1!==t.indexOf("%")}
var Xm=function(t,e,n,r,o){var a=tv(t)
var i={styles:a,attributes:Ql(t),colGroups:hv(t)}
t.undoManager.ignore((function(){var a=Fm(n,e,o,r,pv(t),i)
Wn(a,"data-mce-id","__mce")
var u=Um(a)
t.insertContent(u)
t.addVisual()}))
return Fn(Pu(t),'table[data-mce-id="__mce"]').map((function(e){dv(t)?Ev(t,e):mv(t)?Mv(e):(fv(t)||$m(a.width))&&zv(t,e)
Wu(e)
Xn(e,"data-mce-id")
Gm(t,e)
qm(t,e)
return e.dom})).getOr(null)}
var Km=function(t,e,n,r,o){void 0===r&&(r={})
var a=function(t){return f(t)&&t>0}
if(a(e)&&a(n)){var i=r.headerRows||0
var u=r.headerColumns||0
return Xm(t,n,e,u,i)}console.error(o)
return null}
var Ym=function(t){return function(){return t().fold((function(){return[]}),(function(t){return B(t,(function(t){return t.dom}))}))}}
var Jm=function(t){return function(e){var n=e.length>0?_.some(Iu(e)):_.none()
t(n)}}
var Zm=function(t){return function(e,n,r){void 0===r&&(r={})
var o=Km(t,n,e,r,"Invalid values for insertTable - rows and columns values are required to insert a table.")
t.undoManager.add()
return o}}
var Qm=function(t,e,n,r){return{insertTable:Zm(t),setClipboardRows:Jm(e.setRows),getClipboardRows:Ym(e.getRows),setClipboardCols:Jm(e.setColumns),getClipboardCols:Ym(e.getColumns),resizeHandler:n,selectionTargets:r}}
var tg=function(t,e,n){var r=ir(t,e,1)
1===n||r<=1?Xn(t,e):Wn(t,e,Math.min(n,r))}
var eg=function(t,e,n){if(Kr.hasColumns(t)){var r=N(Kr.justColumns(t),(function(t){return t.column>=e&&t.column<n}))
var o=B(r,(function(t){var r=ia(t.element)
tg(r,"span",n-e)
return r}))
var a=ve.fromTag("colgroup")
bo(a,o)
return[a]}return[]}
var ng=function(t,e,n){return B(t.all,(function(t){var r=N(t.cells,(function(t){return t.column>=e&&t.column<n}))
var o=B(r,(function(t){var r=ia(t.element)
tg(r,"colspan",n-e)
return r}))
var a=ve.fromTag("tr")
bo(a,o)
return a}))}
var rg=function(t,e){var n=Kr.fromTable(t)
var r=pf(n,e)
return r.map((function(t){var e=t[t.length-1]
var r=t[0].column
var o=e.column+e.colspan
var a=eg(n,r,o)
var i=ng(n,r,o)
return rt(a,i)}))}
var og=function(t,e,n){var r=Kr.fromTable(t)
var o=gf(r,e)
return o.bind((function(t){var e=nf(r,n,false)
var o=Hr(e).rows
var a=o.slice(t[0].row,t[t.length-1].row+t[t.length-1].rowspan)
var i=G(a,(function(t){var e=N(t.cells,(function(t){return!t.isLocked}))
return e.length>0?[nt(nt({},t),{cells:e})]:[]}))
var u=af(i,n)
return fa(u.length>0,u)})).map((function(t){return Yv(t)}))}
var ag=tinymce.util.Tools.resolve("tinymce.util.Tools")
var ig=function(t,e,n){var r=t.select("td,th",e)
var o
var a=function(e,r){for(var o=0;o<r.length;o++){var a=t.getStyle(r[o],n)
"undefined"===typeof e&&(e=a)
if(e!==a)return""}return e}
return a(o,r)}
var ug=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)}
var cg=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)}
var sg=function(t,e){ag.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))}
var lg=function(t,e){ag.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))}
var vg=function(t){return He(t,"menu")}
var fg=function(t,e){var n=function(t,e){return e.concat(B(t,(function(t){var e=t.text||t.title
return vg(t)?{text:e,items:fg(t.menu)}:{text:e,value:t.value}})))}
return n(t,e||[])}
var dg=function(t){return function(e){return bt(e,"rgb")?t.toHex(e):e}}
var mg=function(t,e){var n=ve.fromDom(e)
return{borderwidth:rr(n,"border-width").getOr(""),borderstyle:rr(n,"border-style").getOr(""),bordercolor:rr(n,"border-color").map(dg(t)).getOr(""),backgroundcolor:rr(n,"background-color").map(dg(t)).getOr("")}}
var gg=function(t){var e=t[0]
var n=t.slice(1)
I(n,(function(t){I(xe(e),(function(n){Se(t,(function(t,r){var o=e[n]
""!==o&&n===r&&o!==t&&(e[n]="")}))}))}))
return e}
var hg=function(t){var e=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}]
var n={name:"borderwidth",type:"input",label:"Border width"}
var r="cell"===t?[n].concat(e):e
return{title:"Advanced",name:"advanced",items:r}}
var pg=function(t,e,n,r){return U(t,(function(t){return n.formatter.matchNode(r,e+t)})).getOr("")}
var bg=b(pg,["left","center","right"],"align")
var yg=b(pg,["top","middle","bottom"],"valign")
var wg=function(t,e){var n=tv(t)
var r=Ql(t)
var o=function(t){return{borderstyle:Ae(n,"border-style").getOr(""),bordercolor:dg(t)(Ae(n,"border-color").getOr("")),backgroundcolor:dg(t)(Ae(n,"background-color").getOr(""))}}
var a={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:false,class:"",align:"",border:""}
var i=function(){var e=n["border-width"]
if(cv(t)&&e)return{border:e}
return Ae(r,"border").fold((function(){return{}}),(function(t){return{border:t}}))}
var u=e?o(t.dom):{}
var c=function(){var t=Ae(n,"border-spacing").or(Ae(r,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}}))
var e=Ae(n,"border-padding").or(Ae(r,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}}))
return nt(nt({},t),e)}
var s=nt(nt(nt(nt(nt(nt({},a),n),r),u),i()),c())
return s}
var xg=function(t,e,n){var r=function(e,n){var r=rr(ve.fromDom(n),"border-width")
if(cv(t)&&r.isSome())return r.getOr("")
return e.getAttrib(n,"border")||ig(t.dom,n,"border-width")||ig(t.dom,n,"border")}
var o=t.dom
return nt({width:o.getStyle(e,"width")||o.getAttrib(e,"width"),height:o.getStyle(e,"height")||o.getAttrib(e,"height"),cellspacing:o.getStyle(e,"border-spacing")||o.getAttrib(e,"cellspacing"),cellpadding:o.getAttrib(e,"cellpadding")||ig(t.dom,e,"padding"),border:r(o,e),caption:!!o.select("caption",e)[0],class:o.getAttrib(e,"class",""),align:bg(t,e)},n?mg(o,e):{})}
var Cg=function(t,e,n){var r=t.dom
return nt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),class:r.getAttrib(e,"class",""),type:xm(t,e),align:bg(t,e)},n?mg(r,e):{})}
var Sg=function(t,e,n,r){var o=t.dom
var a=r.getOr(e)
var i=function(t,e){return o.getStyle(t,e)||o.getAttrib(t,e)}
return nt({width:i(a,"width"),height:i(e,"height"),scope:o.getAttrib(e,"scope"),celltype:Lu(e),class:o.getAttrib(e,"class",""),halign:bg(t,e),valign:yg(t,e)},n?mg(o,e):{})}
var Og=function(t){var e=fg(sv(t))
if(e.length>0)return _.some({name:"class",type:"listbox",label:"Class",items:e})
return _.none()}
var kg=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]
var Tg=function(t){return kg.concat(Og(t).toArray())}
var _g=function(t){return function(e,n){var r=e.dom
var o=function(e,o){t&&!o||r.setAttrib(n,e,o)}
var a=function(e,o){t&&!o||r.setStyle(n,e,o)}
var i=function(r,o){t&&!o||(""===o?e.formatter.remove(r,{value:null},n,true):e.formatter.apply(r,{value:o},n))}
return{setAttrib:o,setStyle:a,setFormat:i}}}
var zg={normal:_g(false),ifTruthy:_g(true)}
var Eg=function(t){return yr(t[0]).map((function(e){var n=Kr.fromTable(e)
var r=Kr.justCells(n)
var o=N(r,(function(e){return R(t,(function(t){return he(e.element,t)}))}))
return B(o,(function(t){return{element:t.element.dom,column:Kr.getColumnAt(n,t.column).map((function(t){return t.element.dom}))}}))}))}
var Mg=function(t,e,n){t.setAttrib("scope",n.scope)
t.setAttrib("class",n.class)
t.setStyle("height",Uu(n.height))
e.setStyle("width",Uu(n.width))}
var Dg=function(t,e){t.setFormat("tablecellbackgroundcolor",e.backgroundcolor)
t.setFormat("tablecellbordercolor",e.bordercolor)
t.setFormat("tablecellborderstyle",e.borderstyle)
t.setFormat("tablecellborderwidth",Uu(e.borderwidth))}
var Ag=function(t,e,n,r){var o=1===e.length
var a=ze(r,(function(t,e){return n[e]!==t}))
if(De(a)>0&&e.length>=1){var i=yr(e[0])
Eg(e).each((function(e){I(e,(function(e){var n=Om(t,e.element,r.celltype)
var a=o?zg.normal(t,n):zg.ifTruthy(t,n)
var i=e.column.map((function(e){return o?zg.normal(t,e):zg.ifTruthy(t,e)})).getOr(a)
Mg(a,i,r)
rv(t)&&Dg(a,r)
if(o){sg(t,n)
lg(t,n)}r.halign&&ug(t,n,r.halign)
r.valign&&cg(t,n,r.valign)}))}))
var u=De(ze(a,(function(t,e){return"scope"!==e&&"celltype"!==e})))>0
i.each((function(e){return Ul(t,e.dom,{structure:Re(a,"celltype"),style:u})}))}}
var Rg=function(t,e,n,r){var o=r.getData()
r.close()
t.undoManager.transact((function(){Ag(t,e,n,o)
t.focus()}))}
var Hg=function(t,e){var n=Eg(e).map((function(e){return B(e,(function(e){return Sg(t,e.element,rv(t),e.column)}))}))
return gg(n.getOrDie())}
var Bg=function(t,e){var n=Dm(Xu(t),e)
if(0===n.length)return
var r=Hg(t,n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Tg(t)},hg("cell")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:Tg(t)}]}
t.windowManager.open({title:"Cell Properties",size:"normal",body:rv(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(Rg,t,n,r)})}
var Ig=function(t){var e=fg(lv(t))
if(e.length>0)return _.some({name:"class",type:"listbox",label:"Class",items:e})
return _.none()}
var Lg=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}]
var Pg=function(t){return Lg.concat(Ig(t).toArray())}
var Ng=function(t,e){t.setAttrib("class",e.class)
t.setStyle("height",Uu(e.height))}
var Vg=function(t,e){t.setStyle("background-color",e.backgroundcolor)
t.setStyle("border-color",e.bordercolor)
t.setStyle("border-style",e.borderstyle)}
var Fg=function(t,e,n,r){var o=1===e.length
var a=ze(r,(function(t,e){return n[e]!==t}))
if(De(a)>0){I(e,(function(e){r.type!==Lu(e.parentNode)&&Tm(t,e,r.type)
var a=o?zg.normal(t,e):zg.ifTruthy(t,e)
Ng(a,r)
ov(t)&&Vg(a,r)
if(r.align!==n.align){sg(t,e)
ug(t,e,r.align)}}))
var i=Re(a,"type")
var u=!i||De(a)>1
yr(ve.fromDom(e[0])).each((function(e){return Ul(t,e.dom,{structure:i,style:u})}))}}
var jg=function(t,e,n,r){var o=r.getData()
r.close()
t.undoManager.transact((function(){Fg(t,e,n,o)
t.focus()}))}
var Ug=function(t){var e=Am(Xu(t),ic.selected)
if(0===e.length)return
var n=B(e,(function(e){return Cg(t,e.dom,ov(t))}))
var r=gg(n)
var o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Pg(t)},hg("row")]}
var a={type:"panel",items:[{type:"grid",columns:2,items:Pg(t)}]}
t.windowManager.open({title:"Row Properties",size:"normal",body:ov(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:r,onSubmit:b(jg,t,B(e,(function(t){return t.dom})),r)})}
var Wg=tinymce.util.Tools.resolve("tinymce.Env")
var qg=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[]
var o=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]
var a=iv(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]
var i=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]
var u=e.length>0?[{type:"listbox",name:"class",label:"Class",items:e}]:[]
return r.concat(o).concat(a).concat(i).concat(u)}
var Gg=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)o(n)?t.setStyle(e,n,r):t.setStyle(e,n)
else if(e.children)for(var a=0;a<e.children.length;a++)Gg(t,e.children[a],n,r)}
var $g=function(t,e,n){var r=t.dom
var o={}
var a={}
o.class=n.class
a.height=Uu(n.height)
r.getAttrib(e,"width")&&!cv(t)?o.width=ju(n.width):a.width=Uu(n.width)
if(cv(t)){a["border-width"]=Uu(n.border)
a["border-spacing"]=Uu(n.cellspacing)}else{o.border=n.border
o.cellpadding=n.cellpadding
o.cellspacing=n.cellspacing}if(cv(t)&&e.children)for(var i=0;i<e.children.length;i++){Gg(r,e.children[i],{"border-width":Uu(n.border),padding:Uu(n.cellpadding)})
av(t)&&Gg(r,e.children[i],{"border-color":n.bordercolor})}if(av(t)){a["background-color"]=n.backgroundcolor
a["border-color"]=n.bordercolor
a["border-style"]=n.borderstyle}o.style=r.serializeStyle(nt(nt({},tv(t)),a))
r.setAttribs(e,nt(nt({},Ql(t)),o))}
var Xg=function(t,e,n,r){var o=t.dom
var a
var i=r.getData()
var u=ze(i,(function(t,e){return n[e]!==t}))
r.close()
""===i.class&&delete i.class
t.undoManager.transact((function(){if(!e){var n=parseInt(i.cols,10)||1
var r=parseInt(i.rows,10)||1
e=Xm(t,n,r,0,0)}if(De(u)>0){$g(t,e,i)
a=o.select("caption",e)[0]
a&&!i.caption&&o.remove(a)
if(!a&&i.caption){a=o.create("caption")
a.innerHTML=Wg.ie?hu:'<br data-mce-bogus="1"/>'
e.insertBefore(a,e.firstChild)}""===i.align?sg(t,e):ug(t,e,i.align)}t.focus()
t.addVisual()
if(De(u)>0){var c=Re(u,"caption")
var s=!c||De(u)>1
Ul(t,e,{structure:c,style:s})}}))}
var Kg=function(t,e){var n=t.dom
var r
var o=wg(t,av(t))
if(false===e){r=n.getParent(t.selection.getStart(),"table",t.getBody())
if(r)o=xg(t,r,av(t))
else if(av(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}else{o.cols="1"
o.rows="1"
if(av(t)){o.borderstyle=""
o.bordercolor=""
o.backgroundcolor=""}}var a=fg(vv(t))
a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""))
var i={type:"grid",columns:2,items:qg(t,a,e)}
var u=function(){return{type:"panel",items:[i]}}
var c=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[i]},hg("table")]}}
var s=av(t)?c():u()
t.windowManager.open({title:"Table Properties",size:"normal",body:s,onSubmit:b(Xg,t,r,o),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:o})}
var Yg=function(t){return Mm(Xu(t),Fu(t))}
var Jg=function(t){return Em(Xu(t),Fu(t))}
var Zg=function(t,e,n,r,i){var u=Fu(t)
var c=function(){return Yg(t).each((function(e){yr(e,u).filter(y(u)).each((function(e){var n=ve.fromText("")
vo(e,n)
wo(e)
if(t.dom.isEmpty(t.getBody())){t.setContent("")
t.selection.setCursorLocation()}else{var r=t.dom.createRng()
r.setStart(n.dom,0)
r.setEnd(n.dom,0)
t.selection.setRng(r)
t.nodeChanged()}}))}))}
var s=function(e){return Yg(t).each((function(n){var r=mv(t)||dv(t)||fv(t)
r||yr(n,u).each((function(n){"relative"!==e||us(n)?"fixed"!==e||cs(n)?"responsive"!==e||ss(n)||Mv(n):Ev(t,n):zv(t,n)
Wu(n)
Ul(t,n.dom,ql)}))}))}
var l=function(t){return yr(t,u)}
var v=function(e){return function(r){t.selection.setRng(r.rng)
t.focus()
n.clear(e)
Wu(e)
Ul(t,e.dom,r.effect)}}
var f=function(e){return Jg(t).each((function(t){l(t).each((function(n){var o=cc(r,n,t)
e(n,o).each(v(n))}))}))}
var m=function(){return Jg(t).map((function(e){return l(e).bind((function(n){var o=cc(r,n,e)
var a=Ru(d,ve.fromDom(t.getDoc()),_.none())
return og(n,o,a)}))}))}
var g=function(){return Jg(t).map((function(t){return l(t).bind((function(e){var n=cc(r,e,t)
return rg(e,n)}))}))}
var h=function(e,n){return n().each((function(n){var o=B(n,(function(t){return ia(t)}))
Jg(t).each((function(n){return l(n).each((function(a){var i=Hu(ve.fromDom(t.getDoc()))
var u=lc(r,n,o,i)
e(a,u).each(v(a))}))}))}))}
Se({mceTableSplitCells:function(){return f(e.unmergeCells)},mceTableMergeCells:function(){return f(e.mergeCells)},mceTableInsertRowBefore:function(){return f(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(e.insertRowsAfter)},mceTableInsertColBefore:function(){return f(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(e.insertColumnsAfter)},mceTableDeleteCol:function(){return f(e.deleteColumn)},mceTableDeleteRow:function(){return f(e.deleteRow)},mceTableCutCol:function(t){return g().each((function(t){i.setColumns(t)
f(e.deleteColumn)}))},mceTableCutRow:function(t){return m().each((function(t){i.setRows(t)
f(e.deleteRow)}))},mceTableCopyCol:function(t){return g().each((function(t){return i.setColumns(t)}))},mceTableCopyRow:function(t){return m().each((function(t){return i.setRows(t)}))},mceTablePasteColBefore:function(t){return h(e.pasteColsBefore,i.getColumns)},mceTablePasteColAfter:function(t){return h(e.pasteColsAfter,i.getColumns)},mceTablePasteRowBefore:function(t){return h(e.pasteRowsBefore,i.getRows)},mceTablePasteRowAfter:function(t){return h(e.pasteRowsAfter,i.getRows)},mceTableDelete:c,mceTableSizingMode:function(t,e){return s(e)}},(function(e,n){return t.addCommand(n,e)}))
var p=function(t,e){e.each((function(e){Ul(t,e.dom,ql)}))}
Se({mceTableCellType:function(n,r){var o=yr(Xu(t),u)
e.setTableCellType(t,r)
p(t,o)},mceTableRowType:function(n,r){var o=yr(Xu(t),u)
e.setTableRowType(t,r)
p(t,o)}},(function(e,n){return t.addCommand(n,e)}))
t.addCommand("mceTableColType",(function(t,n){return Ae(n,"type").each((function(t){return f("th"===t?e.makeColumnsHeader:e.unmakeColumnsHeader)}))}))
Se({mceTableProps:b(Kg,t,false),mceTableRowProps:b(Ug,t),mceTableCellProps:b(Bg,t,r)},(function(e,n){return t.addCommand(n,(function(){return e()}))}))
t.addCommand("mceInsertTable",(function(e,n){a(n)&&xe(n).length>0?Km(t,n.rows,n.columns,n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Kg(t,true)}))
t.addCommand("mceTableApplyCellStyle",(function(e,n){var i=function(t){return"tablecell"+t.toLowerCase().replace("-","")}
if(!a(n))return
var c=Dm(Xu(t),r,u)
if(0===c.length)return
var s=ze(n,(function(e,n){return t.formatter.has(i(n))&&o(e)}))
if(Be(s))return
Se(s,(function(e,n){I(c,(function(r){zg.normal(t,r.dom).setFormat(i(n),e)}))}))
l(c[0]).each((function(e){return Ul(t,e.dom,Wl)}))}))}
var Qg=function(t,e,n){var r=Fu(t)
var o=function(t){return yr(t,r)}
Se({mceTableRowType:function(){return e.getTableRowType(t)},mceTableCellType:function(){return e.getTableCellType(t)},mceTableColType:function(){return Em(Xu(t)).bind((function(t){return o(t).map((function(r){var o=cc(n,r,t)
return e.getTableColType(r,o)}))})).getOr("")}},(function(e,n){return t.addQueryValueHandler(n,e)}))}
var th=function(){var t=nu(_.none())
var e=nu(_.none())
var n=function(t){t.set(_.none())}
return{getRows:t.get,setRows:function(r){t.set(r)
n(e)},clearRows:function(){return n(t)},getColumns:e.get,setColumns:function(r){e.set(r)
n(t)},clearColumns:function(){return n(e)}}}
var eh={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:true},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:true},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:true},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:true}}
var nh=function(t){t.formatter.register(eh)}
var rh=Yo.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}])
var oh=function(t){void 0===t&&(t=void 0)
return rh.none(t)}
var ah=nt(nt({},rh),{none:oh})
var ih=function(t,e){return yr(t,e).bind((function(e){var n=pr(e)
var r=W(n,(function(e){return he(t,e)}))
return r.map((function(t){return{index:t,all:n}}))}))}
var uh=function(t,e){var n=ih(t,e)
return n.fold((function(){return ah.none(t)}),(function(e){return e.index+1<e.all.length?ah.middle(t,e.all[e.index+1]):ah.last(t)}))}
var ch=function(t,e){var n=ih(t,e)
return n.fold((function(){return ah.none()}),(function(e){return e.index-1>=0?ah.middle(t,e.all[e.index-1]):ah.first(t)}))}
var sh=function(t,e,n,r){return{start:t,soffset:e,finish:n,foffset:r}}
var lh={create:sh}
var vh=Yo.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}])
var fh=function(t,e,n,r){return t.fold(e,n,r)}
var dh=function(t){return t.fold(p,p,p)}
var mh=vh.before
var gh=vh.on
var hh=vh.after
var ph={before:mh,on:gh,after:hh,cata:fh,getStart:dh}
var bh=Yo.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])
var yh=function(t){return bh.exact(t.start,t.soffset,t.finish,t.foffset)}
var wh=function(t){return t.match({domRange:function(t){return ve.fromDom(t.startContainer)},relative:function(t,e){return ph.getStart(t)},exact:function(t,e,n,r){return t}})}
var xh=bh.domRange
var Ch=bh.relative
var Sh=bh.exact
var Oh=function(t){var e=wh(t)
return cn(e)}
var kh=lh.create
var Th={domRange:xh,relative:Ch,exact:Sh,exactFromRange:yh,getWin:Oh,range:kh}
var _h=function(t,e){var n=t.document.createRange()
zh(n,e)
return n}
var zh=function(t,e){return t.selectNodeContents(e.dom)}
var Eh=function(t,e){e.fold((function(e){t.setStartBefore(e.dom)}),(function(e,n){t.setStart(e.dom,n)}),(function(e){t.setStartAfter(e.dom)}))}
var Mh=function(t,e){e.fold((function(e){t.setEndBefore(e.dom)}),(function(e,n){t.setEnd(e.dom,n)}),(function(e){t.setEndAfter(e.dom)}))}
var Dh=function(t,e,n){var r=t.document.createRange()
Eh(r,e)
Mh(r,n)
return r}
var Ah=function(t,e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a}
var Rh=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}
var Hh=function(t){var e=t.getClientRects()
var n=e.length>0?e[0]:t.getBoundingClientRect()
return n.width>0||n.height>0?_.some(n).map(Rh):_.none()}
var Bh=Yo.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}])
var Ih=function(t,e,n){return e(ve.fromDom(n.startContainer),n.startOffset,ve.fromDom(n.endContainer),n.endOffset)}
var Lh=function(t,e){return e.match({domRange:function(t){return{ltr:h(t),rtl:_.none}},relative:function(e,n){return{ltr:ot((function(){return Dh(t,e,n)})),rtl:ot((function(){return _.some(Dh(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:ot((function(){return Ah(t,e,n,r,o)})),rtl:ot((function(){return _.some(Ah(t,r,o,e,n))}))}}})}
var Ph=function(t,e){var n=e.ltr()
if(n.collapsed){var r=e.rtl().filter((function(t){return false===t.collapsed}))
return r.map((function(t){return Bh.rtl(ve.fromDom(t.endContainer),t.endOffset,ve.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return Ih(t,Bh.ltr,n)}))}return Ih(t,Bh.ltr,n)}
var Nh=function(t,e){var n=Lh(t,e)
return Ph(t,n)}
var Vh=function(t,e){var n=Nh(t,e)
return n.match({ltr:function(e,n,r,o){var a=t.document.createRange()
a.setStart(e.dom,n)
a.setEnd(r.dom,o)
return a},rtl:function(e,n,r,o){var a=t.document.createRange()
a.setStart(r.dom,o)
a.setEnd(e.dom,n)
return a}})}
Bh.ltr
Bh.rtl
var Fh=function(t,e,n,r,o){if(0===o)return 0
if(e===r)return o-1
var a=r
for(var i=1;i<o;i++){var u=t(i)
var c=Math.abs(e-u.left)
if(n<=u.bottom){if(n<u.top||c>a)return i-1
a=c}}return 0}
var jh=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}
var Uh=function(t,e,n,r,o){var a=function(n){var r=t.dom.createRange()
r.setStart(e.dom,n)
r.collapse(true)
return r}
var i=function(t){var e=a(t)
return e.getBoundingClientRect()}
var u=Oo(e).length
var c=Fh(i,n,r,o.right,u)
return a(c)}
var Wh=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getClientRects()
var i=et(a,(function(t){return jh(t,n,r)?_.some(t):_.none()}))
return i.map((function(o){return Uh(t,e,n,r,o)}))}
var qh=function(t,e,n,r){var o=t.dom.createRange()
var a=mn(e)
return et(a,(function(e){o.selectNode(e.dom)
return jh(o.getBoundingClientRect(),n,r)?Gh(t,e,n,r):_.none()}))}
var Gh=function(t,e,n,r){return en(e)?Wh(t,e,n,r):qh(t,e,n,r)}
var $h=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return Gh(t,e,i,u)}
var Xh=true
var Kh=false
var Yh=function(t,e){return e-t.left<t.right-e?Xh:Kh}
var Jh=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
r.collapse(n)
return r}
var Zh=function(t,e,n){var r=t.dom.createRange()
r.selectNode(e.dom)
var o=r.getBoundingClientRect()
var a=Yh(o,n)
var i=a===Xh?xu:Cu
return i(e).map((function(e){return Jh(t,e,a)}))}
var Qh=function(t,e,n){var r=e.dom.getBoundingClientRect()
var o=Yh(r,n)
return _.some(Jh(t,e,o))}
var tp=function(t,e,n){var r=0===mn(e).length?Qh:Zh
return r(t,e,n)}
var ep=function(t,e,n){return _.from(t.dom.caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return _.none()
var n=t.dom.createRange()
n.setStart(e.offsetNode,e.offset)
n.collapse()
return _.some(n)}))}
var np=function(t,e,n){return _.from(t.dom.caretRangeFromPoint(e,n))}
var rp=function(t,e,n,r){var o=t.dom.createRange()
o.selectNode(e.dom)
var a=o.getBoundingClientRect()
var i=Math.max(a.left,Math.min(a.right,n))
var u=Math.max(a.top,Math.min(a.bottom,r))
return $h(t,e,i,u)}
var op=function(t,e,n){return ve.fromPoint(t,e,n).bind((function(r){var o=function(){return tp(t,r,e)}
return 0===mn(r).length?o():rp(t,r,e,n).orThunk(o)}))}
var ap=document.caretPositionFromPoint?ep:document.caretRangeFromPoint?np:op
var ip=function(t,e,n){var r=ve.fromDom(t.document)
return ap(r,e,n).map((function(t){return lh.create(ve.fromDom(t.startContainer),t.startOffset,ve.fromDom(t.endContainer),t.endOffset)}))}
var up=function(t,e){var n=Ye(t)
return"input"===n?ph.after(t):A(["br","img"],n)?0===e?ph.before(t):ph.after(t):ph.on(t,e)}
var cp=function(t,e){var n=t.fold(ph.before,up,ph.after)
var r=e.fold(ph.before,up,ph.after)
return Th.relative(n,r)}
var sp=function(t,e,n,r){var o=up(t,e)
var a=up(n,r)
return Th.relative(o,a)}
var lp=function(t){return t.match({domRange:function(t){var e=ve.fromDom(t.startContainer)
var n=ve.fromDom(t.endContainer)
return sp(e,t.startOffset,n,t.endOffset)},relative:cp,exact:sp})}
var vp=function(t,e,n,r){var o=an(t)
var a=o.dom.createRange()
a.setStart(t.dom,e)
a.setEnd(n.dom,r)
return a}
var fp=function(t,e,n,r){var o=vp(t,e,n,r)
var a=he(t,n)&&e===r
return o.collapsed&&!a}
var dp=function(t){return _.from(t.getSelection())}
var mp=function(t,e){dp(t).each((function(t){t.removeAllRanges()
t.addRange(e)}))}
var gp=function(t,e,n,r,o){var a=Ah(t,e,n,r,o)
mp(t,a)}
var hp=function(t,e,n,r,o,a){e.collapse(n.dom,r)
e.extend(o.dom,a)}
var pp=function(t,e){return Nh(t,e).match({ltr:function(e,n,r,o){gp(t,e,n,r,o)},rtl:function(e,n,r,o){dp(t).each((function(a){if(a.setBaseAndExtent)a.setBaseAndExtent(e.dom,n,r.dom,o)
else if(a.extend)try{hp(t,a,e,n,r,o)}catch(a){gp(t,r,o,e,n)}else gp(t,r,o,e,n)}))}})}
var bp=function(t,e,n,r,o){var a=sp(e,n,r,o)
pp(t,a)}
var yp=function(t,e,n){var r=cp(e,n)
pp(t,r)}
var wp=function(t){var e=Th.getWin(t).dom
var n=function(t,n,r,o){return Ah(e,t,n,r,o)}
var r=lp(t)
return Nh(e,r).match({ltr:n,rtl:n})}
var xp=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0)
var n=t.getRangeAt(t.rangeCount-1)
return _.some(lh.create(ve.fromDom(e.startContainer),e.startOffset,ve.fromDom(n.endContainer),n.endOffset))}return _.none()}
var Cp=function(t){if(null===t.anchorNode||null===t.focusNode)return xp(t)
var e=ve.fromDom(t.anchorNode)
var n=ve.fromDom(t.focusNode)
return fp(e,t.anchorOffset,n,t.focusOffset)?_.some(lh.create(e,t.anchorOffset,n,t.focusOffset)):xp(t)}
var Sp=function(t,e){var n=_h(t,e)
mp(t,n)}
var Op=function(t){return dp(t).filter((function(t){return t.rangeCount>0})).bind(Cp)}
var kp=function(t){return Op(t).map((function(t){return Th.exact(t.start,t.soffset,t.finish,t.foffset)}))}
var Tp=function(t,e){var n=Vh(t,e)
return Hh(n)}
var _p=function(t,e,n){return ip(t,e,n)}
var zp=function(t){dp(t).each((function(t){return t.removeAllRanges()}))}
var Ep=tinymce.util.Tools.resolve("tinymce.util.VK")
var Mp=function(t,e,n){return Hp(t,e,uh(n))}
var Dp=function(t,e,n){return Hp(t,e,ch(n))}
var Ap=function(t,e){var n=Th.exact(e,0,e,0)
return wp(n)}
var Rp=function(t,e){var n=Rn(e,"tr")
return tt(n).bind((function(e){return Fn(e,"td,th").map((function(e){return Ap(t,e)}))}))}
var Hp=function(t,e,n){return n.fold(_.none,_.none,(function(e,n){return xu(n).map((function(e){return Ap(t,e)}))}),(function(n){return yr(n,e).bind((function(e){t.execCommand("mceTableInsertRowAfter")
return Rp(t,e)}))}))}
var Bp=["table","li","dl"]
var Ip=function(t,e,n){if(t.keyCode===Ep.TAB){var r=Pu(e)
var o=function(t){var e=Ye(t)
return he(t,r)||A(Bp,e)}
var a=e.selection.getRng()
var i=ve.fromDom(t.shiftKey?a.startContainer:a.endContainer)
hr(i,o).each((function(r){t.preventDefault()
yr(r,o).each(n.clear)
e.selection.collapse(t.shiftKey)
var a=t.shiftKey?Dp:Mp
var i=a(e,o,r)
i.each((function(t){e.selection.setRng(t)}))}))}}
var Lp=function(t,e){return{selection:t,kill:e}}
var Pp={create:Lp}
var Np=function(t,e,n,r){return{start:ph.on(t,e),finish:ph.on(n,r)}}
var Vp={create:Np}
var Fp=function(t,e){var n=Vh(t,e)
return lh.create(ve.fromDom(n.startContainer),n.startOffset,ve.fromDom(n.endContainer),n.endOffset)}
var jp=Vp.create
var Up=function(t,e,n,r,o,a,i){return he(n,o)&&r===a?_.none():jn(n,"td,th",e).bind((function(n){return jn(o,"td,th",e).bind((function(r){return Wp(t,e,n,r,i)}))}))}
var Wp=function(t,e,n,r,o){return he(n,r)?_.none():Fo(n,r,e).bind((function(e){var r=e.boxes.getOr([])
if(r.length>0){o(t,r,e.start,e.finish)
return _.some(Pp.create(_.some(jp(n,0,n,pu(n))),true))}return _.none()}))}
var qp=function(t,e,n,r,o){var a=function(t){o.clearBeforeUpdate(n)
o.selectRange(n,t.boxes,t.start,t.finish)
return t.boxes}
return Go(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map(a)}
var Gp=function(t,e){return{item:t,mode:e}}
var $p=function(t,e,n,r){void 0===r&&(r=Xp)
return t.property().parent(e).map((function(t){return Gp(t,r)}))}
var Xp=function(t,e,n,r){void 0===r&&(r=Kp)
return n.sibling(t,e).map((function(t){return Gp(t,r)}))}
var Kp=function(t,e,n,r){void 0===r&&(r=Kp)
var o=t.property().children(e)
var a=n.first(o)
return a.map((function(t){return Gp(t,r)}))}
var Yp=[{current:$p,next:Xp,fallback:_.none()},{current:Xp,next:Kp,fallback:_.some($p)},{current:Kp,next:Kp,fallback:_.some(Xp)}]
var Jp=function(t,e,n,r,o){void 0===o&&(o=Yp)
var a=U(o,(function(t){return t.current===n}))
return a.bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return Jp(t,e,n,r)}))}))}))}
var Zp=function(){var t=function(t,e){return t.query().prevSibling(e)}
var e=function(t){return t.length>0?_.some(t[t.length-1]):_.none()}
return{sibling:t,first:e}}
var Qp=function(){var t=function(t,e){return t.query().nextSibling(e)}
var e=function(t){return t.length>0?_.some(t[0]):_.none()}
return{sibling:t,first:e}}
var tb={left:Zp,right:Qp}
var eb=function(t,e,n,r,o,a){var i=Jp(t,e,r,o)
return i.bind((function(e){return a(e.item)?_.none():n(e.item)?_.some(e.item):eb(t,e.item,n,e.mode,o,a)}))}
var nb=function(t,e,n,r){return eb(t,e,n,Xp,tb.left(),r)}
var rb=function(t,e,n,r){return eb(t,e,n,Xp,tb.right(),r)}
var ob=function(t){return function(e){return 0===t.property().children(e).length}}
var ab=function(t,e,n){return ub(t,e,ob(t),n)}
var ib=function(t,e,n){return cb(t,e,ob(t),n)}
var ub=nb
var cb=rb
var sb=zo()
var lb=function(t,e){return ab(sb,t,e)}
var vb=function(t,e){return ib(sb,t,e)}
var fb=function(t,e,n){return ub(sb,t,e,n)}
var db=function(t,e,n){return cb(sb,t,e,n)}
var mb=function(t,e,n){return Bn(t,e,n).isSome()}
var gb=Yo.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])
var hb=function(t,e,n){var r=t.getRect(e)
var o=t.getRect(n)
return o.right>r.left&&o.left<r.right}
var pb=function(t){return jn(t,"tr")}
var bb=function(t,e,n,r,o,a,i){return jn(r,"td,th",i).bind((function(n){return jn(e,"td,th",i).map((function(e){return he(n,e)?he(r,n)&&pu(n)===o?a(e):gb.none("in same cell"):Po(pb,[n,e]).fold((function(){return hb(t,e,n)?gb.success():a(e)}),(function(t){return a(e)}))}))})).getOr(gb.none("default"))}
var yb=function(t,e,n,r,o){return t.fold(e,n,r,o)}
var wb=nt(nt({},gb),{verify:bb,cata:yb})
var xb=function(t,e,n,r){return{parent:t,children:e,element:n,index:r}}
var Cb=function(t){return sn(t).bind((function(e){var n=mn(e)
return Sb(n,t).map((function(r){return xb(e,n,t,r)}))}))}
var Sb=function(t,e){return W(t,b(he,e))}
var Ob=function(t){return"br"===Ye(t)}
var kb=function(t,e,n){return e(t,n).bind((function(t){return en(t)&&0===Oo(t).trim().length?kb(t,e,n):_.some(t)}))}
var Tb=function(t,e,n){return n.traverse(e).orThunk((function(){return kb(e,n.gather,t)})).map(n.relative)}
var _b=function(t,e){return gn(t,e).filter(Ob).orThunk((function(){return gn(t,e-1).filter(Ob)}))}
var zb=function(t,e,n,r){return _b(e,n).bind((function(e){return r.traverse(e).fold((function(){return kb(e,r.gather,t).map(r.relative)}),(function(t){return Cb(t).map((function(t){return ph.on(t.parent,t.index)}))}))}))}
var Eb=function(t,e,n,r){var o=Ob(e)?Tb(t,e,r):zb(t,e,n,r)
return o.map((function(t){return{start:t,finish:t}}))}
var Mb=function(t){return wb.cata(t,(function(t){return _.none()}),(function(){return _.none()}),(function(t){return _.some(Pv(t,0))}),(function(t){return _.some(Pv(t,pu(t)))}))}
var Db=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}}
var Ab=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}}
var Rb=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}}
var Hb=function(t){return t.top}
var Bb=function(t){return t.bottom}
var Ib=function(t,e,n){if(n>=0&&n<pu(e))return t.getRangedRect(e,n,e,n+1)
if(n>0)return t.getRangedRect(e,n-1,e,n)
return _.none()}
var Lb=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}
var Pb=function(t,e){return _.some(t.getRect(e))}
var Nb=function(t,e,n){return tn(e)?Pb(t,e).map(Lb):en(e)?Ib(t,e,n).map(Lb):_.none()}
var Vb=function(t,e){return tn(e)?Pb(t,e).map(Lb):en(e)?t.getRangedRect(e,0,e,pu(e)).map(Lb):_.none()}
var Fb=5
var jb=100
var Ub=Yo.generate([{none:[]},{retry:["caret"]}])
var Wb=function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right}
var qb=function(t,e,n){return In(e,md).fold(x,(function(e){return Vb(t,e).exists((function(t){return Wb(n,t)}))}))}
var Gb=function(t,e,n,r,o){var a=Db(o,Fb)
return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Ub.retry(a):n.top===o.bottom?Ub.retry(Db(o,1)):qb(t,e,o)?Ub.retry(Rb(a,Fb,0)):Ub.none()}
var $b=function(t,e,n,r,o){var a=Ab(o,Fb)
return Math.abs(n.top-r.top)<1||n.bottom<o.top?Ub.retry(a):n.bottom===o.top?Ub.retry(Ab(o,1)):qb(t,e,o)?Ub.retry(Rb(a,Fb,0)):Ub.none()}
var Xb={point:Hb,adjuster:$b,move:Ab,gather:lb}
var Kb={point:Bb,adjuster:Gb,move:Db,gather:vb}
var Yb=function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Ye(t)})).isSome()}
var Jb=function(t,e,n,r,o){return Zb(t,e,n,e.move(r,Fb),o)}
var Zb=function(t,e,n,r,o){if(0===o)return _.some(r)
if(Yb(t,r.left,e.point(r)))return Jb(t,e,n,r,o-1)
return t.situsFromPoint(r.left,e.point(r)).bind((function(a){return a.start.fold(_.none,(function(a){return Vb(t,a).bind((function(i){return e.adjuster(t,a,i,n,r).fold(_.none,(function(r){return Zb(t,e,n,r,o-1)}))})).orThunk((function(){return _.some(r)}))}),_.none)}))}
var Qb=function(t,e){return t.situsFromPoint(e.left,e.bottom+Fb)}
var ty=function(t,e){return t.situsFromPoint(e.left,e.top-Fb)}
var ey=function(t,e,n){return t.point(e)>n.getInnerHeight()?_.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?_.some(-t.point(e)):_.none()}
var ny=function(t,e,n){var r=t.move(n,Fb)
var o=Zb(e,t,n,r,jb).getOr(r)
return ey(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){e.scrollBy(0,n)
return e.situsFromPoint(o.left,t.point(o)-n)}))}
var ry={tryUp:b(ny,Xb),tryDown:b(ny,Kb),ieTryUp:ty,ieTryDown:Qb,getJumpSize:h(Fb)}
var oy=20
var ay=function(t,e,n){return t.getSelection().bind((function(r){return Eb(e,r.finish,r.foffset,n).fold((function(){return _.some(Pv(r.finish,r.foffset))}),(function(o){var a=t.fromSitus(o)
var i=wb.verify(t,r.finish,r.foffset,a.finish,a.foffset,n.failure,e)
return Mb(i)}))}))}
var iy=function(t,e,n,r,o,a){if(0===a)return _.none()
return sy(t,e,n,r,o).bind((function(i){var u=t.fromSitus(i)
var c=wb.verify(t,n,r,u.finish,u.foffset,o.failure,e)
return wb.cata(c,(function(){return _.none()}),(function(){return _.some(i)}),(function(i){return he(n,i)&&0===r?uy(t,n,r,Ab,o):iy(t,e,i,0,o,a-1)}),(function(i){return he(n,i)&&r===pu(i)?uy(t,n,r,Db,o):iy(t,e,i,pu(i),o,a-1)}))}))}
var uy=function(t,e,n,r,o){return Nb(t,e,n).bind((function(e){return cy(t,o,r(e,ry.getJumpSize()))}))}
var cy=function(t,e,n){var r=Zt().browser
return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?e.otherRetry(t,n):r.isIE()?e.ieRetry(t,n):_.none()}
var sy=function(t,e,n,r,o){return Nb(t,n,r).bind((function(e){return cy(t,o,e)}))}
var ly=function(t,e,n){return ay(t,e,n).bind((function(r){return iy(t,e,r.element,r.offset,n,oy).map(t.fromSitus)}))}
var vy=function(t,e){return mb(t,(function(t){return sn(t).exists((function(t){return he(t,e)}))}))}
var fy=function(t,e,n,r,o){return jn(r,"td,th",e).bind((function(r){return jn(r,"table",e).bind((function(a){if(!vy(o,a))return _.none()
return ly(t,e,n).bind((function(t){return jn(t.finish,"td,th",e).map((function(e){return{start:r,finish:e,range:t}}))}))}))}))}
var dy=function(t,e,n,r,o,a){return Zt().browser.isIE()?_.none():a(r,e).orThunk((function(){return fy(t,e,n,r,o).map((function(t){var e=t.range
return Pp.create(_.some(jp(e.start,e.soffset,e.finish,e.foffset)),true)}))}))}
var my=function(t,e){return jn(t,"tr",e).bind((function(t){return jn(t,"table",e).bind((function(n){var r=Rn(n,"tr")
return he(t,r[0])?fb(n,(function(t){return Cu(t).isSome()}),e).map((function(t){var e=pu(t)
return Pp.create(_.some(jp(t,e,t,e)),true)})):_.none()}))}))}
var gy=function(t,e){return jn(t,"tr",e).bind((function(t){return jn(t,"table",e).bind((function(n){var r=Rn(n,"tr")
return he(t,r[r.length-1])?db(n,(function(t){return xu(t).isSome()}),e).map((function(t){return Pp.create(_.some(jp(t,0,t,0)),true)})):_.none()}))}))}
var hy=function(t,e,n,r,o,a,i){return fy(t,n,r,o,a).bind((function(t){return Wp(e,n,t.start,t.finish,i)}))}
var py=function(){var t=nu(_.none())
var e=function(){return t.set(_.none())}
var n=function(e){return t.set(_.some(e))}
var r=function(){return t.get().isSome()}
var o=function(e){return t.get().each(e)}
return{clear:e,set:n,isSet:r,on:o}}
var by=function(t,e){return jn(t,"td,th",e)}
var yy=function(t,e,n,r){var o=py()
var a=o.clear
var i=function(a){o.on((function(o){r.clearBeforeUpdate(e)
by(a.target,n).each((function(a){Fo(o,a,n).each((function(n){var i=n.boxes.getOr([])
if(i.length>1||1===i.length&&!he(o,a)){r.selectRange(e,i,n.start,n.finish)
t.selectContents(a)}}))}))}))}
var u=function(t){r.clear(e)
by(t.target,n).each(o.set)}
var c=function(t){i(t)}
var s=function(t){i(t)
a()}
return{clearstate:a,mousedown:u,mouseover:c,mouseup:s}}
var wy={traverse:dn,gather:vb,relative:ph.before,otherRetry:ry.tryDown,ieRetry:ry.ieTryDown,failure:wb.failedDown}
var xy={traverse:fn,gather:lb,relative:ph.before,otherRetry:ry.tryUp,ieRetry:ry.ieTryUp,failure:wb.failedUp}
var Cy=function(t){return function(e){return e===t}}
var Sy=Cy(38)
var Oy=Cy(40)
var ky=function(t){return t>=37&&t<=40}
var Ty={isBackward:Cy(37),isForward:Cy(39)}
var _y={isBackward:Cy(39),isForward:Cy(37)}
var zy=function(t){var e=void 0!==t?t.dom:document
var n=e.body.scrollLeft||e.documentElement.scrollLeft
var r=e.body.scrollTop||e.documentElement.scrollTop
return _a(n,r)}
var Ey=function(t,e,n){var r=void 0!==n?n.dom:document
var o=r.defaultView
o&&o.scrollBy(t,e)}
var My=function(t){var e=function(e,n){return ve.fromPoint(ve.fromDom(t.document),e,n)}
var n=function(t){return t.dom.getBoundingClientRect()}
var r=function(e,n,r,o){var a=Th.exact(e,n,r,o)
return Tp(t,a)}
var o=function(){return kp(t).map((function(e){return Fp(t,e)}))}
var a=function(e){var n=Th.relative(e.start,e.finish)
return Fp(t,n)}
var i=function(e,n){return _p(t,e,n).map((function(t){return Vp.create(t.start,t.soffset,t.finish,t.foffset)}))}
var u=function(){zp(t)}
var c=function(e){void 0===e&&(e=false)
kp(t).each((function(n){return n.fold((function(t){return t.collapse(e)}),(function(n,r){var o=e?n:r
yp(t,o,o)}),(function(n,r,o,a){var i=e?n:o
var u=e?r:a
bp(t,i,u,i,u)}))}))}
var s=function(e){Sp(t,e)}
var l=function(e){bp(t,e.start,e.soffset,e.finish,e.foffset)}
var v=function(e,n){yp(t,e,n)}
var f=function(){return t.innerHeight}
var d=function(){var e=zy(ve.fromDom(t.document))
return e.top}
var m=function(e,n){Ey(e,n,ve.fromDom(t.document))}
return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:a,situsFromPoint:i,clearSelection:u,collapseSelection:c,setSelection:l,setRelativeSelection:v,selectContents:s,getInnerHeight:f,getScrollY:d,scrollBy:m}}
var Dy=function(t,e){return{rows:t,cols:e}}
var Ay=function(t,e,n,r){var o=My(t)
var a=yy(o,e,n,r)
return{clearstate:a.clearstate,mousedown:a.mousedown,mouseover:a.mouseover,mouseup:a.mouseup}}
var Ry=function(t,e,n,r){var o=My(t)
var a=function(){r.clear(e)
return _.none()}
var i=function(t,i,u,c,s,l){var v=t.raw
var f=v.which
var d=true===v.shiftKey
var m=jo(e,r.selectedSelector).fold((function(){return Oy(f)&&d?b(hy,o,e,n,wy,c,i,r.selectRange):Sy(f)&&d?b(hy,o,e,n,xy,c,i,r.selectRange):Oy(f)?b(dy,o,n,wy,c,i,gy):Sy(f)?b(dy,o,n,xy,c,i,my):_.none}),(function(t){var n=function(n){return function(){var a=et(n,(function(n){return qp(n.rows,n.cols,e,t,r)}))
return a.fold((function(){return Wo(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=Oy(f)||l.isForward(f)?ph.after:ph.before
o.setRelativeSelection(ph.on(t.first,0),n(t.table))
r.clear(e)
return Pp.create(_.none(),true)}))}),(function(t){return _.some(Pp.create(_.none(),true))}))}}
return Oy(f)&&d?n([Dy(1,0)]):Sy(f)&&d?n([Dy(-1,0)]):l.isBackward(f)&&d?n([Dy(0,-1),Dy(-1,0)]):l.isForward(f)&&d?n([Dy(0,1),Dy(1,0)]):ky(f)&&false===d?a:_.none}))
return m()}
var u=function(t,o,a,i,u){return jo(e,r.selectedSelector).fold((function(){var c=t.raw
var s=c.which
var l=true===c.shiftKey
if(false===l)return _.none()
return ky(s)?Up(e,n,o,a,i,u,r.selectRange):_.none()}),_.none)}
return{keydown:i,keyup:u}}
var Hy=function(t,e,n,r){var o=My(t)
return function(t,a){r.clearBeforeUpdate(e)
Fo(t,a,n).each((function(t){var n=t.boxes.getOr([])
r.selectRange(e,n,t.start,t.finish)
o.selectContents(a)
o.collapseSelection()}))}}
var By=function(t,e){I(e,(function(e){Ys(t,e)}))}
var Iy=function(t){return function(e){Xs(e,t)}}
var Ly=function(t){return function(e){By(e,t)}}
var Py=function(t){var e=Iy(t.selected)
var n=Ly([t.selected,t.lastSelected,t.firstSelected])
var r=function(e){var r=Rn(e,t.selectedSelector)
I(r,n)}
var o=function(n,o,a,i){r(n)
I(o,e)
Xs(a,t.firstSelected)
Xs(i,t.lastSelected)}
return{clearBeforeUpdate:r,clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var Ny=function(t,e,n){var r=function(e){Xn(e,t.selected)
Xn(e,t.firstSelected)
Xn(e,t.lastSelected)}
var o=function(e){Wn(e,t.selected,"1")}
var a=function(t){i(t)
n()}
var i=function(e){var n=Rn(e,t.selectedSelector)
I(n,r)}
var u=function(n,r,i,u){a(n)
I(r,o)
Wn(i,t.firstSelected,"1")
Wn(u,t.lastSelected,"1")
e(r,i,u)}
return{clearBeforeUpdate:i,clear:a,selectRange:u,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}}
var Vy={byClass:Py,byAttr:Ny}
var Fy=function(t,e,n){var r=t.slice(0,e[e.length-1].row+1)
var o=af(r,n)
return G(o,(function(t){var n=t.cells.slice(0,e[e.length-1].column+1)
return B(n,(function(t){return t.element}))}))}
var jy=function(t,e,n){var r=t.slice(e[0].row+e[0].rowspan-1,t.length)
var o=af(r,n)
return G(o,(function(t){var n=t.cells.slice(e[0].column+e[0].colspan-1,t.cells.length)
return B(n,(function(t){return t.element}))}))}
var Uy=function(t,e,n){var r=Kr.fromTable(t)
var o=gf(r,e)
return o.map((function(t){var e=nf(r,n,false)
var o=Fy(e,t,n)
var a=jy(e,t,n)
return{upOrLeftCells:o,downOrRightCells:a}}))}
var Wy=function(t){return false===Js(ve.fromDom(t.target),"ephox-snooker-resizer-bar")}
function qy(t,e,n){var r=function(e,r,o){n.targets().each((function(n){var a=yr(r)
a.each((function(a){var i=xv(t)
var u=Ru(d,ve.fromDom(t.getDoc()),i)
var c=Uy(a,n,u)
Fl(t,e,r,o,c)}))}))}
var o=function(){return jl(t)}
var a=Vy.byAttr(ic,r,o)
t.on("init",(function(n){var r=t.getWin()
var o=Pu(t)
var i=Fu(t)
var u=function(){var e=t.selection
var n=ve.fromDom(e.getStart())
var r=ve.fromDom(e.getEnd())
var i=Po(yr,[n,r])
i.fold((function(){return a.clear(o)}),d)}
var c=Ay(r,o,i,a)
var s=Ry(r,o,i,a)
var l=Hy(r,o,i,a)
var v=function(t){return true===t.raw.shiftKey}
t.on("TableSelectorChange",(function(t){return l(t.start,t.finish)}))
var f=function(e,n){if(!v(e))return
n.kill&&e.kill()
n.selection.each((function(e){var n=Th.relative(e.start,e.finish)
var o=Vh(r,n)
t.selection.setRng(o)}))}
var m=function(e){var n=Vs(e)
if(n.raw.shiftKey&&ky(n.raw.which)){var r=t.selection.getRng()
var o=ve.fromDom(r.startContainer)
var a=ve.fromDom(r.endContainer)
s.keyup(n,o,r.startOffset,a,r.endOffset).each((function(t){f(n,t)}))}}
var g=function(n){var r=Vs(n)
e().each((function(t){return t.hideBars()}))
var o=t.selection.getRng()
var a=ve.fromDom(o.startContainer)
var i=ve.fromDom(o.endContainer)
var u=xa(Ty,_y)(ve.fromDom(t.selection.getStart()))
s.keydown(r,a,o.startOffset,i,o.endOffset,u).each((function(t){f(r,t)}))
e().each((function(t){return t.showBars()}))}
var h=function(t){return 0===t.button}
var p=function(t){if(void 0===t.buttons)return true
if(Wg.browser.isEdge()&&0===t.buttons)return true
return 0!==(1&t.buttons)}
var b=function(t){c.clearstate()}
var y=function(t){h(t)&&Wy(t)&&c.mousedown(Vs(t))}
var w=function(t){p(t)&&Wy(t)&&c.mouseover(Vs(t))}
var x=function(t){h(t)&&Wy(t)&&c.mouseup(Vs(t))}
var C=function(){var t=nu(ve.fromDom(o))
var e=nu(0)
var n=function(n){var r=ve.fromDom(n.target)
if("td"===Ye(r)||"th"===Ye(r)){var o=t.get()
var a=e.get()
if(he(o,r)&&n.timeStamp-a<300){n.preventDefault()
l(r,r)}}t.set(r)
e.set(n.timeStamp)}
return{touchEnd:n}}
var S=C()
t.on("dragstart",b)
t.on("mousedown",y)
t.on("mouseover",w)
t.on("mouseup",x)
t.on("touchend",S.touchEnd)
t.on("keyup",m)
t.on("keydown",g)
t.on("NodeChange",u)}))
return{clear:a.clear}}var Gy=function(t,e){var n=nu(_.none())
var r=nu([])
var o=_.none()
var a=on("caption")
var i=function(t){return o.forall((function(e){return!e[t]}))}
var u=function(){return Mm(Xu(t),Fu(t)).bind((function(t){var n=yr(t)
return n.map((function(n){return a(t)?uc(t):cc(e,n,t)}))}))}
var c=function(t){var e=yr(t.element)
return e.map((function(e){var n=Kr.fromTable(e)
var r=gf(n,t).getOr([])
var o=F(r,(function(t,e){if(e.isLocked){t.onAny=true
0===e.column?t.onFirst=true:e.column+e.colspan>=n.grid.columns&&(t.onLast=true)}return t}),{onAny:false,onFirst:false,onLast:false})
return{mergeable:wf(n,t).isSome(),unmergeable:xf(n,t).isSome(),locked:o}}))}
var s=function(){n.set(ot(u)())
o=n.get().bind(c)
I(r.get(),(function(t){return t()}))}
var l=function(t,e){var o=function(){return n.get().fold((function(){t.setDisabled(true)}),(function(n){t.setDisabled(e(n))}))}
o()
r.set(r.get().concat([o]))
return function(){r.set(N(r.get(),(function(t){return t!==o})))}}
var v=function(t){return o.exists((function(e){return e.locked[t]}))}
var f=function(t){return l(t,(function(t){return false}))}
var d=function(t){return l(t,(function(t){return a(t.element)}))}
var m=function(t){return function(e){return l(e,(function(e){return a(e.element)||v(t)}))}}
var g=function(t){return function(e){return l(e,(function(e){return a(e.element)||t().isNone()}))}}
var h=function(t,e){return function(n){return l(n,(function(n){return a(n.element)||t().isNone()||v(e)}))}}
var p=function(t){return l(t,(function(t){return i("mergeable")}))}
var b=function(t){return l(t,(function(t){return i("unmergeable")}))}
t.on("NodeChange ExecCommand TableSelectorChange",s)
return{onSetupTable:f,onSetupCellOrRow:d,onSetupColumn:m,onSetupPasteable:g,onSetupPasteableColumn:h,onSetupMergeable:p,onSetupUnmergeable:b,resetTargets:s,targets:function(){return n.get()}}}
var $y=function(t,e,n){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}})
var r=function(e){return function(){return t.execCommand(e)}}
t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable})
t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable})
t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable})
t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupColumn("onFirst")})
t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupColumn("onLast")})
t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onFirst")})
t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onLast")})
t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}
var Xy=function(t){var e=function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)}
var n=gv(t)
n.length>0&&t.ui.registry.addContextToolbar("table",{predicate:e,items:n,scope:"node",position:"node"})}
var Ky=function(t,e,n){var r=function(e){return function(){return t.execCommand(e)}}
var o=function(e){t.execCommand("mceInsertTable",false,{rows:e.numRows,columns:e.numColumns})}
var a={text:"Table properties",onSetup:e.onSetupTable,onAction:r("mceTableProps")}
var i={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:r("mceTableDelete")}
t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)})
t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)})
var u={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}
t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:e.onSetupColumn("onFirst")})
t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:e.onSetupColumn("onLast")})
t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupColumn("onAny")})
t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onFirst")})
t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteableColumn(n.getColumns,"onLast")})
var c={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}}
t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:e.onSetupCellOrRow})
t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:e.onSetupMergeable})
t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:e.onSetupUnmergeable})
var s={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}
false===uv(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}})
t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")})
t.ui.registry.addMenuItem("tableprops",a)
t.ui.registry.addMenuItem("deletetable",i)
t.ui.registry.addNestedMenuItem("row",u)
t.ui.registry.addNestedMenuItem("column",c)
t.ui.registry.addNestedMenuItem("cell",s)
t.ui.registry.addContextMenu("table",{update:function(){e.resetTargets()
return e.targets().fold((function(){return""}),(function(t){return"caption"===Ye(t.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}
var Yy=function(t){var e=na((function(){return Pu(t)}),(function(){return Mm(Xu(t))}),ic.selectedSelector)
var n=Gy(t,e)
var r=Lv(t)
var o=qy(t,r.lazyResize,n)
var a=Rm(t,r.lazyWire,e)
var i=th()
Zg(t,a,o,e,i)
Qg(t,a,e)
mc(t,e,a,o)
Ky(t,n,i)
$y(t,n,i)
Xy(t)
t.on("PreInit",(function(){t.serializer.addTempAttr(ic.firstSelected)
t.serializer.addTempAttr(ic.lastSelected)
nh(t)}))
nv(t)&&t.on("keydown",(function(e){Ip(e,t,o)}))
t.on("remove",(function(){r.destroy()}))
return Qm(t,i,r,n)}
function Jy(){ra.add("table",Yy)}Jy()})()},YTLx:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.VK")
var n=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var r=function(t){return function(e){return n(e)===t}}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return function(e){return t===e}}
var i=r("string")
var u=r("array")
var c=a(null)
var s=o("boolean")
var l=o("function")
var v=function(t){var e=t.getParam("link_assume_external_targets",false)
if(s(e)&&e)return 1
if(i(e)&&("http"===e||"https"===e))return e
return 0}
var f=function(t){return t.getParam("link_context_toolbar",false,"boolean")}
var d=function(t){return t.getParam("link_list")}
var m=function(t){return t.getParam("default_link_target")}
var g=function(t){return t.getParam("target_list",true)}
var h=function(t){return t.getParam("rel_list",[],"array")}
var p=function(t){return t.getParam("link_class_list",[],"array")}
var b=function(t){return t.getParam("link_title",true,"boolean")}
var y=function(t){return t.getParam("allow_unsafe_link_target",false,"boolean")}
var w=function(t){return t.getParam("link_quicklink",false,"boolean")}
var x=function(t){return t.getParam("link_default_protocol","http","string")}
var C=function(){}
var S=function(t){return function(){return t}}
var O=S(false)
var k=S(true)
var T=function(){return _}
var _=function(){var t=function(t){return t.isNone()}
var e=function(t){return t()}
var n=function(t){return t}
var r={fold:function(t,e){return t()},is:O,isSome:O,isNone:k,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:n,orThunk:e,map:T,each:C,bind:T,exists:O,forall:k,filter:T,equals:t,equals_:t,toArray:function(){return[]},toString:S("none()")}
return r}()
var z=function(t){var e=S(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:k,isNone:O,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return z(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:_},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(O,(function(e){return n(t,e)}))}}
return o}
var E=function(t){return null===t||void 0===t?_:z(t)}
var M={some:z,none:T,from:E}
var D=Array.prototype.indexOf
var A=Array.prototype.push
var R=function(t,e){return D.call(t,e)}
var H=function(t,e){return R(t,e)>-1}
var B=function(t,e){var n=t.length
var r=new Array(n)
for(var o=0;o<n;o++){var a=t[o]
r[o]=e(a,o)}return r}
var I=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var L=function(t,e,n){I(t,(function(t){n=e(n,t)}))
return n}
var P=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!u(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
A.apply(e,t[n])}return e}
var N=function(t,e){return P(B(t,e))}
var V=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n)
if(r.isSome())return r}return M.none()}
var F=function(t){var e=[]
var n=function(t){e.push(t)}
for(var r=0;r<t.length;r++)t[r].each(n)
return e}
var j=function(t,e){return t?M.some(e):M.none()}
var U=tinymce.util.Tools.resolve("tinymce.util.Tools")
var W=function(t){return i(t.value)?t.value:""}
var q=function(t){return i(t.text)?t.text:i(t.title)?t.title:""}
var G=function(t,e){var n=[]
U.each(t,(function(t){var r=q(t)
if(void 0!==t.menu){var o=G(t.menu,e)
n.push({text:r,items:o})}else{var a=e(t)
n.push({text:r,value:a})}}))
return n}
var $=function(t){void 0===t&&(t=W)
return function(e){return M.from(e).map((function(e){return G(e,t)}))}}
var X=function(t){return $(W)(t)}
var K=function(t,e){return function(n){return{name:t,type:"listbox",label:e,items:n}}}
var Y={sanitize:X,sanitizeWith:$,createUi:K,getValue:W}
var J=function(){J=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return J.apply(this,arguments)}
var Z=Object.keys
var Q=Object.hasOwnProperty
var tt=function(t,e){var n=Z(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var et=function(t){return function(e,n){t[n]=e}}
var nt=function(t,e,n,r){var o={}
tt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))
return o}
var rt=function(t,e){var n={}
nt(t,e,et(n),C)
return n}
var ot=function(t,e){return Q.call(t,e)}
var at=function(t,e){return ot(t,e)&&void 0!==t[e]&&null!==t[e]}
var it=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
var ut=function(t){return t&&"a"===t.nodeName.toLowerCase()}
var ct=function(t){return ut(t)&&!!vt(t)}
var st=function(t,e){if(t.collapsed)return[]
var n=t.cloneContents()
var r=new it(n.firstChild,n)
var o=[]
var a=n.firstChild
do{e(a)&&o.push(a)}while(a=r.next())
return o}
var lt=function(t){return/^\w+:/i.test(t)}
var vt=function(t){var e=t.getAttribute("data-mce-href")
return e||t.getAttribute("href")}
var ft=function(t,e){var n=["noopener"]
var r=t?t.split(/\s+/):[]
var o=function(t){return U.trim(t.sort().join(" "))}
var a=function(t){t=i(t)
return t.length>0?t.concat(n):n}
var i=function(t){return t.filter((function(t){return-1===U.inArray(n,t)}))}
var u=e?a(r):i(r)
return u.length>0?o(u):""}
var dt=function(t){return t.replace(/\uFEFF/g,"")}
var mt=function(t,e){e=e||t.selection.getNode()
return yt(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")}
var gt=function(t,e){var n=e?e.innerText||e.textContent:t.getContent({format:"text"})
return dt(n)}
var ht=function(t){return U.grep(t,ct).length>0}
var pt=function(t){return st(t,ct).length>0}
var bt=function(t){var e=t.schema.getTextInlineElements()
var n=function(t){return 1===t.nodeType&&!ut(t)&&!ot(e,t.nodeName.toLowerCase())}
var r=st(t.selection.getRng(),n)
return 0===r.length}
var yt=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)}
var wt=function(t){return L(["title","rel","class","target"],(function(e,n){t[n].each((function(t){e[n]=t.length>0?t:null}))
return e}),{href:t.href})}
var xt=function(t,e){if(("http"===e||"https"===e)&&!lt(t))return e+"://"+t
return t}
var Ct=function(t,e){var n=J({},e)
if(!(h(t).length>0)&&false===y(t)){var r=ft(n.rel,"_blank"===n.target)
n.rel=r||null}M.from(n.target).isNone()&&false===g(t)&&(n.target=m(t))
n.href=xt(n.href,v(t))
return n}
var St=function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t}))
t.dom.setAttribs(e,r)
t.selection.select(e)}
var Ot=function(t,e,n,r){yt(e)?At(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",false,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}
var kt=function(t,e,n){var r=t.selection.getNode()
var o=mt(t,r)
var a=Ct(t,wt(n))
t.undoManager.transact((function(){n.href===e.href&&e.attach()
if(o){t.focus()
St(t,o,n.text,a)}else Ot(t,r,n.text,a)}))}
var Tt=function(t){var e=t.dom,n=t.selection
var r=n.getBookmark()
var o=n.getRng().cloneRange()
var a=e.getParent(o.startContainer,"a[href]",t.getBody())
var i=e.getParent(o.endContainer,"a[href]",t.getBody())
a&&o.setStartBefore(a)
i&&o.setEndAfter(i)
n.setRng(o)
t.execCommand("unlink")
n.moveToBookmark(r)}
var _t=function(t){t.undoManager.transact((function(){var e=t.selection.getNode()
yt(e)?Dt(t,e):Tt(t)
t.focus()}))}
var zt=function(t){var e=t.class,n=t.href,r=t.rel,o=t.target,a=t.text,i=t.title
return rt({class:e.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:a.getOrNull(),title:i.getOrNull()},(function(t,e){return false===c(t)}))}
var Et=function(t,e,n){t.hasPlugin("rtc",true)?t.execCommand("createlink",false,zt(n)):kt(t,e,n)}
var Mt=function(t){t.hasPlugin("rtc",true)?t.execCommand("unlink"):_t(t)}
var Dt=function(t,e){var n=t.dom.select("img",e)[0]
if(n){var r=t.dom.getParents(n,"a[href]",e)[0]
if(r){r.parentNode.insertBefore(n,r)
t.dom.remove(r)}}}
var At=function(t,e,n){var r=t.dom.select("img",e)[0]
if(r){var o=t.dom.create("a",n)
r.parentNode.insertBefore(o,r)
o.appendChild(r)}}
var Rt=function(t){return at(t,"items")}
var Ht=function(t,e){return V(e,(function(e){return Rt(e)?Ht(t,e.items):j(e.value===t,e)}))}
var Bt=function(t,e,n,r){var o=r[e]
var a=t.length>0
return void 0!==o?Ht(o,n).map((function(e){return{url:{value:e.value,meta:{text:a?t:e.text,attach:C}},text:a?t:e.text}})):M.none()}
var It=function(t,e){return"link"===e?t.link:"anchor"===e?t.anchor:M.none()}
var Lt=function(t,e){var n={text:t.text,title:t.title}
var r=function(t){return j(n.title.length<=0,M.from(t.meta.title).getOr(""))}
var o=function(t){return j(n.text.length<=0,M.from(t.meta.text).getOr(t.value))}
var a=function(t){var e=o(t.url)
var n=r(t.url)
return e.isSome()||n.isSome()?M.some(J(J({},e.map((function(t){return{text:t}})).getOr({})),n.map((function(t){return{title:t}})).getOr({}))):M.none()}
var i=function(t,r){var o=It(e,r.name).getOr([])
return Bt(n.text,r.name,o,t)}
var u=function(t,e){var r=e.name
if("url"===r)return a(t())
if(H(["anchor","link"],r))return i(t(),e)
if("text"===r||"title"===r){n[r]=t()[r]
return M.none()}return M.none()}
return{onChange:u}}
var Pt={init:Lt,getDelta:Bt}
var Nt=tinymce.util.Tools.resolve("tinymce.util.Delay")
var Vt=tinymce.util.Tools.resolve("tinymce.util.Promise")
var Ft=function(t,e,n){var r=t.selection.getRng()
Nt.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r)
n(e)}))}))}
var jt=function(t){var e=t.href
var n=e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:")
return n?M.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return J(J({},t),{href:"mailto:"+e})}}):M.none()}
var Ut=function(t,e){return function(n){var r=n.href
var o=1===t&&!lt(r)||0===t&&/^\s*www(\.|\d\.)/i.test(r)
return o?M.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return J(J({},t),{href:e+"://"+r})}}):M.none()}}
var Wt=function(t,e){return V([jt,Ut(v(t),x(t))],(function(t){return t(e)})).fold((function(){return Vt.resolve(e)}),(function(n){return new Vt((function(r){Ft(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))}
var qt={preprocess:Wt}
var Gt=function(t){var e=t.dom.select("a:not([href])")
var n=N(e,(function(t){var e=t.name||t.id
return e?[{text:e,value:"#"+e}]:[]}))
return n.length>0?M.some([{text:"None",value:""}].concat(n)):M.none()}
var $t={getAnchors:Gt}
var Xt=function(t){var e=p(t)
if(e.length>0)return Y.sanitize(e)
return M.none()}
var Kt={getClasses:Xt}
var Yt=tinymce.util.Tools.resolve("tinymce.util.XHR")
var Jt=function(t){try{return M.some(JSON.parse(t))}catch(t){return M.none()}}
var Zt=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")}
var n=d(t)
return new Vt((function(t){i(n)?Yt.send({url:n,success:function(e){return t(Jt(e))},error:function(e){return t(M.none())}}):l(n)?n((function(e){return t(M.some(e))})):t(M.from(n))})).then((function(t){return t.bind(Y.sanitizeWith(e)).map((function(t){if(t.length>0){var e=[{text:"None",value:""}]
return e.concat(t)}return t}))}))}
var Qt={getLinks:Zt}
var te=function(t,e){var n=h(t)
if(n.length>0){var r=e.is("_blank")
var o=false===y(t)
var a=function(t){return ft(Y.getValue(t),r)}
var i=o?Y.sanitizeWith(a):Y.sanitize
return i(n)}return M.none()}
var ee={getRels:te}
var ne=[{text:"Current window",value:""},{text:"New window",value:"_blank"}]
var re=function(t){var e=g(t)
if(u(e))return Y.sanitize(e).orThunk((function(){return M.some(ne)}))
if(false===e)return M.none()
return M.some(ne)}
var oe={getTargets:re}
var ae=function(t,e,n){var r=t.getAttrib(e,n)
return null!==r&&r.length>0?M.some(r):M.none()}
var ie=function(t,e){var n=t.dom
var r=bt(t)
var o=r?M.some(gt(t.selection,e)):M.none()
var a=e?M.some(n.getAttrib(e,"href")):M.none()
var i=e?M.from(n.getAttrib(e,"target")):M.none()
var u=ae(n,e,"rel")
var c=ae(n,e,"class")
var s=ae(n,e,"title")
return{url:a,text:o,title:s,target:i,rel:u,linkClass:c}}
var ue=function(t,e){return Qt.getLinks(t).then((function(n){var r=ie(t,e)
return{anchor:r,catalogs:{targets:oe.getTargets(t),rels:ee.getRels(t,r.target),classes:Kt.getClasses(t),anchor:$t.getAnchors(t),link:n},optNode:M.from(e),flags:{titleEnabled:b(t)}}}))}
var ce={collect:ue}
var se=function(t,e){return function(n){var r=n.getData()
if(!r.url.value){Mt(t)
n.close()
return}var o=function(t){return M.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))}
var a={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")}
var i={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:C}
qt.preprocess(t,a).then((function(e){Et(t,i,e)}))
n.close()}}
var le=function(t){var e=mt(t)
return ce.collect(t,e)}
var ve=function(t,e){var n=t.anchor
var r=n.url.getOr("")
return{url:{value:r,meta:{original:{value:r}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:r,link:r,rel:n.rel.getOr(""),target:n.target.or(e).getOr(""),linkClass:n.linkClass.getOr("")}}
var fe=function(t,e,n){var r=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}]
var o=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray()
var a=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[]
var i=M.from(m(n))
var u=ve(t,i)
var c=t.catalogs
var s=Pt.init(u,c)
var l={type:"panel",items:P([r,o,a,F([c.anchor.map(Y.createUi("anchor","Anchors")),c.rels.map(Y.createUi("rel","Rel")),c.targets.map(Y.createUi("target","Open link in...")),c.link.map(Y.createUi("link","Link list")),c.classes.map(Y.createUi("linkClass","Class"))])])}
return{title:"Insert/Edit Link",size:"normal",body:l,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],initialData:u,onChange:function(t,e){var n=e.name
s.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}}
var de=function(t){var e=le(t)
e.then((function(e){var n=se(t,e)
return fe(e,n,t)})).then((function(e){t.windowManager.open(e)}))}
var me=function(t,e){document.body.appendChild(t)
t.dispatchEvent(e)
document.body.removeChild(t)}
var ge=function(t){var e=document.createElement("a")
e.target="_blank"
e.href=t
e.rel="noreferrer noopener"
var n=document.createEvent("MouseEvents")
n.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null)
me(e,n)}
var he=function(t,e){return t.dom.getParent(e,"a[href]")}
var pe=function(t){return he(t,t.selection.getStart())}
var be=function(t){return true===t.altKey&&false===t.shiftKey&&false===t.ctrlKey&&false===t.metaKey}
var ye=function(t,e){if(e){var n=vt(e)
if(/^#/.test(n)){var r=t.$(n)
r.length&&t.selection.scrollIntoView(r[0],true)}else ge(e.href)}}
var we=function(t){return function(){de(t)}}
var xe=function(t){return function(){ye(t,pe(t))}}
var Ce=function(t){t.on("click",(function(n){var r=he(t,n.target)
if(r&&e.metaKeyPressed(n)){n.preventDefault()
ye(t,r)}}))
t.on("keydown",(function(e){var n=pe(t)
if(n&&13===e.keyCode&&be(e)){e.preventDefault()
ye(t,n)}}))}
var Se=function(t,e){t.on("NodeChange",e)
return function(){return t.off("NodeChange",e)}}
var Oe=function(t){return function(e){return Se(t,(function(){e.setActive(!t.mode.isReadOnly()&&null!==mt(t,t.selection.getNode()))}))}}
var ke=function(t){return function(e){var n=function(){return e.setDisabled(null===mt(t,t.selection.getNode()))}
n()
return Se(t,n)}}
var Te=function(t){return function(e){var n=function(e){return ht(e)||pt(t.selection.getRng())}
var r=t.dom.getParents(t.selection.getStart())
e.setDisabled(!n(r))
return Se(t,(function(t){return e.setDisabled(!n(t.parents))}))}}
var _e=function(t){t.addCommand("mceLink",(function(){w(t)?t.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):we(t)()}))}
var ze=function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}
var Ee=function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:we(t),onSetup:Oe(t)})
t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:xe(t),onSetup:ke(t)})
t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Mt(t)},onSetup:Te(t)})}
var Me=function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:xe(t),onSetup:ke(t)})
t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:we(t)})
t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Mt(t)},onSetup:Te(t)})}
var De=function(t){var e="link unlink openlink"
var n="link"
t.ui.registry.addContextMenu("link",{update:function(r){return ht(t.dom.getParents(r,"a"))?e:n}})}
var Ae=function(t){var e=function(t){t.selection.collapse(false)}
var n=function(e){var n=t.selection.getNode()
e.setDisabled(!mt(t,n))
return C}
t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Oe(t)},label:"Link",predicate:function(e){return!!mt(t,e)&&f(t)},initValue:function(){var e=mt(t)
return!e?"":vt(e)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:true,onSetup:function(e){var n=t.selection.getNode()
e.setActive(!!mt(t,n))
return Oe(t)(e)},onAction:function(n){var r=mt(t)
var o=n.getValue()
if(r)t.undoManager.transact((function(){t.dom.setAttrib(r,"href",o)
e(t)
n.hide()}))
else{var a={href:o,attach:C}
var i=bt(t)
var u=i?M.some(gt(t.selection,r)).filter((function(t){return t.length>0})).or(M.from(o)):M.none()
Et(t,a,{href:o,text:u,title:M.none(),rel:M.none(),target:M.none(),class:M.none()})
n.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:function(e){Mt(t)
e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:function(e){xe(t)()
e.hide()}}]})}
function Re(){t.add("link",(function(t){Ee(t)
Me(t)
De(t)
Ae(t)
Ce(t)
_e(t)
ze(t)}))}Re()})()},"a+My":function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(t){t.addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",false,"<hr />")}))}
var n=function(t){t.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})
t.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})}
function r(){t.add("hr",(function(t){e(t)
n(t)}))}r()})()},eYD6:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=function(){e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n]
for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}
return e.apply(this,arguments)}
var n=function(t){var e=typeof t
return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}
var r=function(t){return function(e){return n(e)===t}}
var o=r("string")
var a=r("object")
var i=r("array")
var u=function(t){return null===t||void 0===t}
var c=function(t){return!u(t)}
var s=function(){}
var l=function(t){return function(){return t}}
var v=l(false)
var f=l(true)
var d=function(){return m}
var m=(g=function(t){return t.isNone()},h=function(t){return t()},p=function(t){return t},b={fold:function(t,e){return t()},is:v,isSome:v,isNone:f,getOr:p,getOrThunk:h,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:h,map:d,each:s,bind:d,exists:v,forall:f,filter:d,equals:g,equals_:g,toArray:function(){return[]},toString:l("none()")},b)
var g,h,p,b
var y=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:v,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(v,(function(e){return n(t,e)}))}}
return o}
var w=function(t){return null===t||void 0===t?m:y(t)}
var x={some:y,none:d,from:w}
var C=Array.prototype.push
var S=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n]
e(o,n)}}
var O=function(t){var e=[]
for(var n=0,r=t.length;n<r;++n){if(!i(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t)
C.apply(e,t[n])}return e}
var k=function(t){var e=t
var n=function(){return e}
var r=function(t){e=t}
return{get:n,set:r}}
var T=Object.keys
var _=Object.hasOwnProperty
var z=function(t,e){var n=T(t)
for(var r=0,o=n.length;r<o;r++){var a=n[r]
var i=t[a]
e(i,a)}}
var E=function(t,e){return M(t,e)?x.from(t[e]):x.none()}
var M=function(t,e){return _.call(t,e)}
var D=function(t){return t.getParam("media_scripts")}
var A=function(t){return t.getParam("audio_template_callback")}
var R=function(t){return t.getParam("video_template_callback")}
var H=function(t){return t.getParam("media_live_embeds",true)}
var B=function(t){return t.getParam("media_filter_html",true)}
var I=function(t){return t.getParam("media_url_resolver")}
var L=function(t){return t.getParam("media_alt_source",true)}
var P=function(t){return t.getParam("media_poster",true)}
var N=function(t){return t.getParam("media_dimensions",true)}
var V=tinymce.util.Tools.resolve("tinymce.util.Tools")
var F=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
var j=tinymce.util.Tools.resolve("tinymce.html.SaxParser")
var U=function(t,e){if(t)for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n].filter))return t[n]}
var W=F.DOM
var q=function(t){return t.replace(/px$/,"")}
var G=function(t){var e=t.map.style
var n=e?W.parseStyle(e):{}
return{type:"ephox-embed-iri",source:t.map["data-ephox-embed-iri"],altsource:"",poster:"",width:E(n,"max-width").map(q).getOr(""),height:E(n,"max-height").map(q).getOr("")}}
var $=function(t,e){var n=k(false)
var r={}
j({validate:false,allow_conditional_comments:true,start:function(e,o){if(n.get());else if(M(o.map,"data-ephox-embed-iri")){n.set(true)
r=G(o)}else{r.source||"param"!==e||(r.source=o.map.movie)
if("iframe"===e||"object"===e||"embed"===e||"video"===e||"audio"===e){r.type||(r.type=e)
r=V.extend(o.map,r)}if("script"===e){var a=U(t,o.map.src)
if(!a)return
r={type:"script",source:o.map.src,width:String(a.width),height:String(a.height)}}"source"===e&&(r.source?r.altsource||(r.altsource=o.map.src):r.source=o.map.src)
"img"!==e||r.poster||(r.poster=o.map.src)}}}).parse(e)
r.source=r.source||r.src||r.data
r.altsource=r.altsource||""
r.poster=r.poster||""
return r}
var X=function(t){var e={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}
var n=t.toLowerCase().split(".").pop()
var r=e[n]
return r||""}
var K=tinymce.util.Tools.resolve("tinymce.html.Schema")
var Y=tinymce.util.Tools.resolve("tinymce.html.Writer")
var J=F.DOM
var Z=function(t){return/^[0-9.]+$/.test(t)?t+"px":t}
var Q=function(t,e){z(e,(function(e,n){var r=""+e
if(t.map[n]){var o=t.length
while(o--){var a=t[o]
if(a.name===n)if(r){t.map[n]=r
a.value=r}else{delete t.map[n]
t.splice(o,1)}}}else if(r){t.push({name:n,value:r})
t.map[n]=r}}))}
var tt=function(t,e){var n=e.map.style
var r=n?J.parseStyle(n):{}
r["max-width"]=Z(t.width)
r["max-height"]=Z(t.height)
Q(e,{style:J.serializeStyle(r)})}
var et=["source","altsource"]
var nt=function(t,e,n){var r=Y()
var o=k(false)
var a=0
var i
j({validate:false,allow_conditional_comments:true,comment:function(t){r.comment(t)},cdata:function(t){r.cdata(t)},text:function(t,e){r.text(t,e)},start:function(t,u,c){if(o.get());else if(M(u.map,"data-ephox-embed-iri")){o.set(true)
tt(e,u)}else{switch(t){case"video":case"object":case"embed":case"img":case"iframe":void 0!==e.height&&void 0!==e.width&&Q(u,{width:e.width,height:e.height})}if(n)switch(t){case"video":Q(u,{poster:e.poster,src:""})
e.altsource&&Q(u,{src:""})
break
case"iframe":Q(u,{src:e.source})
break
case"source":if(a<2){Q(u,{src:e[et[a]],type:e[et[a]+"mime"]})
if(!e[et[a]])return}a++
break
case"img":if(!e.poster)return
i=true}}r.start(t,u,c)},end:function(t){if(!o.get()){if("video"===t&&n)for(var u=0;u<2;u++)if(e[et[u]]){var c=[]
c.map={}
if(a<=u){Q(c,{src:e[et[u]],type:e[et[u]+"mime"]})
r.start("source",c,true)}}if(e.poster&&"object"===t&&n&&!i){var s=[]
s.map={}
Q(s,{src:e.poster,width:e.width,height:e.height})
r.start("img",s,true)}}r.end(t)}},K({})).parse(t)
return r.getContent()}
var rt=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:true},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:true},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:true},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:true},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:false},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:true}]
var ot=function(t){var e=t.match(/^(https?:\/\/|www\.)(.+)$/i)
return e&&e.length>1?"www."===e[1]?"https://":e[1]:"https://"}
var at=function(t,e){var n=ot(e)
var r=t.regex.exec(e)
var o=n+t.url
var a=function(t){o=o.replace("$"+t,(function(){return r[t]?r[t]:""}))}
for(var i=0;i<r.length;i++)a(i)
return o.replace(/\?$/,"")}
var it=function(t){var e=rt.filter((function(e){return e.regex.test(t)}))
return e.length>0?V.extend({},e[0],{url:at(e[0],t)}):null}
var ut=function(t){var e=t.allowfullscreen?' allowFullscreen="1"':""
return'<iframe src="'+t.source+'" width="'+t.width+'" height="'+t.height+'"'+e+"></iframe>"}
var ct=function(t){var e='<object data="'+t.source+'" width="'+t.width+'" height="'+t.height+'" type="application/x-shockwave-flash">'
t.poster&&(e+='<img src="'+t.poster+'" width="'+t.width+'" height="'+t.height+'" />')
e+="</object>"
return e}
var st=function(t,e){return e?e(t):'<audio controls="controls" src="'+t.source+'">'+(t.altsource?'\n<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</audio>"}
var lt=function(t,e){return e?e(t):'<video width="'+t.width+'" height="'+t.height+'"'+(t.poster?' poster="'+t.poster+'"':"")+' controls="controls">\n<source src="'+t.source+'"'+(t.sourcemime?' type="'+t.sourcemime+'"':"")+" />\n"+(t.altsource?'<source src="'+t.altsource+'"'+(t.altsourcemime?' type="'+t.altsourcemime+'"':"")+" />\n":"")+"</video>"}
var vt=function(t){return'<script src="'+t.source+'"><\/script>'}
var ft=function(t,e){var n=V.extend({},e)
if(!n.source){V.extend(n,$(D(t),n.embed))
if(!n.source)return""}n.altsource||(n.altsource="")
n.poster||(n.poster="")
n.source=t.convertURL(n.source,"source")
n.altsource=t.convertURL(n.altsource,"source")
n.sourcemime=X(n.source)
n.altsourcemime=X(n.altsource)
n.poster=t.convertURL(n.poster,"poster")
var r=it(n.source)
if(r){n.source=r.url
n.type=r.type
n.allowfullscreen=r.allowFullscreen
n.width=n.width||String(r.w)
n.height=n.height||String(r.h)}if(n.embed)return nt(n.embed,n,true)
var o=U(D(t),n.source)
if(o){n.type="script"
n.width=String(o.width)
n.height=String(o.height)}var a=A(t)
var i=R(t)
n.width=n.width||"300"
n.height=n.height||"150"
V.each(n,(function(e,r){n[r]=t.dom.encode(""+e)}))
return"iframe"===n.type?ut(n):"application/x-shockwave-flash"===n.sourcemime?ct(n):-1!==n.sourcemime.indexOf("audio")?st(n,a):"script"===n.type?vt(n):lt(n,i)}
var dt=tinymce.util.Tools.resolve("tinymce.util.Promise")
var mt={}
var gt=function(t,e,n){return new dt((function(r,o){var a=function(n){n.html&&(mt[t.source]=n)
return r({url:t.source,html:n.html?n.html:e(t)})}
mt[t.source]?a(mt[t.source]):n({url:t.source},a,o)}))}
var ht=function(t,e){return new dt((function(n){n({html:e(t),url:t.source})}))}
var pt=function(t){return function(e){return ft(t,e)}}
var bt=function(t,e){var n=I(t)
return n?gt(e,pt(t),n):ht(e,pt(t))}
var yt=function(t){return mt.hasOwnProperty(t)}
var wt=function(t,e){return E(e,t).bind((function(t){return E(t,"meta")}))}
var xt=function(t,e,n){return function(r){var o
var i=function(){return E(t,r)}
var u=function(){return E(e,r)}
var c=function(t){return E(t,"value").bind((function(t){return t.length>0?x.some(t):x.none()}))}
var s=function(){return i().bind((function(t){return a(t)?c(t).orThunk(u):u().orThunk((function(){return x.from(t)}))}))}
var l=function(){return u().orThunk((function(){return i().bind((function(t){return a(t)?c(t):x.from(t)}))}))}
return o={},o[r]=(r===n?s():l()).getOr(""),o}}
var Ct=function(t,e){var n={}
E(t,"dimensions").each((function(t){S(["width","height"],(function(r){E(e,r).orThunk((function(){return E(t,r)})).each((function(t){return n[r]=t}))}))}))
return n}
var St=function(t,n){var r=n?wt(n,t).getOr({}):{}
var o=xt(t,r,n)
return e(e(e(e(e({},o("source")),o("altsource")),o("poster")),o("embed")),Ct(t,r))}
var Ot=function(t){var n=e(e({},t),{source:{value:E(t,"source").getOr("")},altsource:{value:E(t,"altsource").getOr("")},poster:{value:E(t,"poster").getOr("")}})
S(["width","height"],(function(e){E(t,e).each((function(t){var r=n.dimensions||{}
r[e]=t
n.dimensions=r}))}))
return n}
var kt=function(t){return function(e){var n=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error."
t.notificationManager.open({type:"error",text:n})}}
var Tt=function(t,e){return $(D(t),e)}
var _t=function(t){return t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")}
var zt=function(t){var n=t.selection.getNode()
var r=_t(n)?t.serializer.serialize(n,{selection:true}):""
return e({embed:r},$(D(t),r))}
var Et=function(t,n){return function(r){if(o(r.url)&&r.url.trim().length>0){var a=r.html
var i=Tt(n,a)
var u=e(e({},i),{source:r.url,embed:a})
t.setData(Ot(u))}}}
var Mt=function(t,e){var n=t.dom.select("*[data-mce-object]")
for(var r=0;r<e.length;r++)for(var o=n.length-1;o>=0;o--)e[r]===n[o]&&n.splice(o,1)
t.selection.select(n[0])}
var Dt=function(t,e){var n=t.dom.select("*[data-mce-object]")
t.insertContent(e)
Mt(t,n)
t.nodeChanged()}
var At=function(t,e,n){e.embed=nt(e.embed,e)
e.embed&&(t.source===e.source||yt(e.source))?Dt(n,e.embed):bt(n,e).then((function(t){Dt(n,t.html)})).catch(kt(n))}
var Rt=function(t){var n=zt(t)
var r=k(n)
var o=Ot(n)
var a=function(e,n){var r=St(n.getData(),"source")
if(e.source!==r.source){Et(p,t)({url:r.source,html:""})
bt(t,r).then(Et(p,t)).catch(kt(t))}}
var i=function(e){var n=St(e.getData())
var r=Tt(t,n.embed)
e.setData(Ot(r))}
var u=function(n,r){var o=St(n.getData(),r)
var a=ft(t,o)
n.setData(Ot(e(e({},o),{embed:a})))}
var c=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}]
var s=N(t)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:true}]:[]
var l={title:"General",name:"general",items:O([c,s])}
var v={type:"textarea",name:"embed",label:"Paste your embed code below:"}
var f={title:"Embed",items:[v]}
var d=[]
L(t)&&d.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"})
P(t)&&d.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"})
var m={title:"Advanced",name:"advanced",items:d}
var g=[l,f]
d.length>0&&g.push(m)
var h={type:"tabpanel",tabs:g}
var p=t.windowManager.open({title:"Insert/Edit Media",size:"normal",body:h,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:true}],onSubmit:function(e){var n=St(e.getData())
At(r.get(),n,t)
e.close()},onChange:function(t,e){switch(e.name){case"source":a(r.get(),t)
break
case"embed":i(t)
break
case"dimensions":case"altsource":case"poster":u(t,e.name)}r.set(St(t.getData()))},initialData:o})}
var Ht=function(t){var e=function(){Rt(t)}
return{showDialog:e}}
var Bt=function(t){var e=function(){Rt(t)}
t.addCommand("mceMedia",e)}
var It=tinymce.util.Tools.resolve("tinymce.html.Node")
var Lt=tinymce.util.Tools.resolve("tinymce.Env")
var Pt=tinymce.util.Tools.resolve("tinymce.html.DomParser")
var Nt=function(t,e){if(false===B(t))return e
var n=Y()
var r
j({validate:false,allow_conditional_comments:false,comment:function(t){r||n.comment(t)},cdata:function(t){r||n.cdata(t)},text:function(t,e){r||n.text(t,e)},start:function(e,o,a){r=true
if("script"===e||"noscript"===e||"svg"===e)return
for(var i=o.length-1;i>=0;i--){var u=o[i].name
if(0===u.indexOf("on")){delete o.map[u]
o.splice(i,1)}"style"===u&&(o[i].value=t.dom.serializeStyle(t.dom.parseStyle(o[i].value),e))}n.start(e,o,a)
r=false},end:function(t){if(r)return
n.end(t)}},K({})).parse(e)
return n.getContent()}
var Vt=function(t){var e=t.name
return"iframe"===e||"video"===e||"audio"===e}
var Ft=function(t,e,n,r){void 0===r&&(r=null)
var o=t.attr(n)
return c(o)?o:M(e,n)?null:r}
var jt=function(t,e,n){var r="img"===e.name||"video"===t.name
var o=r?"300":null
var a="audio"===t.name?"30":"150"
var i=r?a:null
e.attr({width:Ft(t,n,"width",o),height:Ft(t,n,"height",i)})}
var Ut=function(t,e,n,r){var o=Pt({forced_root_block:false,validate:false},t.schema).parse(r,{context:e})
while(o.firstChild)n.append(o.firstChild)}
var Wt=function(t,e){var n=e.name
var r=new It("img",1)
r.shortEnded=true
Gt(t,e,r)
jt(e,r,{})
r.attr({style:e.attr("style"),src:Lt.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n})
return r}
var qt=function(t,e){var n=e.name
var r=new It("span",1)
r.attr({contentEditable:"false",style:e.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n})
Gt(t,e,r)
var o=t.dom.parseStyle(e.attr("style"))
var a=new It(n,1)
jt(e,a,o)
a.attr({src:e.attr("src"),style:e.attr("style"),class:e.attr("class")})
if("iframe"===n)a.attr({allowfullscreen:e.attr("allowfullscreen"),frameborder:"0"})
else{var i=["controls","crossorigin","currentTime","loop","muted","poster","preload"]
S(i,(function(t){a.attr(t,e.attr(t))}))
var u=r.attr("data-mce-html")
c(u)&&Ut(t,n,a,u)}var s=new It("span",1)
s.attr("class","mce-shim")
r.append(a)
r.append(s)
return r}
var Gt=function(t,e,n){var r=e.attributes
var o=r.length
while(o--){var a=r[o].name
var i=r[o].value
if("width"!==a&&"height"!==a&&"style"!==a){"data"!==a&&"src"!==a||(i=t.convertURL(i,a))
n.attr("data-mce-p-"+a,i)}}var u=e.firstChild&&e.firstChild.value
if(u){n.attr("data-mce-html",escape(Nt(t,u)))
n.firstChild=null}}
var $t=function(t){var e=t.attr("class")
return e&&/\btiny-pageembed\b/.test(e)}
var Xt=function(t){while(t=t.parent)if(t.attr("data-ephox-embed-iri")||$t(t))return true
return false}
var Kt=function(t){return function(e){var n=e.length
var r
var o
while(n--){r=e[n]
if(!r.parent)continue
if(r.parent.attr("data-mce-object"))continue
if("script"===r.name){o=U(D(t),r.attr("src"))
if(!o)continue}if(o){o.width&&r.attr("width",o.width.toString())
o.height&&r.attr("height",o.height.toString())}Vt(r)&&H(t)&&Lt.ceFalse?Xt(r)||r.replace(qt(t,r)):Xt(r)||r.replace(Wt(t,r))}}}
var Yt=function(t){t.on("preInit",(function(){var e=t.schema.getSpecialElements()
V.each("video audio iframe object".split(" "),(function(t){e[t]=new RegExp("</"+t+"[^>]*>","gi")}))
var n=t.schema.getBoolAttrs()
V.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),(function(t){n[t]={}}))
t.parser.addNodeFilter("iframe,video,audio,object,embed,script",Kt(t))
t.serializer.addAttributeFilter("data-mce-object",(function(e,n){var r=e.length
var o
var a
var i
var u
var c
var s
var l
var v
while(r--){o=e[r]
if(!o.parent)continue
l=o.attr(n)
a=new It(l,1)
if("audio"!==l&&"script"!==l){v=o.attr("class")
v&&-1!==v.indexOf("mce-preview-object")?a.attr({width:o.firstChild.attr("width"),height:o.firstChild.attr("height")}):a.attr({width:o.attr("width"),height:o.attr("height")})}a.attr({style:o.attr("style")})
u=o.attributes
i=u.length
while(i--){var f=u[i].name
0===f.indexOf("data-mce-p-")&&a.attr(f.substr(11),u[i].value)}"script"===l&&a.attr("type","text/javascript")
c=o.attr("data-mce-html")
if(c){s=new It("#text",3)
s.raw=true
s.value=Nt(t,unescape(c))
a.append(s)}o.replace(a)}}))}))
t.on("SetContent",(function(){t.$("span.mce-preview-object").each((function(e,n){var r=t.$(n)
0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')}))}))}
var Jt=function(t){t.on("ResolveName",(function(t){var e
1===t.target.nodeType&&(e=t.target.getAttribute("data-mce-object"))&&(t.name=e)}))}
var Zt=function(t){t.on("click keyup touchend",(function(){var e=t.selection.getNode()
e&&t.dom.hasClass(e,"mce-preview-object")&&t.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}))
t.on("ObjectSelected",(function(t){var e=t.target.getAttribute("data-mce-object")
"script"===e&&t.preventDefault()}))
t.on("ObjectResized",(function(t){var e=t.target
var n
if(e.getAttribute("data-mce-object")){n=e.getAttribute("data-mce-html")
if(n){n=unescape(n)
e.setAttribute("data-mce-html",escape(nt(n,{width:String(t.width),height:String(t.height)})))}}}))}
var Qt=function(t,e){return function(n){return t.selection.selectorChangedWithUnbind(e.join(","),n.setActive).unbind}}
var te=function(t){t.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){t.execCommand("mceMedia")},onSetup:Qt(t,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])})
t.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){t.execCommand("mceMedia")}})}
function ee(){t.add("media",(function(t){Bt(t)
te(t)
Jt(t)
Yt(t)
Zt(t)
return Ht(t)}))}ee()})()},rU96:function(t,e){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},ujec:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.util.Tools")
var n=function(t,n){var r=t.dom
var o
var a=t.selection.getSelectedBlocks()
if(a.length){o=r.getAttrib(a[0],"dir")
e.each(a,(function(t){r.getParent(t.parentNode,'*[dir="'+n+'"]',r.getRoot())||r.setAttrib(t,"dir",o!==n?n:null)}))
t.nodeChanged()}}
var r=function(t){t.addCommand("mceDirectionLTR",(function(){n(t,"ltr")}))
t.addCommand("mceDirectionRTL",(function(){n(t,"rtl")}))}
var o=function(t){return function(e){return typeof e===t}}
var a=function(t){return null===t||void 0===t}
var i=function(t){return!a(t)}
var u=o("function")
var c=function(){}
var s=function(t,e){return function(n){return t(e(n))}}
var l=function(t){return function(){return t}}
var v=l(false)
var f=l(true)
var d=function(){return m}
var m=(g=function(t){return t.isNone()},h=function(t){return t()},p=function(t){return t},b={fold:function(t,e){return t()},is:v,isSome:v,isNone:f,getOr:p,getOrThunk:h,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:p,orThunk:h,map:d,each:c,bind:d,exists:v,forall:f,filter:d,equals:g,equals_:g,toArray:function(){return[]},toString:l("none()")},b)
var g,h,p,b
var y=function(t){var e=l(t)
var n=function(){return o}
var r=function(e){return e(t)}
var o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:v,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:m},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(v,(function(e){return n(t,e)}))}}
return o}
var w=function(t){return null===t||void 0===t?m:y(t)}
var x={some:y,none:d,from:w}
var C=function(t){return void 0!==t.style&&u(t.style.getPropertyValue)}
var S=function(t,e){var n=e||document
var r=n.createElement("div")
r.innerHTML=t
if(!r.hasChildNodes()||r.childNodes.length>1){console.error("HTML does not have a single root node",t)
throw new Error("HTML must have a single root node")}return T(r.childNodes[0])}
var O=function(t,e){var n=e||document
var r=n.createElement(t)
return T(r)}
var k=function(t,e){var n=e||document
var r=n.createTextNode(t)
return T(r)}
var T=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined")
return{dom:t}}
var _=function(t,e,n){return x.from(t.dom.elementFromPoint(e,n)).map(T)}
var z={fromHtml:S,fromTag:O,fromText:k,fromDom:T,fromPoint:_}
"undefined"!==typeof window?window:Function("return this;")()
var E=9
var M=11
var D=3
var A=function(t){return t.dom.nodeType}
var R=function(t){return function(e){return A(e)===t}}
var H=R(D)
var B=R(E)
var I=R(M)
var L=function(t){return z.fromDom(t.dom.ownerDocument)}
var P=function(t){return B(t)?t:L(t)}
var N=function(t){return I(t)&&i(t.dom.host)}
var V=u(Element.prototype.attachShadow)&&u(Node.prototype.getRootNode)
var F=V?function(t){return z.fromDom(t.dom.getRootNode())}:P
var j=function(t){var e=F(t)
return N(e)?x.some(e):x.none()}
var U=function(t){return z.fromDom(t.dom.host)}
var W=function(t){var e=H(t)?t.dom.parentNode:t.dom
if(void 0===e||null===e||null===e.ownerDocument)return false
var n=e.ownerDocument
return j(z.fromDom(e)).fold((function(){return n.body.contains(e)}),s(W,U))}
var q=function(t,e){var n=t.dom
var r=window.getComputedStyle(n)
var o=r.getPropertyValue(e)
return""!==o||W(t)?o:G(n,e)}
var G=function(t,e){return C(t)?t.style.getPropertyValue(e):""}
var $=function(t){return"rtl"===q(t,"direction")?"rtl":"ltr"}
var X=function(t,e){return function(n){var r=function(t){var r=z.fromDom(t.element)
n.setActive($(r)===e)}
t.on("NodeChange",r)
return function(){return t.off("NodeChange",r)}}}
var K=function(t){t.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return t.execCommand("mceDirectionLTR")},onSetup:X(t,"ltr")})
t.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return t.execCommand("mceDirectionRTL")},onSetup:X(t,"rtl")})}
function Y(){t.add("directionality",(function(t){r(t)
K(t)}))}Y()})()},xw2z:function(t,e){(function(){"use strict"
var t=tinymce.util.Tools.resolve("tinymce.PluginManager")
var e=tinymce.util.Tools.resolve("tinymce.Env")
var n=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}
var r=function(t){return t.getParam("default_link_target",false)}
var o=function(t){return t.getParam("link_default_protocol","http","string")}
var a=function(t,e){return t===e||" "===t||160===t.charCodeAt(0)}
var i=function(t){f(t,-1,"(")}
var u=function(t){f(t,0,"")}
var c=function(t){f(t,-1,"")}
var s=function(t,e){e<0&&(e=0)
if(3===t.nodeType){var n=t.data.length
e>n&&(e=n)}return e}
var l=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,s(e,n)):t.setStartBefore(e)}
var v=function(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,s(e,n)):t.setEndAfter(e)}
var f=function(t,e,i){var u,c,s,f,d,m,g
var h=n(t)
var p=r(t)
if("A"===t.selection.getNode().tagName)return
var b=t.selection.getRng().cloneRange()
if(b.startOffset<5){d=b.endContainer.previousSibling
if(!d){if(!b.endContainer.firstChild||!b.endContainer.firstChild.nextSibling)return
d=b.endContainer.firstChild.nextSibling}m=d.length
l(b,d,m)
v(b,d,m)
if(b.endOffset<5)return
u=b.endOffset
c=d}else{c=b.endContainer
if(3!==c.nodeType&&c.firstChild){while(3!==c.nodeType&&c.firstChild)c=c.firstChild
if(3===c.nodeType){l(b,c,0)
v(b,c,c.nodeValue.length)}}u=1===b.endOffset?2:b.endOffset-1-e}var y=u
do{l(b,c,u>=2?u-2:0)
v(b,c,u>=1?u-1:0)
u-=1
g=b.toString()}while(" "!==g&&""!==g&&160!==g.charCodeAt(0)&&u-2>=0&&g!==i)
if(a(b.toString(),i)){l(b,c,u)
v(b,c,y)
u+=1}else if(0===b.startOffset){l(b,c,0)
v(b,c,y)}else{l(b,c,u)
v(b,c,y)}f=b.toString()
"."===f.charAt(f.length-1)&&v(b,c,y-1)
f=b.toString().trim()
var w=f.match(h)
var x=o(t)
if(w){"www."===w[1]?w[1]=x+"://www.":/@$/.test(w[1])&&!/^mailto:/.test(w[1])&&(w[1]="mailto:"+w[1])
s=t.selection.getBookmark()
t.selection.setRng(b)
t.execCommand("createlink",false,w[1]+w[2])
false!==p&&t.dom.setAttrib(t.selection.getNode(),"target",p)
t.selection.moveToBookmark(s)
t.nodeChanged()}}
var d=function(t){var n
t.on("keydown",(function(e){if(13===e.keyCode)return c(t)}))
if(e.browser.isIE()){t.on("focus",(function(){if(!n){n=true
try{t.execCommand("AutoUrlDetect",false,true)}catch(t){}}}))
return}t.on("keypress",(function(e){if(41===e.keyCode)return i(t)}))
t.on("keyup",(function(e){if(32===e.keyCode)return u(t)}))}
function m(){t.add("autolink",(function(t){d(t)}))}m()})()}}])

//# sourceMappingURL=29-c-7cca5d7d96.js.map